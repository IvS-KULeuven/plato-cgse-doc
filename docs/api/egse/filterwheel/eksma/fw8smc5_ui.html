<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>egse.filterwheel.eksma.fw8smc5_ui API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>egse.filterwheel.eksma.fw8smc5_ui</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import argparse
import logging
import multiprocessing
import pickle
from pathlib import Path

import sys
import zmq
from PyQt5.QtCore import QThread, QObject, pyqtSignal, pyqtSlot, Qt, QSize, QRect, QLockFile
from PyQt5.QtGui import QFont, QIcon
from PyQt5.QtWidgets import QMainWindow, QApplication, QLabel, QFrame, QHBoxLayout, QGroupBox, QVBoxLayout, QGridLayout, \
    QLineEdit, QScrollArea, QWidget, QPushButton, QSpacerItem, QSizePolicy, QMessageBox
from zmq import ZMQError

from egse.filterwheel.eksma.fw8smc5 import CTRL_SETTINGS as FW_CTRL_SETTINGS
from egse.filterwheel.eksma.fw8smc5 import Fw8Smc5Proxy
from egse.gui.led import Led
from egse.lampcontrol.beaglebone.beaglebone import BeagleboneProxy
from egse.lampcontrol.beaglebone.beaglebone import CTRL_SETTINGS as BB_CTRL_SETTINGS
from egse.observer import Observer, Observable
from egse.powermeter.thorlabs.pm100a import CTRL_SETTINGS as PM100_CTRL_SETTINGS
from egse.resource import get_resource
from egse.setup import get_setup
from egse.shutter.thorlabs.sc10 import CTRL_SETTINGS as SC10_CTRL_SETTINGS
from egse.shutter.thorlabs.sc10 import Sc10Proxy
from egse.stages.arun.smd3 import CTRL_SETTINGS as SMD3_CTRL_SETTINGS
from egse.stages.arun.smd3 import Smd3Proxy
from egse.zmq_ser import connect_address

multiprocessing.current_process().name = &#39;fw8smc5_ui&#39;

logger = logging.getLogger(__name__)

class FilterWheelMonitoringWorker(QObject):
    
    fw_ri_signal        = pyqtSignal(float)
    fw_fwc_signal       = pyqtSignal(float)
    fw_pos_1_signal     = pyqtSignal(int)
    fw_pos_2_signal     = pyqtSignal(int)
    
    hartmann_status_signal = pyqtSignal(bool)
    
    shutter_status_signal = pyqtSignal(bool)
    
    pm100_power_signal    = pyqtSignal(float)
    
    lamp_on_signal          = pyqtSignal(bool)
    laser_on_signal         = pyqtSignal(bool)
    module_fault_signal     = pyqtSignal(bool)
    controller_fault_signal = pyqtSignal(bool)
    
    def __init__(self):
        super(FilterWheelMonitoringWorker, self).__init__()
        
        self.activate = False
        self.just_reconnected = True
        
        self.monitoring_socket = None
        self.sc10_monitoring_socket = None
        self.is_socket_connected = True
        self.monitoring_timeout = 0.5
        
        self.connect_socket()
        
        self.previous_fw_ri    = []
        self.previous_fw_fwc  = []
        self.previous_fw_pos_1 = []
        self.previous_fw_pos_2 = []
        
        self.previous_hartmann_status = []

        self.previous_shutter_status = []
        
        self.previous_pm100_power = []
        
        self.previous_laser_state = []
        self.previous_lamp_state = []
        self.previous_controller_fault = []
        self.previous_module_fault = []
        
    def connect_socket(self):
        &#34;&#34;&#34; Create a socket and connect to the monitoring port.
        &#34;&#34;&#34;
        try:
            transport   = FW_CTRL_SETTINGS.PROTOCOL
            hostname    = FW_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = FW_CTRL_SETTINGS.MONITORING_PORT
            fw_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = SC10_CTRL_SETTINGS.PROTOCOL
            hostname    = SC10_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = SC10_CTRL_SETTINGS.MONITORING_PORT
            sc10_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = SMD3_CTRL_SETTINGS.PROTOCOL
            hostname    = SMD3_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = SMD3_CTRL_SETTINGS.MONITORING_PORT
            smd3_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = PM100_CTRL_SETTINGS.PROTOCOL
            hostname    = PM100_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = PM100_CTRL_SETTINGS.MONITORING_PORT
            pm100_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = BB_CTRL_SETTINGS.PROTOCOL
            hostname    = BB_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = BB_CTRL_SETTINGS.MONITORING_PORT
            bb_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            self.monitoring_socket = zmq.Context().socket(zmq.SUB)
            self.monitoring_socket.connect(fw_monitoring_address)
            self.monitoring_socket.connect(sc10_monitoring_address)
            self.monitoring_socket.connect(smd3_monitoring_address)
            self.monitoring_socket.connect(pm100_monitoring_address)
            self.monitoring_socket.connect(bb_monitoring_address)
            self.monitoring_socket.setsockopt_string(zmq.SUBSCRIBE, &#34;&#34;)
            
            self.monitoring_timeout = 0.5
            
            self.is_socket_connected = True
            
        except:
            self.is_socket_connected = False
            
    def stop(self):
        
        &#34;&#34;&#34; Stop the monitoring worker.
        The monitoring socket is disconnected from the monitoring port and is then closed immediately.
        &#34;&#34;&#34;
        
        self.monitoring_socket.close()
        self.is_socket_connected = False
        
        self.active = False
        
    def start_process(self):
        &#34;&#34;&#34;Start updated the Filterwheel status&#34;&#34;&#34;
        self.run()
        
    @pyqtSlot()
    def run(self):
        &#34;&#34;&#34;Keep on checkin whether the Filterwheel state has changed
        
        If the Filterwheel status has changed, update it in the GUI
        Raises:
            Exception: ZMQ Error
        &#34;&#34;&#34;
        
        self.active = True
        while self.is_socket_connected and self.active:
            
            try:
                socket_list, _, exc_list = zmq.select([self.monitoring_socket], [], [], timeout=self.monitoring_timeout)

                if self.monitoring_socket in socket_list:
                    try:
                        pickle_string = self.monitoring_socket.recv()
                    except Exception:
                        raise Exception

                    monitoring_info = pickle.loads(pickle_string)

                    if &#39;fw8smc5_status&#39; in monitoring_info:
                        fw_ri       = monitoring_info[&#39;fw8smc5_status&#39;][&#39;RelativeIntensity&#39;]
                        fw_fwc      = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FullWellCapacity&#39;]
                        fw_pos_1    = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FW1Position&#39;]
                        fw_pos_2    = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FW2Position&#39;]
                        
                        if fw_ri != self.previous_fw_ri:
                            self.fw_ri_signal.emit(fw_ri)
                            
                        self.previous_fw_ri = fw_ri
                        
                        if fw_fwc != self.previous_fw_fwc:
                            self.fw_fwc_signal.emit(fw_fwc)
                            
                        self.previous_fw_fwc = fw_fwc
                        
                        if fw_pos_1 != self.previous_fw_pos_1:
                            self.fw_pos_1_signal.emit(fw_pos_1)
                        
                        self.previous_fw_pos_1 = fw_pos_1
                        
                        if fw_pos_2 != self.previous_fw_pos_2:
                            self.fw_pos_2_signal.emit(fw_pos_2)
                            
                        self.previous_fw_pos_2 = fw_pos_2
                        
                    if &#39;hartmann_status&#39; in monitoring_info:
                        hartmann_status = bool(monitoring_info[&#39;hartmann_status&#39;])
                        
                        if hartmann_status != self.previous_hartmann_status:
                            self.hartmann_status_signal.emit(hartmann_status)
                        
                        self.previous_hartmann_status = hartmann_status
                        
                    if &#39;shutter_state&#39; in monitoring_info:
                        shutter_status = bool(monitoring_info[&#39;shutter_state&#39;])
                        
                        if shutter_status != self.previous_shutter_status:
                            self.shutter_status_signal.emit(shutter_status)
                            
                        self.previous_shutter_status = shutter_status
                        
                    if &#39;pm100a_power&#39; in monitoring_info:
                        pm100_power = float(monitoring_info[&#39;pm100a_power&#39;])
                        
                        if pm100_power != self.previous_pm100_power:
                            self.pm100_power_signal.emit(pm100_power)
                            
                        self.previous_pm100_power = pm100_power
                    
                    if &#39;lamp_status&#39; in monitoring_info:
                        laser_state      = monitoring_info[&#39;lamp_status&#39;][&#39;laser_state&#39;]
                        lamp_state       = monitoring_info[&#39;lamp_status&#39;][&#39;lamp_state&#39;]
                        module_fault     = monitoring_info[&#39;lamp_status&#39;][&#39;module_fault&#39;]
                        controller_fault = monitoring_info[&#39;lamp_status&#39;][&#39;controller_fault&#39;]

                        if laser_state != self.previous_laser_state:
                            self.laser_on_signal.emit(laser_state)
                        
                        self.previous_laser_state = laser_state
                        if lamp_state != self.previous_lamp_state:
                            self.lamp_on_signal.emit(lamp_state)
                        
                        self.previous_lamp_state = lamp_state
                        if module_fault != self.previous_module_fault:
                            self.module_fault_signal.emit(module_fault)
                        
                        self.previous_module_fault = module_fault
                        if controller_fault != self.previous_controller_fault:
                            self.controller_fault_signal.emit(controller_fault)
                        
                        self.previous_controller_fault = controller_fault
                        
            except ZMQError as exc:
                raise exc

class OGSEWindow(QGroupBox):
    def __init__(self, setup):
        super().__init__()
        
        self.setObjectName(&#34;OGSE Window&#34;)
        
        self.gridLayout_3 = QGridLayout(self)
        self.gridLayout_3.setObjectName(&#34;gridLayout_3&#34;)
        self.groupBox = QGroupBox(self)
        self.groupBox.setTitle(&#34;&#34;)
        self.groupBox.setObjectName(&#34;groupBox&#34;)
        self.horizontalLayout_4 = QHBoxLayout(self.groupBox)
        self.horizontalLayout_4.setObjectName(&#34;horizontalLayout_4&#34;)
        self.gridLayout_4 = QGridLayout()
        self.label_3 = QLabel(self.groupBox)
        self.label_3.setObjectName(&#34;label_3&#34;)
        self.label_3.setText(&#34;Relative intensity: &#34;)
        self.gridLayout_4.addWidget(self.label_3, 0, 0, 1, 1)
        self.lineEdit_3 = QLineEdit(self.groupBox)
        self.lineEdit_3.setMaximumSize(QSize(250, 16777215))
        self.lineEdit_3.setReadOnly(True)
        self.lineEdit_3.setObjectName(&#34;lineEdit_3&#34;)
        self.gridLayout_4.addWidget(self.lineEdit_3, 0, 1, 1, 1)
        self.label_4 = QLabel(self.groupBox)
        self.label_4.setObjectName(&#34;label_4&#34;)
        self.label_4.setText(&#34;Full well capacity: &#34;)
        self.gridLayout_4.addWidget(self.label_4, 1, 0, 1, 1)
        self.lineEdit_4 = QLineEdit(self.groupBox)
        self.lineEdit_4.setMaximumSize(QSize(250, 16777215))
        self.lineEdit_4.setReadOnly(True)
        self.lineEdit_4.setObjectName(&#34;lineEdit_4&#34;)
        self.gridLayout_4.addWidget(self.lineEdit_4, 1, 1, 1, 1)
        
        self.pushButton_34 = QPushButton()
        self.pushButton_34.setText(&#34;Home&#34;)
        self.gridLayout_4.addWidget(self.pushButton_34, 2, 0, 1, 2)    
        self.pushButton_32 = QPushButton()
        self.pushButton_32.setMinimumWidth(150)
        self.pushButton_32.setText(&#34;Decrease intensity&#34;)
        self.gridLayout_4.addWidget(self.pushButton_32, 3, 0, 1, 1)
        self.pushButton_33 = QPushButton()
        self.pushButton_33.setMinimumWidth(150)
        self.pushButton_33.setText(&#34;Increase Intensity&#34;)
        self.gridLayout_4.addWidget(self.pushButton_33, 3, 1, 1, 1)
        spacerItem_2 = QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.gridLayout_4.addItem(spacerItem_2, 4, 0, 1, 2)
        self.horizontalLayout_4.addLayout(self.gridLayout_4)
        
        self.gridLayout = QGridLayout()
        self.gridLayout.setObjectName(&#34;gridLayout&#34;)
        self.scrollArea = QScrollArea(self.groupBox)
        self.scrollArea.setMinimumSize(QSize(550, 0))
        self.scrollArea.setWidgetResizable(True)
        self.scrollArea.setObjectName(&#34;scrollArea&#34;)
        self.scrollAreaWidgetContents = QWidget()
        self.scrollAreaWidgetContents.setGeometry(QRect(0, 0, 546, 178))
        self.scrollAreaWidgetContents.setObjectName(&#34;scrollAreaWidgetContents&#34;)
        self.verticalLayout_6 = QVBoxLayout(self.scrollAreaWidgetContents)
        self.verticalLayout_6.setObjectName(&#34;verticalLayout_6&#34;)
        self.gridLayout_2 = QGridLayout()
        self.gridLayout_2.setObjectName(&#34;gridLayout_2&#34;)
        self.horizontalLayout_16 = QHBoxLayout()
        self.label_12 = QLabel(&#34;Search: &#34;)
        self.horizontalLayout_16.addWidget(self.label_12)
        self.lineEdit_6 = QLineEdit()
        self.horizontalLayout_16.addWidget(self.lineEdit_6)
        self.verticalLayout_6.addLayout(self.horizontalLayout_16)
        
        try:
            ri_list = setup.gse.ogse.calibration.relative_intensity_by_wheel
            
            row = 0
            column = 0
            self.ri_pushButtons = {}
            for idx, value in enumerate(ri_list.values()):
                self.ri_pushButtons[f&#34;{value}_{idx}&#34;] = QPushButton(self.scrollAreaWidgetContents)
                self.ri_pushButtons[f&#34;{value}_{idx}&#34;].setText(f&#34;{value:5e}&#34;)
                self.ri_pushButtons[f&#34;{value}_{idx}&#34;].setObjectName(f&#34;{value:5e}&#34;)
                self.gridLayout_2.addWidget(self.ri_pushButtons[f&#34;{value}_{idx}&#34;], row, column % 4, 1, 1)
                column +=  1
                if column &gt;= 4 and column % 4 == 0:
                    row += 1
        except Exception as e:
            logger.exception(&#34;Could not generate the relative intensity buttons. This is most likely &#34;\
                            f&#34;caused by an incorrect setup.&#34;)
            sys.exit()
                
        spacerItem_3 = QSpacerItem(20, 383, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.gridLayout_2.addItem(spacerItem_3, row+1, 0)     
        self.verticalLayout_6.addLayout(self.gridLayout_2)
        self.scrollArea.setWidget(self.scrollAreaWidgetContents)
        self.gridLayout.addWidget(self.scrollArea, 0, 0, 1, 1)
        self.horizontalLayout_4.addLayout(self.gridLayout)
        self.gridLayout_3.addWidget(self.groupBox, 1, 0, 1, 1)
        self.horizontalLayout = QHBoxLayout()
        self.horizontalLayout.setObjectName(&#34;horizontalLayout&#34;)
        self.verticalLayout_3 = QVBoxLayout()
        self.verticalLayout_3.setObjectName(&#34;verticalLayout_3&#34;)
        self.groupBox_3 = QGroupBox(self)
        self.groupBox_3.setMaximumSize(QSize(16777215, 370))
        self.groupBox_3.setTitle(&#34;&#34;)
        self.groupBox_3.setObjectName(&#34;groupBox_3&#34;)
        self.verticalLayout_4 = QVBoxLayout(self.groupBox_3)
        self.verticalLayout_4.setObjectName(&#34;verticalLayout_4&#34;)
        self.label = QLabel(self.groupBox_3)
        self.label.setMaximumSize(QSize(16777215, 50))
        self.label.setText(&#34;Filterwheel 1&#34;)
        font = QFont()
        font.setPointSize(20)
        self.label.setFont(font)
        self.label.setAlignment(Qt.AlignCenter)
        self.label.setObjectName(&#34;label&#34;)
        self.verticalLayout_4.addWidget(self.label)
        self.lineEdit = QLineEdit(self.groupBox_3)
        self.lineEdit.setMinimumSize(QSize(150, 290))
        font = QFont()
        font.setPointSize(150)
        self.lineEdit.setFont(font)
        self.lineEdit.setAlignment(Qt.AlignCenter)
        self.lineEdit.setReadOnly(True)
        self.lineEdit.setObjectName(&#34;lineEdit&#34;)
        self.verticalLayout_4.addWidget(self.lineEdit)
        self.verticalLayout_3.addWidget(self.groupBox_3)
        self.groupBox_2 = QGroupBox(self)
        self.groupBox_2.setMaximumSize(QSize(16777215, 50))
        self.groupBox_2.setTitle(&#34;&#34;)
        self.groupBox_2.setObjectName(&#34;groupBox_2&#34;)
        self.horizontalLayout_2 = QHBoxLayout(self.groupBox_2)
        self.horizontalLayout_2.setObjectName(&#34;horizontalLayout_2&#34;)

        self.pushButton = QPushButton(self.groupBox_2)
        self.pushButton.setMinimumSize(QSize(50, 0))
        self.pushButton.setObjectName(&#34;fw1_&lt;&#34;)
        self.pushButton.setText(&#34;&lt;&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton)
        
        self.fw1_positions = {}
        
        for i in range(0, 8):
            self.fw1_positions[f&#34;fw1_{i}&#34;] = QPushButton(self.groupBox_2)
            self.fw1_positions[f&#34;fw1_{i}&#34;].setMinimumSize(QSize(30, 0))
            self.fw1_positions[f&#34;fw1_{i}&#34;].setObjectName(f&#34;fw1_{i}&#34;)
            self.fw1_positions[f&#34;fw1_{i}&#34;].setText(f&#34;{i}&#34;)
            self.horizontalLayout_2.addWidget(self.fw1_positions[f&#34;fw1_{i}&#34;])

        self.pushButton_2 = QPushButton(self.groupBox_2)
        self.pushButton_2.setMinimumSize(QSize(50, 0))
        self.pushButton_2.setObjectName(&#34;fw1_&gt;&#34;)
        self.pushButton_2.setText(&#34;&gt;&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton_2)
        self.verticalLayout_3.addWidget(self.groupBox_2)
        self.horizontalLayout.addLayout(self.verticalLayout_3)
        self.verticalLayout_2 = QVBoxLayout()
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.groupBox_4 = QGroupBox(self)
        self.groupBox_4.setMaximumSize(QSize(16777215, 370))
        self.groupBox_4.setTitle(&#34;&#34;)
        self.groupBox_4.setObjectName(&#34;groupBox_4&#34;)
        self.verticalLayout_5 = QVBoxLayout(self.groupBox_4)
        self.verticalLayout_5.setObjectName(&#34;verticalLayout_5&#34;)
        self.label_2 = QLabel(self.groupBox_4)
        self.label_2.setMaximumSize(QSize(16777215, 50))
        self.label_2.setText(&#34;Filterwheel 2&#34;)
        font = QFont()
        font.setPointSize(20)
        self.label_2.setFont(font)
        self.label_2.setAlignment(Qt.AlignCenter)
        self.label_2.setObjectName(&#34;label_2&#34;)
        self.verticalLayout_5.addWidget(self.label_2)
        self.lineEdit_2 = QLineEdit(self.groupBox_4)
        self.lineEdit_2.setMinimumSize(QSize(150, 290))
        font = QFont()
        font.setPointSize(150)
        self.lineEdit_2.setFont(font)
        self.lineEdit_2.setAlignment(Qt.AlignCenter)
        self.lineEdit_2.setReadOnly(True)
        self.lineEdit_2.setObjectName(&#34;lineEdit_2&#34;)
        self.verticalLayout_5.addWidget(self.lineEdit_2)
        self.verticalLayout_2.addWidget(self.groupBox_4)
        self.groupBox_5 = QGroupBox(self)
        self.groupBox_5.setMaximumSize(QSize(16777215, 50))
        self.groupBox_5.setTitle(&#34;&#34;)
        self.groupBox_5.setObjectName(&#34;groupBox_5&#34;)
        self.horizontalLayout_3 = QHBoxLayout(self.groupBox_5)
        self.horizontalLayout_3.setObjectName(&#34;horizontalLayout_3&#34;)
        self.pushButton_20 = QPushButton(self.groupBox_5)
        self.pushButton_20.setMinimumSize(QSize(50, 0))
        self.pushButton_20.setObjectName(&#34;fw2_&lt;&#34;)
        self.pushButton_20.setText(&#34;&lt;&#34;)
        self.horizontalLayout_3.addWidget(self.pushButton_20)
        
        self.fw2_positions = {}
        for i in range(0, 8):
            self.fw2_positions[f&#34;fw2_{i}&#34;] = QPushButton(self.groupBox_5)
            self.fw2_positions[f&#34;fw2_{i}&#34;].setMinimumSize(QSize(30, 0))
            self.fw2_positions[f&#34;fw2_{i}&#34;].setObjectName(f&#34;fw2_{i}&#34;)
            self.fw2_positions[f&#34;fw2_{i}&#34;].setText(f&#34;{i}&#34;)
            self.horizontalLayout_3.addWidget(self.fw2_positions[f&#34;fw2_{i}&#34;])
        
        self.pushButton_18 = QPushButton(self.groupBox_5)
        self.pushButton_18.setMinimumSize(QSize(50, 0))
        self.pushButton_18.setObjectName(&#34;fw2_&gt;&#34;)
        self.pushButton_18.setText(&#34;&gt;&#34;)
        self.horizontalLayout_3.addWidget(self.pushButton_18)
        self.verticalLayout_2.addWidget(self.groupBox_5)
        self.horizontalLayout.addLayout(self.verticalLayout_2)
        self.gridLayout_3.addLayout(self.horizontalLayout, 0, 0, 1, 1)
        self.groupBox_6 = QGroupBox(self)
        self.groupBox_6.setMinimumSize(QSize(200, 0))
        self.groupBox_6.setTitle(&#34;&#34;)
        self.groupBox_6.setObjectName(&#34;groupBox_6&#34;)
        self.verticalLayout = QVBoxLayout(self.groupBox_6)
        self.verticalLayout.setObjectName(&#34;verticalLayout&#34;)
        self.horizontalLayout_5 = QHBoxLayout()
        self.horizontalLayout_5.setObjectName(&#34;horizontalLayout_5&#34;)
        self.widget = Led(self.groupBox_6)
        self.widget.setMinimumSize(QSize(25, 25))
        self.widget.setMaximumSize(QSize(25, 25))
        self.horizontalLayout_5.addWidget(self.widget)
        self.label_5 = QLabel(self.groupBox_6)
        self.label_5.setMinimumSize(QSize(0, 0))
        self.label_5.setObjectName(&#34;label_5&#34;)
        self.label_5.setText(&#34;Shutter control&#34;)
        self.horizontalLayout_5.addWidget(self.label_5)
        self.verticalLayout.addLayout(self.horizontalLayout_5)
        self.horizontalLayout_6 = QHBoxLayout()
        self.horizontalLayout_6.setObjectName(&#34;horizontalLayout_6&#34;)
        self.pushButton_25 = QPushButton(self.groupBox_6)
        self.pushButton_25.setObjectName(&#34;pushButton_25&#34;)
        self.pushButton_25.setText(&#34;Open&#34;)
        self.pushButton_25.setEnabled(False)
        self.horizontalLayout_6.addWidget(self.pushButton_25)
        self.pushButton_26 = QPushButton(self.groupBox_6)
        self.pushButton_26.setObjectName(&#34;pushButton_26&#34;)
        self.pushButton_26.setText(&#34;Close&#34;)
        self.pushButton_26.setEnabled(False)
        self.horizontalLayout_6.addWidget(self.pushButton_26)
        self.verticalLayout.addLayout(self.horizontalLayout_6)
        self.line = QFrame(self.groupBox_6)
        self.line.setFrameShape(QFrame.HLine)
        self.line.setFrameShadow(QFrame.Sunken)
        self.line.setObjectName(&#34;line&#34;)
        self.verticalLayout.addWidget(self.line)
        self.horizontalLayout_7 = QHBoxLayout()
        self.horizontalLayout_7.setObjectName(&#34;horizontalLayout_7&#34;)
        self.widget_2 = Led(self.groupBox_6)
        self.widget_2.setMinimumSize(QSize(25, 25))
        self.widget_2.setMaximumSize(QSize(25, 25))
        self.widget_2.setObjectName(&#34;widget_2&#34;)
        self.horizontalLayout_7.addWidget(self.widget_2)
        self.label_6 = QLabel(self.groupBox_6)
        self.label_6.setObjectName(&#34;label_6&#34;)
        self.label_6.setText(&#34;Hartmann control&#34;)
        self.horizontalLayout_7.addWidget(self.label_6)
        self.verticalLayout.addLayout(self.horizontalLayout_7)
        self.horizontalLayout_8 = QHBoxLayout()
        self.horizontalLayout_8.setObjectName(&#34;horizontalLayout_8&#34;)
        self.pushButton_27 = QPushButton(self.groupBox_6)
        self.pushButton_27.setObjectName(&#34;pushButton_27&#34;)
        self.pushButton_27.setText(&#34;Unmask&#34;)
        self.pushButton_27.setEnabled(False)
        self.horizontalLayout_8.addWidget(self.pushButton_27)
        self.pushButton_28 = QPushButton(self.groupBox_6)
        self.pushButton_28.setObjectName(&#34;pushButton_28&#34;)
        self.pushButton_28.setText(&#34;Mask&#34;)
        self.pushButton_28.setEnabled(False)
        self.horizontalLayout_8.addWidget(self.pushButton_28)
        self.verticalLayout.addLayout(self.horizontalLayout_8)
        self.line_2 = QFrame(self.groupBox_6)
        self.line_2.setFrameShape(QFrame.HLine)
        self.line_2.setFrameShadow(QFrame.Sunken)
        self.line_2.setObjectName(&#34;line_2&#34;)
        self.verticalLayout.addWidget(self.line_2)
        self.horizontalLayout_9 = QHBoxLayout()
        self.horizontalLayout_9.setObjectName(&#34;horizontalLayout_9&#34;)
        self.label_7 = QLabel(self.groupBox_6)
        self.label_7.setObjectName(&#34;label_7&#34;)
        self.label_7.setText(&#34;Powermeter&#34;)
        self.horizontalLayout_9.addWidget(self.label_7)
        self.verticalLayout.addLayout(self.horizontalLayout_9)
        self.lineEdit_5 = QLineEdit(self.groupBox_6)
        self.lineEdit_5.setObjectName(&#34;lineEdit_5&#34;)
        self.lineEdit_5.setEnabled(True)
        self.lineEdit_5.setReadOnly(True)
        self.verticalLayout.addWidget(self.lineEdit_5)
        
        self.line_3 = QFrame(self.groupBox_6)
        self.line_3.setFrameShape(QFrame.HLine)
        self.line_3.setFrameShadow(QFrame.Sunken)
        self.line_3.setObjectName(&#34;line_3&#34;)
        self.verticalLayout.addWidget(self.line_3)
        self.label_13 = QLabel(self.groupBox_6)
        self.label_13.setObjectName(&#34;label_8&#34;)
        self.label_13.setText(&#34;Lamp controller&#34;)
        self.verticalLayout.addWidget(self.label_13)
        self.horizontalLayout_10 = QHBoxLayout()
        self.widget_3 = Led(self.groupBox_6)
        self.widget_3.setMinimumSize(QSize(25, 25))
        self.widget_3.setMaximumSize(QSize(25, 25))
        self.widget_3.setObjectName(&#34;widget_3&#34;)
        self.horizontalLayout_10.addWidget(self.widget_3)
        self.label_8 = QLabel(self.groupBox_6)
        self.label_8.setObjectName(&#34;label_8&#34;)
        self.label_8.setText(&#34;Laser on&#34;)
        self.horizontalLayout_10.addWidget(self.label_8)
        self.verticalLayout.addLayout(self.horizontalLayout_10)
        
        self.horizontalLayout_11 = QHBoxLayout()
        self.widget_4 = Led(self.groupBox_6)
        self.widget_4.setMinimumSize(QSize(25, 25))
        self.widget_4.setMaximumSize(QSize(25, 25))
        self.widget_4.setObjectName(&#34;widget_4&#34;)
        self.horizontalLayout_11.addWidget(self.widget_4)
        self.label_9 = QLabel(self.groupBox_6)
        self.label_9.setObjectName(&#34;label_9&#34;)
        self.label_9.setText(&#34;Lamp on&#34;)
        self.horizontalLayout_11.addWidget(self.label_9)
        self.verticalLayout.addLayout(self.horizontalLayout_11)
        
        self.horizontalLayout_12 = QHBoxLayout()
        self.widget_5 = Led(self.groupBox_6)
        self.widget_5.setMinimumSize(QSize(25, 25))
        self.widget_5.setMaximumSize(QSize(25, 25))
        self.widget_5.setObjectName(&#34;widget_5&#34;)
        self.horizontalLayout_12.addWidget(self.widget_5)
        self.label_10 = QLabel(self.groupBox_6)
        self.label_10.setObjectName(&#34;label_10&#34;)
        self.label_10.setText(&#34;Controller fault&#34;)
        self.horizontalLayout_12.addWidget(self.label_10)
        self.verticalLayout.addLayout(self.horizontalLayout_12)
        
        self.horizontalLayout_13 = QHBoxLayout()
        self.widget_6 = Led(self.groupBox_6)
        self.widget_6.setMinimumSize(QSize(25, 25))
        self.widget_6.setMaximumSize(QSize(25, 25))
        self.widget_6.setObjectName(&#34;widget_6&#34;)
        self.horizontalLayout_13.addWidget(self.widget_6)
        self.label_11 = QLabel(self.groupBox_6)
        self.label_11.setObjectName(&#34;label_11&#34;)
        self.label_11.setText(&#34;Lamp module fault&#34;)
        self.horizontalLayout_13.addWidget(self.label_11)
        self.verticalLayout.addLayout(self.horizontalLayout_13)
        
        self.horizontalLayout_14 = QHBoxLayout()
        self.pushButton_29 = QPushButton(self.groupBox_6)
        self.pushButton_29.setObjectName(&#34;pushButton_29&#34;)
        self.pushButton_29.setText(&#34;Turn on&#34;)
        self.pushButton_29.setEnabled(False)
        self.horizontalLayout_14.addWidget(self.pushButton_29)
        self.pushButton_30 = QPushButton(self.groupBox_6)
        self.pushButton_30.setObjectName(&#34;pushButton_30&#34;)
        self.pushButton_30.setText(&#34;Turn off&#34;)
        self.pushButton_30.setEnabled(False)
        self.horizontalLayout_14.addWidget(self.pushButton_30)
        self.verticalLayout.addLayout(self.horizontalLayout_14)
        
        self.horizontalLayout_15 = QHBoxLayout()
        self.pushButton_31 = QPushButton(self.groupBox_6)
        self.pushButton_31.setObjectName(&#34;pushButton_31&#34;)
        self.pushButton_31.setText(&#34;Fix controller fault&#34;)
        self.pushButton_31.setEnabled(False)
        self.horizontalLayout_15.addWidget(self.pushButton_31)
        self.verticalLayout.addLayout(self.horizontalLayout_15)
 
        spacerItem = QSpacerItem(20, 383, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem)
        self.gridLayout_3.addWidget(self.groupBox_6, 0, 1, 2, 1)
        
        
class OGSEUIView(QMainWindow, Observable):
    WHEEL_POSITIONS = 8
    TOTAL_POSITIONS = WHEEL_POSITIONS * WHEEL_POSITIONS
    ROTATION_STEPS = 600
    POSITION_STEPS  = ROTATION_STEPS // WHEEL_POSITIONS
    
    def __init__(self):
        super().__init__()
        self.resize(1089, 650)
        self.setMaximumSize(1100, 850)
        self.setWindowTitle(&#34;Filterwheel GUI&#34;)
        
        self.fw_monitoring_thread = QThread(self)
        self.fw_monitoring_worker = FilterWheelMonitoringWorker()
        self.fw_monitoring_worker.moveToThread(self.fw_monitoring_thread)

        self.fw_monitoring_worker.fw_ri_signal.connect(self.on_fw_ri_changed)
        self.fw_monitoring_worker.fw_fwc_signal.connect(self.on_fw_fwc_changed)
        self.fw_monitoring_worker.fw_pos_1_signal.connect(self.on_fw_pos_1_changed)
        self.fw_monitoring_worker.fw_pos_2_signal.connect(self.on_fw_pos_2_changed)
        
        self.fw_monitoring_worker.shutter_status_signal.connect(self.on_shutter_changed)
        self.fw_monitoring_worker.hartmann_status_signal.connect(self.on_hartmann_changed)
        self.fw_monitoring_worker.pm100_power_signal.connect(self.on_power_meter_changed)
        
        self.fw_monitoring_worker.laser_on_signal.connect(self.on_laser_changed)
        self.fw_monitoring_worker.lamp_on_signal.connect(self.on_lamp_changed)
        self.fw_monitoring_worker.module_fault_signal.connect(self.on_module_fault_changed)
        self.fw_monitoring_worker.controller_fault_signal.connect(self.on_controller_fault_changed)
        
        self.fw_monitoring_thread.started.connect(self.fw_monitoring_worker.start_process)
        self.fw_monitoring_thread.start()

        self.initUI()
        
    def initUI(self):
        setup = get_setup()
        self.groupbox = OGSEWindow(setup)
        self.setCentralWidget(self.groupbox)
        
        # Connect relative intensity
        for button in self.groupbox.ri_pushButtons.values():
            button.clicked.connect(self.select_relative_intensity)
        
        # Connect filterwheel 1 buttons
        for button in self.groupbox.fw1_positions.values():
            button.clicked.connect(self.select_position_wheel)

        # Connect filterwheel 2 buttons
        for button in self.groupbox.fw2_positions.values():
            button.clicked.connect(self.select_position_wheel)

        self.groupbox.pushButton_25.clicked.connect(self.toggle_shutter_control)
        self.groupbox.pushButton_26.clicked.connect(self.toggle_shutter_control)

        self.groupbox.pushButton_27.clicked.connect(self.toggle_hartmann_control)
        self.groupbox.pushButton_28.clicked.connect(self.toggle_hartmann_control)

        self.groupbox.pushButton_29.clicked.connect(self.toggle_lamp_control)
        self.groupbox.pushButton_30.clicked.connect(self.toggle_lamp_control)
        self.groupbox.pushButton_31.clicked.connect(self.clear_lamp_fault)
        
        self.groupbox.lineEdit_6.textChanged.connect(self.update_scrollArea)
        
        self.groupbox.pushButton_34.clicked.connect(self.home_filterwheel)
        self.groupbox.pushButton_32.clicked.connect(self.decrease_intensity_wheel)
        self.groupbox.pushButton_33.clicked.connect(self.increase_intensity_wheel)
        
        self.groupbox.pushButton_20.clicked.connect(self.decrease_position_wheel)
        self.groupbox.pushButton_18.clicked.connect(self.increase_position_wheel)
        
        self.groupbox.pushButton.clicked.connect(self.decrease_position_wheel)
        self.groupbox.pushButton_2.clicked.connect(self.increase_position_wheel)
        
        self.home_offsets = setup.gse.filterwheel.home_offset

    def select_relative_intensity(self):
        sender = self.sender()
        try:
            self.actionObservers({&#34;set_relative_intensity&#34; : [float(sender.text())]})
        except Exception as e:
            warning_popup(f&#34;set_relative_intensity {sender.text()}&#34;, e)
    
    def increase_position_wheel(self):
        sender  = self.sender()
        name    = sender.objectName()
        wheel = 0 if &#39;fw1&#39; in name else 1
        if &#39;fw1&#39; in name:
            current_pos = self.groupbox.lineEdit.text()
        elif &#39;fw2&#39; in name:
            current_pos = self.groupbox.lineEdit_2.text()
        
        try:
            self.actionObservers({&#39;set_position_wheel&#39; : [int(wheel), int(current_pos) + 1]})
        except Exception as e:
            warning_popup(f&#34;set_position_wheel {wheel} {int(current_pos) + 1}&#34;, e)
    
    def decrease_position_wheel(self):
        sender  = self.sender()
        name    = sender.objectName()
        wheel = 0 if &#39;fw1&#39; in name else 1
        if &#39;fw1&#39; in name:
            current_pos = self.groupbox.lineEdit.text()
        elif &#39;fw2&#39; in name:
            current_pos = self.groupbox.lineEdit_2.text()
        
        try:
            self.actionObservers({&#39;set_position_wheel&#39; : [int(wheel), int(current_pos) - 1]})
        except Exception as e:
            warning_popup(f&#34;set_position_wheel {wheel} {int(current_pos) - 1}&#34;, e)
    
    def increase_intensity_wheel(self):
        try:
            self.actionObservers({&#34;increase_intensity&#34;:[]})
        except Exception as e:
            warning_popup(f&#34;increase_intensity&#34;, e)
    
    def decrease_intensity_wheel(self):
        try:
            self.actionObservers({&#34;decrease_intensity&#34;:[]})
        except Exception as e:
            warning_popup(f&#34;decrease_intensity&#34;, e)
    
    def home_filterwheel(self):
        try:
            self.actionObservers({&#34;home_filterwheel&#34;:[]})
        except Exception as e:
            warning_popup(f&#34;home_filterwheel&#34;, e)
    
    def select_position_wheel(self):
        sender = self.sender()
        wheel = sender.objectName().split(&#34;_&#34;)[0]
        wheel = 0 if wheel == &#34;fw1&#34; else 1
        lens = sender.objectName().split(&#34;_&#34;)[1]
        try:
            self.actionObservers({&#34;set_position_wheel&#34; : [int(wheel), int(lens)]})
        except Exception as e:
            warning_popup(f&#34;set_position_wheel {wheel} {lens}&#34;, e)
    
    def toggle_shutter_control(self):
        try:
            self.actionObservers({&#39;set_shutter&#39; : []})
        except Exception as e:
            warning_popup(f&#34;set_shutter&#34;, e)

    def toggle_hartmann_control(self):
        sender = self.sender()
        state = True if sender.text() == &#39;Unmask&#39; else False
        
        try:
            self.actionObservers({&#39;set_hartmann&#39; : [state]})
        except Exception as e:
            warning_popup(f&#34;set_hartmann {state}&#34;, e)
    
    def toggle_lamp_control(self):
        sender = self.sender()
        state = True if &#39;on&#39; in sender.text() else False
        
        try:
            self.actionObservers({&#39;set_lamp&#39; : [state]})
        except Exception as e:
            warning_popup(f&#34;set_lamp {state}&#34;, e)
    
    def clear_lamp_fault(self):
        try:
            self.actionObservers({&#39;fix_controller_fault&#39;: []})
        except Exception as e:
            warning_popup(&#34;fix_controller_fault&#34;, e)
    
    def update_scrollArea(self, text):
        for button in self.groupbox.ri_pushButtons.values():
            if text in button.text():
                button.show()
            else:
                button.hide()
        
        row     = 0
        column  = 0
        for button in self.groupbox.ri_pushButtons.values():
            self.groupbox.gridLayout_2.removeWidget(button)
            if button.isVisible():
                self.groupbox.gridLayout_2.addWidget(button, row, column % 4)
                column += 1
                if column &gt;= 4 and column % 4 == 0:
                    row += 1

    
    def on_fw_ri_changed(self, monitoring_info: float):
        self.groupbox.lineEdit_3.setText(f&#34;{monitoring_info:4e}&#34;)
    
    def on_fw_fwc_changed(self, monitoring_info: float):
        self.groupbox.lineEdit_4.setText(f&#34;{monitoring_info:4e}&#34;)
    
    def on_fw_pos_1_changed(self, monitoring_info: int):
        self.groupbox.lineEdit.setText(f&#34;{(monitoring_info - self.home_offsets[0]) // self.POSITION_STEPS % self.WHEEL_POSITIONS}&#34;)
    
    def on_fw_pos_2_changed(self, monitoring_info: int):
        self.groupbox.lineEdit_2.setText(f&#34;{(monitoring_info - self.home_offsets[1]) // self.POSITION_STEPS % self.WHEEL_POSITIONS}&#34;)

    def on_shutter_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget.set_color(1)
            self.groupbox.pushButton_25.setEnabled(False)
            self.groupbox.pushButton_26.setEnabled(True)
        else:
            self.groupbox.widget.set_color(3)
            self.groupbox.pushButton_25.setEnabled(True)
            self.groupbox.pushButton_26.setEnabled(False)
    
    def on_hartmann_changed(self, monitoring_info: bool):
        if not monitoring_info:
            self.groupbox.widget_2.set_color(1)
            self.groupbox.pushButton_27.setEnabled(False)
            self.groupbox.pushButton_28.setEnabled(True)
        else:
            self.groupbox.widget_2.set_color(3)
            self.groupbox.pushButton_27.setEnabled(True)
            self.groupbox.pushButton_28.setEnabled(False)
    
    def on_power_meter_changed(self, monitoring_info):
            self.groupbox.lineEdit_5.setText(f&#39;{monitoring_info:.3e} W&#39;)
    
    def on_laser_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_3.set_color(1)
            self.groupbox.pushButton_29.setEnabled(False)
            self.groupbox.pushButton_30.setEnabled(True)
        else:
            self.groupbox.widget_3.set_color(3)
            self.groupbox.pushButton_29.setEnabled(True)
            self.groupbox.pushButton_30.setEnabled(False)
        
    
    def on_lamp_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_4.set_color(1)
        else:
            self.groupbox.widget_4.set_color(3)
    
    def on_module_fault_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_5.set_color(2)
        else:
            self.groupbox.widget_5.set_color(1)
    
    def on_controller_fault_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_6.set_color(2)
            self.groupbox.pushButton_31.setEnabled(True) # Change to true when implemented and tested
        else:
            self.groupbox.widget_6.set_color(1)
            self.groupbox.pushButton_31.setEnabled(False)
    
def warning_popup(command, error):
    msgBox = QMessageBox()
    msgBox.setWindowTitle(&#34;OGSE error occured&#34;)
    msgBox.setIcon(QMessageBox.Warning)
    msgBox.setText(f&#34;An error occured while executing: {command}&#34;)
    msgBox.setInformativeText(f&#34;{error}&#34;)
    msgBox.setStandardButtons(QMessageBox.Ok)
    msgBox.exec_()
   
class OGSEUIModel:
    def __init__(self, mode):
        pass
    
    def has_commands(self):
        if self.mode == &#39;proxy&#39;:
            with Fw8Smc5Proxy() as fw:
                fw.has_commands()
            
        return True
                
    
    def load_commands(self):
        if self.mode == &#39;proxy&#39;:
            with Fw8Smc5Proxy() as fw:
                fw.load_commands()
    
    def is_simulator(self):
        with Fw8Smc5Proxy() as fw:
            fw.is_simulator()

    
    def is_connected(self):
        with Fw8Smc5Proxy() as fw:
            fw.is_cs_connected()
    
    def reconnect(self):
        if self.mode == &#34;proxy&#34;:
            with Fw8Smc5Proxy() as fw:
                fw.reconnect()
            return self.fw.is_cs_connected()
        return False
    
    def disconnect(self):
        if self.mode == &#34;proxy&#34;:
            with Fw8Smc5Proxy() as fw:
                return fw.disconnect_cs()

        elif self.mode == &#39;simulator&#39;:
            return self.fw.disconnect()
        
    def set_position_wheel(self, id, position):
        with Fw8Smc5Proxy() as fw:
            fw.set_position_wheel(id, position)
    
    def set_relative_intensity(self, rel_intensity):
        with Fw8Smc5Proxy() as fw:
            fw.set_relative_intensity(rel_intensity)
            
    def toggle_shutter(self):
        with Sc10Proxy() as sc10:
            sc10.toggle_enable()
    
    def set_hartmann(self, state):
        with Smd3Proxy() as smd3:
            smd3.move_mask_fov(state)
    
    def increase_position_wheel(self):
        with Fw8Smc5Proxy() as fw:
            fw.intensity_level_up()
    
    def decrease_position_wheel(self):
        with Fw8Smc5Proxy() as fw:
            fw.intensity_level_down()
    
    def home_filterwheel(self):
        with Fw8Smc5Proxy() as fw:
            fw.home()
            
    def set_lamp(self, state):
        with BeagleboneProxy() as bb:
            bb.set_lamp(state)
            
    def fix_controller_fault(self):
        with BeagleboneProxy() as bb:
            bb.fix_controller_fault()
        
        
class OGSEUIController(Observer):
    def __init__(self, model: OGSEUIModel, view: OGSEUIView):
        self.model  = model
        self.view   = view
        self.view.addObserver(self)
        
    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():

                logger.debug(&#34;Reconnecting the Heater model.&#34;)

                if self.model.reconnect():

                    self.view.set_connection_state(True)

                    if not self.model.has_commands():

                        self.model.load_commands()

                else:
                    self.view.reconnect_action.setChecked(False)
            else:

                logger.debug(&#34;Disconnecting the Heater model.&#34;)
                self.model.disconnect()
                self.view.set_connection_state(False)

            return
        
    def do(self, actions):
        for action, value in actions.items():
            logger.debug(f&#34;do {action} with {value}&#34;)
            
            if action == &#34;set_relative_intensity&#34;:
                rel_intensity = value[0]
                
                self.model.set_relative_intensity(rel_intensity)
            if action == &#34;set_position_wheel&#34;:
                idx = value[0]
                position = value[1]
                
                self.model.set_position_wheel(idx, position)
                
            if action == &#39;set_shutter&#39;:
                self.model.toggle_shutter()
            
            if action == &#39;set_hartmann&#39;:
                state = value[0]
                
                self.model.set_hartmann(state)
            if action == &#34;increase_intensity&#34;:
                self.model.increase_position_wheel()
            if action == &#34;decrease_intensity&#34;:
                self.model.decrease_position_wheel()
            if action == &#34;home_filterwheel&#34;:
                self.model.home_filterwheel()
            if action == &#34;set_lamp&#34;:
                state = value[0]
                self.model.set_lamp(state)
            if action == &#34;fix_controller_fault&#34;:
                self.model.fix_controller_fault()
        
def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;},
        help=&#34;Specify Filterwheel implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )

    args = parser.parse_args()
    return args


def main():
    lock_file = QLockFile(str(Path(&#34;~/fw8scm5_ui.app.lock&#34;).expanduser()))

    args = list(sys.argv)
    app = QApplication(args)
    app.setWindowIcon(QIcon(str(get_resource(&#34;:/icons/color-scheme.svg&#34;))))

    if lock_file.tryLock(100):
        args = parse_arguments()

        view = OGSEUIView()
        model = OGSEUIModel(args.type)
        controller = OGSEUIController(model, view)

        view.show()
        return app.exec_()
    else:
        error_message = QMessageBox()
        error_message.setIcon(QMessageBox.Warning)
        error_message.setWindowTitle(&#34;Error&#34;)
        error_message.setText(&#34;The FW8SMC4 GUI application is already running!&#34;)
        error_message.setStandardButtons(QMessageBox.Ok)

        return error_message.exec()


if __name__ == &#34;__main__&#34;:
    sys.exit(main())</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main():
    lock_file = QLockFile(str(Path(&#34;~/fw8scm5_ui.app.lock&#34;).expanduser()))

    args = list(sys.argv)
    app = QApplication(args)
    app.setWindowIcon(QIcon(str(get_resource(&#34;:/icons/color-scheme.svg&#34;))))

    if lock_file.tryLock(100):
        args = parse_arguments()

        view = OGSEUIView()
        model = OGSEUIModel(args.type)
        controller = OGSEUIController(model, view)

        view.show()
        return app.exec_()
    else:
        error_message = QMessageBox()
        error_message.setIcon(QMessageBox.Warning)
        error_message.setWindowTitle(&#34;Error&#34;)
        error_message.setText(&#34;The FW8SMC4 GUI application is already running!&#34;)
        error_message.setStandardButtons(QMessageBox.Ok)

        return error_message.exec()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.parse_arguments"><code class="name flex">
<span>def <span class="ident">parse_arguments</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Prepare the arguments that are specific for this application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;},
        help=&#34;Specify Filterwheel implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )

    args = parser.parse_args()
    return args</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.warning_popup"><code class="name flex">
<span>def <span class="ident">warning_popup</span></span>(<span>command, error)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def warning_popup(command, error):
    msgBox = QMessageBox()
    msgBox.setWindowTitle(&#34;OGSE error occured&#34;)
    msgBox.setIcon(QMessageBox.Warning)
    msgBox.setText(f&#34;An error occured while executing: {command}&#34;)
    msgBox.setInformativeText(f&#34;{error}&#34;)
    msgBox.setStandardButtons(QMessageBox.Ok)
    msgBox.exec_()</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker"><code class="flex name class">
<span>class <span class="ident">FilterWheelMonitoringWorker</span></span>
</code></dt>
<dd>
<div class="desc"><p>QObject(parent: typing.Optional[QObject] = None)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FilterWheelMonitoringWorker(QObject):
    
    fw_ri_signal        = pyqtSignal(float)
    fw_fwc_signal       = pyqtSignal(float)
    fw_pos_1_signal     = pyqtSignal(int)
    fw_pos_2_signal     = pyqtSignal(int)
    
    hartmann_status_signal = pyqtSignal(bool)
    
    shutter_status_signal = pyqtSignal(bool)
    
    pm100_power_signal    = pyqtSignal(float)
    
    lamp_on_signal          = pyqtSignal(bool)
    laser_on_signal         = pyqtSignal(bool)
    module_fault_signal     = pyqtSignal(bool)
    controller_fault_signal = pyqtSignal(bool)
    
    def __init__(self):
        super(FilterWheelMonitoringWorker, self).__init__()
        
        self.activate = False
        self.just_reconnected = True
        
        self.monitoring_socket = None
        self.sc10_monitoring_socket = None
        self.is_socket_connected = True
        self.monitoring_timeout = 0.5
        
        self.connect_socket()
        
        self.previous_fw_ri    = []
        self.previous_fw_fwc  = []
        self.previous_fw_pos_1 = []
        self.previous_fw_pos_2 = []
        
        self.previous_hartmann_status = []

        self.previous_shutter_status = []
        
        self.previous_pm100_power = []
        
        self.previous_laser_state = []
        self.previous_lamp_state = []
        self.previous_controller_fault = []
        self.previous_module_fault = []
        
    def connect_socket(self):
        &#34;&#34;&#34; Create a socket and connect to the monitoring port.
        &#34;&#34;&#34;
        try:
            transport   = FW_CTRL_SETTINGS.PROTOCOL
            hostname    = FW_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = FW_CTRL_SETTINGS.MONITORING_PORT
            fw_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = SC10_CTRL_SETTINGS.PROTOCOL
            hostname    = SC10_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = SC10_CTRL_SETTINGS.MONITORING_PORT
            sc10_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = SMD3_CTRL_SETTINGS.PROTOCOL
            hostname    = SMD3_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = SMD3_CTRL_SETTINGS.MONITORING_PORT
            smd3_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = PM100_CTRL_SETTINGS.PROTOCOL
            hostname    = PM100_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = PM100_CTRL_SETTINGS.MONITORING_PORT
            pm100_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            transport   = BB_CTRL_SETTINGS.PROTOCOL
            hostname    = BB_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port = BB_CTRL_SETTINGS.MONITORING_PORT
            bb_monitoring_address = connect_address(transport, hostname, monitoring_port)
            
            self.monitoring_socket = zmq.Context().socket(zmq.SUB)
            self.monitoring_socket.connect(fw_monitoring_address)
            self.monitoring_socket.connect(sc10_monitoring_address)
            self.monitoring_socket.connect(smd3_monitoring_address)
            self.monitoring_socket.connect(pm100_monitoring_address)
            self.monitoring_socket.connect(bb_monitoring_address)
            self.monitoring_socket.setsockopt_string(zmq.SUBSCRIBE, &#34;&#34;)
            
            self.monitoring_timeout = 0.5
            
            self.is_socket_connected = True
            
        except:
            self.is_socket_connected = False
            
    def stop(self):
        
        &#34;&#34;&#34; Stop the monitoring worker.
        The monitoring socket is disconnected from the monitoring port and is then closed immediately.
        &#34;&#34;&#34;
        
        self.monitoring_socket.close()
        self.is_socket_connected = False
        
        self.active = False
        
    def start_process(self):
        &#34;&#34;&#34;Start updated the Filterwheel status&#34;&#34;&#34;
        self.run()
        
    @pyqtSlot()
    def run(self):
        &#34;&#34;&#34;Keep on checkin whether the Filterwheel state has changed
        
        If the Filterwheel status has changed, update it in the GUI
        Raises:
            Exception: ZMQ Error
        &#34;&#34;&#34;
        
        self.active = True
        while self.is_socket_connected and self.active:
            
            try:
                socket_list, _, exc_list = zmq.select([self.monitoring_socket], [], [], timeout=self.monitoring_timeout)

                if self.monitoring_socket in socket_list:
                    try:
                        pickle_string = self.monitoring_socket.recv()
                    except Exception:
                        raise Exception

                    monitoring_info = pickle.loads(pickle_string)

                    if &#39;fw8smc5_status&#39; in monitoring_info:
                        fw_ri       = monitoring_info[&#39;fw8smc5_status&#39;][&#39;RelativeIntensity&#39;]
                        fw_fwc      = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FullWellCapacity&#39;]
                        fw_pos_1    = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FW1Position&#39;]
                        fw_pos_2    = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FW2Position&#39;]
                        
                        if fw_ri != self.previous_fw_ri:
                            self.fw_ri_signal.emit(fw_ri)
                            
                        self.previous_fw_ri = fw_ri
                        
                        if fw_fwc != self.previous_fw_fwc:
                            self.fw_fwc_signal.emit(fw_fwc)
                            
                        self.previous_fw_fwc = fw_fwc
                        
                        if fw_pos_1 != self.previous_fw_pos_1:
                            self.fw_pos_1_signal.emit(fw_pos_1)
                        
                        self.previous_fw_pos_1 = fw_pos_1
                        
                        if fw_pos_2 != self.previous_fw_pos_2:
                            self.fw_pos_2_signal.emit(fw_pos_2)
                            
                        self.previous_fw_pos_2 = fw_pos_2
                        
                    if &#39;hartmann_status&#39; in monitoring_info:
                        hartmann_status = bool(monitoring_info[&#39;hartmann_status&#39;])
                        
                        if hartmann_status != self.previous_hartmann_status:
                            self.hartmann_status_signal.emit(hartmann_status)
                        
                        self.previous_hartmann_status = hartmann_status
                        
                    if &#39;shutter_state&#39; in monitoring_info:
                        shutter_status = bool(monitoring_info[&#39;shutter_state&#39;])
                        
                        if shutter_status != self.previous_shutter_status:
                            self.shutter_status_signal.emit(shutter_status)
                            
                        self.previous_shutter_status = shutter_status
                        
                    if &#39;pm100a_power&#39; in monitoring_info:
                        pm100_power = float(monitoring_info[&#39;pm100a_power&#39;])
                        
                        if pm100_power != self.previous_pm100_power:
                            self.pm100_power_signal.emit(pm100_power)
                            
                        self.previous_pm100_power = pm100_power
                    
                    if &#39;lamp_status&#39; in monitoring_info:
                        laser_state      = monitoring_info[&#39;lamp_status&#39;][&#39;laser_state&#39;]
                        lamp_state       = monitoring_info[&#39;lamp_status&#39;][&#39;lamp_state&#39;]
                        module_fault     = monitoring_info[&#39;lamp_status&#39;][&#39;module_fault&#39;]
                        controller_fault = monitoring_info[&#39;lamp_status&#39;][&#39;controller_fault&#39;]

                        if laser_state != self.previous_laser_state:
                            self.laser_on_signal.emit(laser_state)
                        
                        self.previous_laser_state = laser_state
                        if lamp_state != self.previous_lamp_state:
                            self.lamp_on_signal.emit(lamp_state)
                        
                        self.previous_lamp_state = lamp_state
                        if module_fault != self.previous_module_fault:
                            self.module_fault_signal.emit(module_fault)
                        
                        self.previous_module_fault = module_fault
                        if controller_fault != self.previous_controller_fault:
                            self.controller_fault_signal.emit(controller_fault)
                        
                        self.previous_controller_fault = controller_fault
                        
            except ZMQError as exc:
                raise exc</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.connect_socket"><code class="name flex">
<span>def <span class="ident">connect_socket</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a socket and connect to the monitoring port.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def connect_socket(self):
    &#34;&#34;&#34; Create a socket and connect to the monitoring port.
    &#34;&#34;&#34;
    try:
        transport   = FW_CTRL_SETTINGS.PROTOCOL
        hostname    = FW_CTRL_SETTINGS.HOSTNAME
        
        monitoring_port = FW_CTRL_SETTINGS.MONITORING_PORT
        fw_monitoring_address = connect_address(transport, hostname, monitoring_port)
        
        transport   = SC10_CTRL_SETTINGS.PROTOCOL
        hostname    = SC10_CTRL_SETTINGS.HOSTNAME
        
        monitoring_port = SC10_CTRL_SETTINGS.MONITORING_PORT
        sc10_monitoring_address = connect_address(transport, hostname, monitoring_port)
        
        transport   = SMD3_CTRL_SETTINGS.PROTOCOL
        hostname    = SMD3_CTRL_SETTINGS.HOSTNAME
        
        monitoring_port = SMD3_CTRL_SETTINGS.MONITORING_PORT
        smd3_monitoring_address = connect_address(transport, hostname, monitoring_port)
        
        transport   = PM100_CTRL_SETTINGS.PROTOCOL
        hostname    = PM100_CTRL_SETTINGS.HOSTNAME
        
        monitoring_port = PM100_CTRL_SETTINGS.MONITORING_PORT
        pm100_monitoring_address = connect_address(transport, hostname, monitoring_port)
        
        transport   = BB_CTRL_SETTINGS.PROTOCOL
        hostname    = BB_CTRL_SETTINGS.HOSTNAME
        
        monitoring_port = BB_CTRL_SETTINGS.MONITORING_PORT
        bb_monitoring_address = connect_address(transport, hostname, monitoring_port)
        
        self.monitoring_socket = zmq.Context().socket(zmq.SUB)
        self.monitoring_socket.connect(fw_monitoring_address)
        self.monitoring_socket.connect(sc10_monitoring_address)
        self.monitoring_socket.connect(smd3_monitoring_address)
        self.monitoring_socket.connect(pm100_monitoring_address)
        self.monitoring_socket.connect(bb_monitoring_address)
        self.monitoring_socket.setsockopt_string(zmq.SUBSCRIBE, &#34;&#34;)
        
        self.monitoring_timeout = 0.5
        
        self.is_socket_connected = True
        
    except:
        self.is_socket_connected = False</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.controller_fault_signal"><code class="name flex">
<span>def <span class="ident">controller_fault_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_fwc_signal"><code class="name flex">
<span>def <span class="ident">fw_fwc_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_pos_1_signal"><code class="name flex">
<span>def <span class="ident">fw_pos_1_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_pos_2_signal"><code class="name flex">
<span>def <span class="ident">fw_pos_2_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_ri_signal"><code class="name flex">
<span>def <span class="ident">fw_ri_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.hartmann_status_signal"><code class="name flex">
<span>def <span class="ident">hartmann_status_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.lamp_on_signal"><code class="name flex">
<span>def <span class="ident">lamp_on_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.laser_on_signal"><code class="name flex">
<span>def <span class="ident">laser_on_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.module_fault_signal"><code class="name flex">
<span>def <span class="ident">module_fault_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.pm100_power_signal"><code class="name flex">
<span>def <span class="ident">pm100_power_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.run"><code class="name flex">
<span>def <span class="ident">run</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Keep on checkin whether the Filterwheel state has changed</p>
<p>If the Filterwheel status has changed, update it in the GUI</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>Exception</code></dt>
<dd>ZMQ Error</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtSlot()
def run(self):
    &#34;&#34;&#34;Keep on checkin whether the Filterwheel state has changed
    
    If the Filterwheel status has changed, update it in the GUI
    Raises:
        Exception: ZMQ Error
    &#34;&#34;&#34;
    
    self.active = True
    while self.is_socket_connected and self.active:
        
        try:
            socket_list, _, exc_list = zmq.select([self.monitoring_socket], [], [], timeout=self.monitoring_timeout)

            if self.monitoring_socket in socket_list:
                try:
                    pickle_string = self.monitoring_socket.recv()
                except Exception:
                    raise Exception

                monitoring_info = pickle.loads(pickle_string)

                if &#39;fw8smc5_status&#39; in monitoring_info:
                    fw_ri       = monitoring_info[&#39;fw8smc5_status&#39;][&#39;RelativeIntensity&#39;]
                    fw_fwc      = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FullWellCapacity&#39;]
                    fw_pos_1    = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FW1Position&#39;]
                    fw_pos_2    = monitoring_info[&#39;fw8smc5_status&#39;][&#39;FW2Position&#39;]
                    
                    if fw_ri != self.previous_fw_ri:
                        self.fw_ri_signal.emit(fw_ri)
                        
                    self.previous_fw_ri = fw_ri
                    
                    if fw_fwc != self.previous_fw_fwc:
                        self.fw_fwc_signal.emit(fw_fwc)
                        
                    self.previous_fw_fwc = fw_fwc
                    
                    if fw_pos_1 != self.previous_fw_pos_1:
                        self.fw_pos_1_signal.emit(fw_pos_1)
                    
                    self.previous_fw_pos_1 = fw_pos_1
                    
                    if fw_pos_2 != self.previous_fw_pos_2:
                        self.fw_pos_2_signal.emit(fw_pos_2)
                        
                    self.previous_fw_pos_2 = fw_pos_2
                    
                if &#39;hartmann_status&#39; in monitoring_info:
                    hartmann_status = bool(monitoring_info[&#39;hartmann_status&#39;])
                    
                    if hartmann_status != self.previous_hartmann_status:
                        self.hartmann_status_signal.emit(hartmann_status)
                    
                    self.previous_hartmann_status = hartmann_status
                    
                if &#39;shutter_state&#39; in monitoring_info:
                    shutter_status = bool(monitoring_info[&#39;shutter_state&#39;])
                    
                    if shutter_status != self.previous_shutter_status:
                        self.shutter_status_signal.emit(shutter_status)
                        
                    self.previous_shutter_status = shutter_status
                    
                if &#39;pm100a_power&#39; in monitoring_info:
                    pm100_power = float(monitoring_info[&#39;pm100a_power&#39;])
                    
                    if pm100_power != self.previous_pm100_power:
                        self.pm100_power_signal.emit(pm100_power)
                        
                    self.previous_pm100_power = pm100_power
                
                if &#39;lamp_status&#39; in monitoring_info:
                    laser_state      = monitoring_info[&#39;lamp_status&#39;][&#39;laser_state&#39;]
                    lamp_state       = monitoring_info[&#39;lamp_status&#39;][&#39;lamp_state&#39;]
                    module_fault     = monitoring_info[&#39;lamp_status&#39;][&#39;module_fault&#39;]
                    controller_fault = monitoring_info[&#39;lamp_status&#39;][&#39;controller_fault&#39;]

                    if laser_state != self.previous_laser_state:
                        self.laser_on_signal.emit(laser_state)
                    
                    self.previous_laser_state = laser_state
                    if lamp_state != self.previous_lamp_state:
                        self.lamp_on_signal.emit(lamp_state)
                    
                    self.previous_lamp_state = lamp_state
                    if module_fault != self.previous_module_fault:
                        self.module_fault_signal.emit(module_fault)
                    
                    self.previous_module_fault = module_fault
                    if controller_fault != self.previous_controller_fault:
                        self.controller_fault_signal.emit(controller_fault)
                    
                    self.previous_controller_fault = controller_fault
                    
        except ZMQError as exc:
            raise exc</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.shutter_status_signal"><code class="name flex">
<span>def <span class="ident">shutter_status_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.start_process"><code class="name flex">
<span>def <span class="ident">start_process</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Start updated the Filterwheel status</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_process(self):
    &#34;&#34;&#34;Start updated the Filterwheel status&#34;&#34;&#34;
    self.run()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.stop"><code class="name flex">
<span>def <span class="ident">stop</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Stop the monitoring worker.
The monitoring socket is disconnected from the monitoring port and is then closed immediately.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stop(self):
    
    &#34;&#34;&#34; Stop the monitoring worker.
    The monitoring socket is disconnected from the monitoring port and is then closed immediately.
    &#34;&#34;&#34;
    
    self.monitoring_socket.close()
    self.is_socket_connected = False
    
    self.active = False</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController"><code class="flex name class">
<span>class <span class="ident">OGSEUIController</span></span>
<span>(</span><span>model:<a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel">OGSEUIModel</a>, view:<a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView">OGSEUIView</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OGSEUIController(Observer):
    def __init__(self, model: OGSEUIModel, view: OGSEUIView):
        self.model  = model
        self.view   = view
        self.view.addObserver(self)
        
    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():

                logger.debug(&#34;Reconnecting the Heater model.&#34;)

                if self.model.reconnect():

                    self.view.set_connection_state(True)

                    if not self.model.has_commands():

                        self.model.load_commands()

                else:
                    self.view.reconnect_action.setChecked(False)
            else:

                logger.debug(&#34;Disconnecting the Heater model.&#34;)
                self.model.disconnect()
                self.view.set_connection_state(False)

            return
        
    def do(self, actions):
        for action, value in actions.items():
            logger.debug(f&#34;do {action} with {value}&#34;)
            
            if action == &#34;set_relative_intensity&#34;:
                rel_intensity = value[0]
                
                self.model.set_relative_intensity(rel_intensity)
            if action == &#34;set_position_wheel&#34;:
                idx = value[0]
                position = value[1]
                
                self.model.set_position_wheel(idx, position)
                
            if action == &#39;set_shutter&#39;:
                self.model.toggle_shutter()
            
            if action == &#39;set_hartmann&#39;:
                state = value[0]
                
                self.model.set_hartmann(state)
            if action == &#34;increase_intensity&#34;:
                self.model.increase_position_wheel()
            if action == &#34;decrease_intensity&#34;:
                self.model.decrease_position_wheel()
            if action == &#34;home_filterwheel&#34;:
                self.model.home_filterwheel()
            if action == &#34;set_lamp&#34;:
                state = value[0]
                self.model.set_lamp(state)
            if action == &#34;fix_controller_fault&#34;:
                self.model.fix_controller_fault()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="egse.observer.Observer" href="../../observer.html#egse.observer.Observer">Observer</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController.do"><code class="name flex">
<span>def <span class="ident">do</span></span>(<span>self, actions)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do(self, actions):
    for action, value in actions.items():
        logger.debug(f&#34;do {action} with {value}&#34;)
        
        if action == &#34;set_relative_intensity&#34;:
            rel_intensity = value[0]
            
            self.model.set_relative_intensity(rel_intensity)
        if action == &#34;set_position_wheel&#34;:
            idx = value[0]
            position = value[1]
            
            self.model.set_position_wheel(idx, position)
            
        if action == &#39;set_shutter&#39;:
            self.model.toggle_shutter()
        
        if action == &#39;set_hartmann&#39;:
            state = value[0]
            
            self.model.set_hartmann(state)
        if action == &#34;increase_intensity&#34;:
            self.model.increase_position_wheel()
        if action == &#34;decrease_intensity&#34;:
            self.model.decrease_position_wheel()
        if action == &#34;home_filterwheel&#34;:
            self.model.home_filterwheel()
        if action == &#34;set_lamp&#34;:
            state = value[0]
            self.model.set_lamp(state)
        if action == &#34;fix_controller_fault&#34;:
            self.model.fix_controller_fault()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self, changed_object)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self, changed_object):

    text = changed_object.text()

    if text == &#34;Reconnect&#34;:

        if changed_object.isChecked():

            logger.debug(&#34;Reconnecting the Heater model.&#34;)

            if self.model.reconnect():

                self.view.set_connection_state(True)

                if not self.model.has_commands():

                    self.model.load_commands()

            else:
                self.view.reconnect_action.setChecked(False)
        else:

            logger.debug(&#34;Disconnecting the Heater model.&#34;)
            self.model.disconnect()
            self.view.set_connection_state(False)

        return</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel"><code class="flex name class">
<span>class <span class="ident">OGSEUIModel</span></span>
<span>(</span><span>mode)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OGSEUIModel:
    def __init__(self, mode):
        pass
    
    def has_commands(self):
        if self.mode == &#39;proxy&#39;:
            with Fw8Smc5Proxy() as fw:
                fw.has_commands()
            
        return True
                
    
    def load_commands(self):
        if self.mode == &#39;proxy&#39;:
            with Fw8Smc5Proxy() as fw:
                fw.load_commands()
    
    def is_simulator(self):
        with Fw8Smc5Proxy() as fw:
            fw.is_simulator()

    
    def is_connected(self):
        with Fw8Smc5Proxy() as fw:
            fw.is_cs_connected()
    
    def reconnect(self):
        if self.mode == &#34;proxy&#34;:
            with Fw8Smc5Proxy() as fw:
                fw.reconnect()
            return self.fw.is_cs_connected()
        return False
    
    def disconnect(self):
        if self.mode == &#34;proxy&#34;:
            with Fw8Smc5Proxy() as fw:
                return fw.disconnect_cs()

        elif self.mode == &#39;simulator&#39;:
            return self.fw.disconnect()
        
    def set_position_wheel(self, id, position):
        with Fw8Smc5Proxy() as fw:
            fw.set_position_wheel(id, position)
    
    def set_relative_intensity(self, rel_intensity):
        with Fw8Smc5Proxy() as fw:
            fw.set_relative_intensity(rel_intensity)
            
    def toggle_shutter(self):
        with Sc10Proxy() as sc10:
            sc10.toggle_enable()
    
    def set_hartmann(self, state):
        with Smd3Proxy() as smd3:
            smd3.move_mask_fov(state)
    
    def increase_position_wheel(self):
        with Fw8Smc5Proxy() as fw:
            fw.intensity_level_up()
    
    def decrease_position_wheel(self):
        with Fw8Smc5Proxy() as fw:
            fw.intensity_level_down()
    
    def home_filterwheel(self):
        with Fw8Smc5Proxy() as fw:
            fw.home()
            
    def set_lamp(self, state):
        with BeagleboneProxy() as bb:
            bb.set_lamp(state)
            
    def fix_controller_fault(self):
        with BeagleboneProxy() as bb:
            bb.fix_controller_fault()</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.decrease_position_wheel"><code class="name flex">
<span>def <span class="ident">decrease_position_wheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def decrease_position_wheel(self):
    with Fw8Smc5Proxy() as fw:
        fw.intensity_level_down()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.disconnect"><code class="name flex">
<span>def <span class="ident">disconnect</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def disconnect(self):
    if self.mode == &#34;proxy&#34;:
        with Fw8Smc5Proxy() as fw:
            return fw.disconnect_cs()

    elif self.mode == &#39;simulator&#39;:
        return self.fw.disconnect()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.fix_controller_fault"><code class="name flex">
<span>def <span class="ident">fix_controller_fault</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def fix_controller_fault(self):
    with BeagleboneProxy() as bb:
        bb.fix_controller_fault()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.has_commands"><code class="name flex">
<span>def <span class="ident">has_commands</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def has_commands(self):
    if self.mode == &#39;proxy&#39;:
        with Fw8Smc5Proxy() as fw:
            fw.has_commands()
        
    return True</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.home_filterwheel"><code class="name flex">
<span>def <span class="ident">home_filterwheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def home_filterwheel(self):
    with Fw8Smc5Proxy() as fw:
        fw.home()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.increase_position_wheel"><code class="name flex">
<span>def <span class="ident">increase_position_wheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def increase_position_wheel(self):
    with Fw8Smc5Proxy() as fw:
        fw.intensity_level_up()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.is_connected"><code class="name flex">
<span>def <span class="ident">is_connected</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_connected(self):
    with Fw8Smc5Proxy() as fw:
        fw.is_cs_connected()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.is_simulator"><code class="name flex">
<span>def <span class="ident">is_simulator</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_simulator(self):
    with Fw8Smc5Proxy() as fw:
        fw.is_simulator()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.load_commands"><code class="name flex">
<span>def <span class="ident">load_commands</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_commands(self):
    if self.mode == &#39;proxy&#39;:
        with Fw8Smc5Proxy() as fw:
            fw.load_commands()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.reconnect"><code class="name flex">
<span>def <span class="ident">reconnect</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reconnect(self):
    if self.mode == &#34;proxy&#34;:
        with Fw8Smc5Proxy() as fw:
            fw.reconnect()
        return self.fw.is_cs_connected()
    return False</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_hartmann"><code class="name flex">
<span>def <span class="ident">set_hartmann</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_hartmann(self, state):
    with Smd3Proxy() as smd3:
        smd3.move_mask_fov(state)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_lamp"><code class="name flex">
<span>def <span class="ident">set_lamp</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_lamp(self, state):
    with BeagleboneProxy() as bb:
        bb.set_lamp(state)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_position_wheel"><code class="name flex">
<span>def <span class="ident">set_position_wheel</span></span>(<span>self, id, position)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_position_wheel(self, id, position):
    with Fw8Smc5Proxy() as fw:
        fw.set_position_wheel(id, position)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_relative_intensity"><code class="name flex">
<span>def <span class="ident">set_relative_intensity</span></span>(<span>self, rel_intensity)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_relative_intensity(self, rel_intensity):
    with Fw8Smc5Proxy() as fw:
        fw.set_relative_intensity(rel_intensity)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.toggle_shutter"><code class="name flex">
<span>def <span class="ident">toggle_shutter</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def toggle_shutter(self):
    with Sc10Proxy() as sc10:
        sc10.toggle_enable()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView"><code class="flex name class">
<span>class <span class="ident">OGSEUIView</span></span>
</code></dt>
<dd>
<div class="desc"><p>QMainWindow(parent: typing.Optional[QWidget] = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OGSEUIView(QMainWindow, Observable):
    WHEEL_POSITIONS = 8
    TOTAL_POSITIONS = WHEEL_POSITIONS * WHEEL_POSITIONS
    ROTATION_STEPS = 600
    POSITION_STEPS  = ROTATION_STEPS // WHEEL_POSITIONS
    
    def __init__(self):
        super().__init__()
        self.resize(1089, 650)
        self.setMaximumSize(1100, 850)
        self.setWindowTitle(&#34;Filterwheel GUI&#34;)
        
        self.fw_monitoring_thread = QThread(self)
        self.fw_monitoring_worker = FilterWheelMonitoringWorker()
        self.fw_monitoring_worker.moveToThread(self.fw_monitoring_thread)

        self.fw_monitoring_worker.fw_ri_signal.connect(self.on_fw_ri_changed)
        self.fw_monitoring_worker.fw_fwc_signal.connect(self.on_fw_fwc_changed)
        self.fw_monitoring_worker.fw_pos_1_signal.connect(self.on_fw_pos_1_changed)
        self.fw_monitoring_worker.fw_pos_2_signal.connect(self.on_fw_pos_2_changed)
        
        self.fw_monitoring_worker.shutter_status_signal.connect(self.on_shutter_changed)
        self.fw_monitoring_worker.hartmann_status_signal.connect(self.on_hartmann_changed)
        self.fw_monitoring_worker.pm100_power_signal.connect(self.on_power_meter_changed)
        
        self.fw_monitoring_worker.laser_on_signal.connect(self.on_laser_changed)
        self.fw_monitoring_worker.lamp_on_signal.connect(self.on_lamp_changed)
        self.fw_monitoring_worker.module_fault_signal.connect(self.on_module_fault_changed)
        self.fw_monitoring_worker.controller_fault_signal.connect(self.on_controller_fault_changed)
        
        self.fw_monitoring_thread.started.connect(self.fw_monitoring_worker.start_process)
        self.fw_monitoring_thread.start()

        self.initUI()
        
    def initUI(self):
        setup = get_setup()
        self.groupbox = OGSEWindow(setup)
        self.setCentralWidget(self.groupbox)
        
        # Connect relative intensity
        for button in self.groupbox.ri_pushButtons.values():
            button.clicked.connect(self.select_relative_intensity)
        
        # Connect filterwheel 1 buttons
        for button in self.groupbox.fw1_positions.values():
            button.clicked.connect(self.select_position_wheel)

        # Connect filterwheel 2 buttons
        for button in self.groupbox.fw2_positions.values():
            button.clicked.connect(self.select_position_wheel)

        self.groupbox.pushButton_25.clicked.connect(self.toggle_shutter_control)
        self.groupbox.pushButton_26.clicked.connect(self.toggle_shutter_control)

        self.groupbox.pushButton_27.clicked.connect(self.toggle_hartmann_control)
        self.groupbox.pushButton_28.clicked.connect(self.toggle_hartmann_control)

        self.groupbox.pushButton_29.clicked.connect(self.toggle_lamp_control)
        self.groupbox.pushButton_30.clicked.connect(self.toggle_lamp_control)
        self.groupbox.pushButton_31.clicked.connect(self.clear_lamp_fault)
        
        self.groupbox.lineEdit_6.textChanged.connect(self.update_scrollArea)
        
        self.groupbox.pushButton_34.clicked.connect(self.home_filterwheel)
        self.groupbox.pushButton_32.clicked.connect(self.decrease_intensity_wheel)
        self.groupbox.pushButton_33.clicked.connect(self.increase_intensity_wheel)
        
        self.groupbox.pushButton_20.clicked.connect(self.decrease_position_wheel)
        self.groupbox.pushButton_18.clicked.connect(self.increase_position_wheel)
        
        self.groupbox.pushButton.clicked.connect(self.decrease_position_wheel)
        self.groupbox.pushButton_2.clicked.connect(self.increase_position_wheel)
        
        self.home_offsets = setup.gse.filterwheel.home_offset

    def select_relative_intensity(self):
        sender = self.sender()
        try:
            self.actionObservers({&#34;set_relative_intensity&#34; : [float(sender.text())]})
        except Exception as e:
            warning_popup(f&#34;set_relative_intensity {sender.text()}&#34;, e)
    
    def increase_position_wheel(self):
        sender  = self.sender()
        name    = sender.objectName()
        wheel = 0 if &#39;fw1&#39; in name else 1
        if &#39;fw1&#39; in name:
            current_pos = self.groupbox.lineEdit.text()
        elif &#39;fw2&#39; in name:
            current_pos = self.groupbox.lineEdit_2.text()
        
        try:
            self.actionObservers({&#39;set_position_wheel&#39; : [int(wheel), int(current_pos) + 1]})
        except Exception as e:
            warning_popup(f&#34;set_position_wheel {wheel} {int(current_pos) + 1}&#34;, e)
    
    def decrease_position_wheel(self):
        sender  = self.sender()
        name    = sender.objectName()
        wheel = 0 if &#39;fw1&#39; in name else 1
        if &#39;fw1&#39; in name:
            current_pos = self.groupbox.lineEdit.text()
        elif &#39;fw2&#39; in name:
            current_pos = self.groupbox.lineEdit_2.text()
        
        try:
            self.actionObservers({&#39;set_position_wheel&#39; : [int(wheel), int(current_pos) - 1]})
        except Exception as e:
            warning_popup(f&#34;set_position_wheel {wheel} {int(current_pos) - 1}&#34;, e)
    
    def increase_intensity_wheel(self):
        try:
            self.actionObservers({&#34;increase_intensity&#34;:[]})
        except Exception as e:
            warning_popup(f&#34;increase_intensity&#34;, e)
    
    def decrease_intensity_wheel(self):
        try:
            self.actionObservers({&#34;decrease_intensity&#34;:[]})
        except Exception as e:
            warning_popup(f&#34;decrease_intensity&#34;, e)
    
    def home_filterwheel(self):
        try:
            self.actionObservers({&#34;home_filterwheel&#34;:[]})
        except Exception as e:
            warning_popup(f&#34;home_filterwheel&#34;, e)
    
    def select_position_wheel(self):
        sender = self.sender()
        wheel = sender.objectName().split(&#34;_&#34;)[0]
        wheel = 0 if wheel == &#34;fw1&#34; else 1
        lens = sender.objectName().split(&#34;_&#34;)[1]
        try:
            self.actionObservers({&#34;set_position_wheel&#34; : [int(wheel), int(lens)]})
        except Exception as e:
            warning_popup(f&#34;set_position_wheel {wheel} {lens}&#34;, e)
    
    def toggle_shutter_control(self):
        try:
            self.actionObservers({&#39;set_shutter&#39; : []})
        except Exception as e:
            warning_popup(f&#34;set_shutter&#34;, e)

    def toggle_hartmann_control(self):
        sender = self.sender()
        state = True if sender.text() == &#39;Unmask&#39; else False
        
        try:
            self.actionObservers({&#39;set_hartmann&#39; : [state]})
        except Exception as e:
            warning_popup(f&#34;set_hartmann {state}&#34;, e)
    
    def toggle_lamp_control(self):
        sender = self.sender()
        state = True if &#39;on&#39; in sender.text() else False
        
        try:
            self.actionObservers({&#39;set_lamp&#39; : [state]})
        except Exception as e:
            warning_popup(f&#34;set_lamp {state}&#34;, e)
    
    def clear_lamp_fault(self):
        try:
            self.actionObservers({&#39;fix_controller_fault&#39;: []})
        except Exception as e:
            warning_popup(&#34;fix_controller_fault&#34;, e)
    
    def update_scrollArea(self, text):
        for button in self.groupbox.ri_pushButtons.values():
            if text in button.text():
                button.show()
            else:
                button.hide()
        
        row     = 0
        column  = 0
        for button in self.groupbox.ri_pushButtons.values():
            self.groupbox.gridLayout_2.removeWidget(button)
            if button.isVisible():
                self.groupbox.gridLayout_2.addWidget(button, row, column % 4)
                column += 1
                if column &gt;= 4 and column % 4 == 0:
                    row += 1

    
    def on_fw_ri_changed(self, monitoring_info: float):
        self.groupbox.lineEdit_3.setText(f&#34;{monitoring_info:4e}&#34;)
    
    def on_fw_fwc_changed(self, monitoring_info: float):
        self.groupbox.lineEdit_4.setText(f&#34;{monitoring_info:4e}&#34;)
    
    def on_fw_pos_1_changed(self, monitoring_info: int):
        self.groupbox.lineEdit.setText(f&#34;{(monitoring_info - self.home_offsets[0]) // self.POSITION_STEPS % self.WHEEL_POSITIONS}&#34;)
    
    def on_fw_pos_2_changed(self, monitoring_info: int):
        self.groupbox.lineEdit_2.setText(f&#34;{(monitoring_info - self.home_offsets[1]) // self.POSITION_STEPS % self.WHEEL_POSITIONS}&#34;)

    def on_shutter_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget.set_color(1)
            self.groupbox.pushButton_25.setEnabled(False)
            self.groupbox.pushButton_26.setEnabled(True)
        else:
            self.groupbox.widget.set_color(3)
            self.groupbox.pushButton_25.setEnabled(True)
            self.groupbox.pushButton_26.setEnabled(False)
    
    def on_hartmann_changed(self, monitoring_info: bool):
        if not monitoring_info:
            self.groupbox.widget_2.set_color(1)
            self.groupbox.pushButton_27.setEnabled(False)
            self.groupbox.pushButton_28.setEnabled(True)
        else:
            self.groupbox.widget_2.set_color(3)
            self.groupbox.pushButton_27.setEnabled(True)
            self.groupbox.pushButton_28.setEnabled(False)
    
    def on_power_meter_changed(self, monitoring_info):
            self.groupbox.lineEdit_5.setText(f&#39;{monitoring_info:.3e} W&#39;)
    
    def on_laser_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_3.set_color(1)
            self.groupbox.pushButton_29.setEnabled(False)
            self.groupbox.pushButton_30.setEnabled(True)
        else:
            self.groupbox.widget_3.set_color(3)
            self.groupbox.pushButton_29.setEnabled(True)
            self.groupbox.pushButton_30.setEnabled(False)
        
    
    def on_lamp_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_4.set_color(1)
        else:
            self.groupbox.widget_4.set_color(3)
    
    def on_module_fault_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_5.set_color(2)
        else:
            self.groupbox.widget_5.set_color(1)
    
    def on_controller_fault_changed(self, monitoring_info: bool):
        if monitoring_info:
            self.groupbox.widget_6.set_color(2)
            self.groupbox.pushButton_31.setEnabled(True) # Change to true when implemented and tested
        else:
            self.groupbox.widget_6.set_color(1)
            self.groupbox.pushButton_31.setEnabled(False)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QMainWindow</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
<li><a title="egse.observer.Observable" href="../../observer.html#egse.observer.Observable">Observable</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.POSITION_STEPS"><code class="name">var <span class="ident">POSITION_STEPS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.ROTATION_STEPS"><code class="name">var <span class="ident">ROTATION_STEPS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.TOTAL_POSITIONS"><code class="name">var <span class="ident">TOTAL_POSITIONS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.WHEEL_POSITIONS"><code class="name">var <span class="ident">WHEEL_POSITIONS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.clear_lamp_fault"><code class="name flex">
<span>def <span class="ident">clear_lamp_fault</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def clear_lamp_fault(self):
    try:
        self.actionObservers({&#39;fix_controller_fault&#39;: []})
    except Exception as e:
        warning_popup(&#34;fix_controller_fault&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.decrease_intensity_wheel"><code class="name flex">
<span>def <span class="ident">decrease_intensity_wheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def decrease_intensity_wheel(self):
    try:
        self.actionObservers({&#34;decrease_intensity&#34;:[]})
    except Exception as e:
        warning_popup(f&#34;decrease_intensity&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.decrease_position_wheel"><code class="name flex">
<span>def <span class="ident">decrease_position_wheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def decrease_position_wheel(self):
    sender  = self.sender()
    name    = sender.objectName()
    wheel = 0 if &#39;fw1&#39; in name else 1
    if &#39;fw1&#39; in name:
        current_pos = self.groupbox.lineEdit.text()
    elif &#39;fw2&#39; in name:
        current_pos = self.groupbox.lineEdit_2.text()
    
    try:
        self.actionObservers({&#39;set_position_wheel&#39; : [int(wheel), int(current_pos) - 1]})
    except Exception as e:
        warning_popup(f&#34;set_position_wheel {wheel} {int(current_pos) - 1}&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.home_filterwheel"><code class="name flex">
<span>def <span class="ident">home_filterwheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def home_filterwheel(self):
    try:
        self.actionObservers({&#34;home_filterwheel&#34;:[]})
    except Exception as e:
        warning_popup(f&#34;home_filterwheel&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.increase_intensity_wheel"><code class="name flex">
<span>def <span class="ident">increase_intensity_wheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def increase_intensity_wheel(self):
    try:
        self.actionObservers({&#34;increase_intensity&#34;:[]})
    except Exception as e:
        warning_popup(f&#34;increase_intensity&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.increase_position_wheel"><code class="name flex">
<span>def <span class="ident">increase_position_wheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def increase_position_wheel(self):
    sender  = self.sender()
    name    = sender.objectName()
    wheel = 0 if &#39;fw1&#39; in name else 1
    if &#39;fw1&#39; in name:
        current_pos = self.groupbox.lineEdit.text()
    elif &#39;fw2&#39; in name:
        current_pos = self.groupbox.lineEdit_2.text()
    
    try:
        self.actionObservers({&#39;set_position_wheel&#39; : [int(wheel), int(current_pos) + 1]})
    except Exception as e:
        warning_popup(f&#34;set_position_wheel {wheel} {int(current_pos) + 1}&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.initUI"><code class="name flex">
<span>def <span class="ident">initUI</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initUI(self):
    setup = get_setup()
    self.groupbox = OGSEWindow(setup)
    self.setCentralWidget(self.groupbox)
    
    # Connect relative intensity
    for button in self.groupbox.ri_pushButtons.values():
        button.clicked.connect(self.select_relative_intensity)
    
    # Connect filterwheel 1 buttons
    for button in self.groupbox.fw1_positions.values():
        button.clicked.connect(self.select_position_wheel)

    # Connect filterwheel 2 buttons
    for button in self.groupbox.fw2_positions.values():
        button.clicked.connect(self.select_position_wheel)

    self.groupbox.pushButton_25.clicked.connect(self.toggle_shutter_control)
    self.groupbox.pushButton_26.clicked.connect(self.toggle_shutter_control)

    self.groupbox.pushButton_27.clicked.connect(self.toggle_hartmann_control)
    self.groupbox.pushButton_28.clicked.connect(self.toggle_hartmann_control)

    self.groupbox.pushButton_29.clicked.connect(self.toggle_lamp_control)
    self.groupbox.pushButton_30.clicked.connect(self.toggle_lamp_control)
    self.groupbox.pushButton_31.clicked.connect(self.clear_lamp_fault)
    
    self.groupbox.lineEdit_6.textChanged.connect(self.update_scrollArea)
    
    self.groupbox.pushButton_34.clicked.connect(self.home_filterwheel)
    self.groupbox.pushButton_32.clicked.connect(self.decrease_intensity_wheel)
    self.groupbox.pushButton_33.clicked.connect(self.increase_intensity_wheel)
    
    self.groupbox.pushButton_20.clicked.connect(self.decrease_position_wheel)
    self.groupbox.pushButton_18.clicked.connect(self.increase_position_wheel)
    
    self.groupbox.pushButton.clicked.connect(self.decrease_position_wheel)
    self.groupbox.pushButton_2.clicked.connect(self.increase_position_wheel)
    
    self.home_offsets = setup.gse.filterwheel.home_offset</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_controller_fault_changed"><code class="name flex">
<span>def <span class="ident">on_controller_fault_changed</span></span>(<span>self, monitoring_info:bool)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_controller_fault_changed(self, monitoring_info: bool):
    if monitoring_info:
        self.groupbox.widget_6.set_color(2)
        self.groupbox.pushButton_31.setEnabled(True) # Change to true when implemented and tested
    else:
        self.groupbox.widget_6.set_color(1)
        self.groupbox.pushButton_31.setEnabled(False)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_fwc_changed"><code class="name flex">
<span>def <span class="ident">on_fw_fwc_changed</span></span>(<span>self, monitoring_info:float)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_fw_fwc_changed(self, monitoring_info: float):
    self.groupbox.lineEdit_4.setText(f&#34;{monitoring_info:4e}&#34;)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_pos_1_changed"><code class="name flex">
<span>def <span class="ident">on_fw_pos_1_changed</span></span>(<span>self, monitoring_info:int)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_fw_pos_1_changed(self, monitoring_info: int):
    self.groupbox.lineEdit.setText(f&#34;{(monitoring_info - self.home_offsets[0]) // self.POSITION_STEPS % self.WHEEL_POSITIONS}&#34;)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_pos_2_changed"><code class="name flex">
<span>def <span class="ident">on_fw_pos_2_changed</span></span>(<span>self, monitoring_info:int)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_fw_pos_2_changed(self, monitoring_info: int):
    self.groupbox.lineEdit_2.setText(f&#34;{(monitoring_info - self.home_offsets[1]) // self.POSITION_STEPS % self.WHEEL_POSITIONS}&#34;)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_ri_changed"><code class="name flex">
<span>def <span class="ident">on_fw_ri_changed</span></span>(<span>self, monitoring_info:float)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_fw_ri_changed(self, monitoring_info: float):
    self.groupbox.lineEdit_3.setText(f&#34;{monitoring_info:4e}&#34;)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_hartmann_changed"><code class="name flex">
<span>def <span class="ident">on_hartmann_changed</span></span>(<span>self, monitoring_info:bool)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_hartmann_changed(self, monitoring_info: bool):
    if not monitoring_info:
        self.groupbox.widget_2.set_color(1)
        self.groupbox.pushButton_27.setEnabled(False)
        self.groupbox.pushButton_28.setEnabled(True)
    else:
        self.groupbox.widget_2.set_color(3)
        self.groupbox.pushButton_27.setEnabled(True)
        self.groupbox.pushButton_28.setEnabled(False)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_lamp_changed"><code class="name flex">
<span>def <span class="ident">on_lamp_changed</span></span>(<span>self, monitoring_info:bool)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_lamp_changed(self, monitoring_info: bool):
    if monitoring_info:
        self.groupbox.widget_4.set_color(1)
    else:
        self.groupbox.widget_4.set_color(3)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_laser_changed"><code class="name flex">
<span>def <span class="ident">on_laser_changed</span></span>(<span>self, monitoring_info:bool)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_laser_changed(self, monitoring_info: bool):
    if monitoring_info:
        self.groupbox.widget_3.set_color(1)
        self.groupbox.pushButton_29.setEnabled(False)
        self.groupbox.pushButton_30.setEnabled(True)
    else:
        self.groupbox.widget_3.set_color(3)
        self.groupbox.pushButton_29.setEnabled(True)
        self.groupbox.pushButton_30.setEnabled(False)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_module_fault_changed"><code class="name flex">
<span>def <span class="ident">on_module_fault_changed</span></span>(<span>self, monitoring_info:bool)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_module_fault_changed(self, monitoring_info: bool):
    if monitoring_info:
        self.groupbox.widget_5.set_color(2)
    else:
        self.groupbox.widget_5.set_color(1)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_power_meter_changed"><code class="name flex">
<span>def <span class="ident">on_power_meter_changed</span></span>(<span>self, monitoring_info)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_power_meter_changed(self, monitoring_info):
        self.groupbox.lineEdit_5.setText(f&#39;{monitoring_info:.3e} W&#39;)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_shutter_changed"><code class="name flex">
<span>def <span class="ident">on_shutter_changed</span></span>(<span>self, monitoring_info:bool)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_shutter_changed(self, monitoring_info: bool):
    if monitoring_info:
        self.groupbox.widget.set_color(1)
        self.groupbox.pushButton_25.setEnabled(False)
        self.groupbox.pushButton_26.setEnabled(True)
    else:
        self.groupbox.widget.set_color(3)
        self.groupbox.pushButton_25.setEnabled(True)
        self.groupbox.pushButton_26.setEnabled(False)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.select_position_wheel"><code class="name flex">
<span>def <span class="ident">select_position_wheel</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def select_position_wheel(self):
    sender = self.sender()
    wheel = sender.objectName().split(&#34;_&#34;)[0]
    wheel = 0 if wheel == &#34;fw1&#34; else 1
    lens = sender.objectName().split(&#34;_&#34;)[1]
    try:
        self.actionObservers({&#34;set_position_wheel&#34; : [int(wheel), int(lens)]})
    except Exception as e:
        warning_popup(f&#34;set_position_wheel {wheel} {lens}&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.select_relative_intensity"><code class="name flex">
<span>def <span class="ident">select_relative_intensity</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def select_relative_intensity(self):
    sender = self.sender()
    try:
        self.actionObservers({&#34;set_relative_intensity&#34; : [float(sender.text())]})
    except Exception as e:
        warning_popup(f&#34;set_relative_intensity {sender.text()}&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_hartmann_control"><code class="name flex">
<span>def <span class="ident">toggle_hartmann_control</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def toggle_hartmann_control(self):
    sender = self.sender()
    state = True if sender.text() == &#39;Unmask&#39; else False
    
    try:
        self.actionObservers({&#39;set_hartmann&#39; : [state]})
    except Exception as e:
        warning_popup(f&#34;set_hartmann {state}&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_lamp_control"><code class="name flex">
<span>def <span class="ident">toggle_lamp_control</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def toggle_lamp_control(self):
    sender = self.sender()
    state = True if &#39;on&#39; in sender.text() else False
    
    try:
        self.actionObservers({&#39;set_lamp&#39; : [state]})
    except Exception as e:
        warning_popup(f&#34;set_lamp {state}&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_shutter_control"><code class="name flex">
<span>def <span class="ident">toggle_shutter_control</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def toggle_shutter_control(self):
    try:
        self.actionObservers({&#39;set_shutter&#39; : []})
    except Exception as e:
        warning_popup(f&#34;set_shutter&#34;, e)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.update_scrollArea"><code class="name flex">
<span>def <span class="ident">update_scrollArea</span></span>(<span>self, text)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_scrollArea(self, text):
    for button in self.groupbox.ri_pushButtons.values():
        if text in button.text():
            button.show()
        else:
            button.hide()
    
    row     = 0
    column  = 0
    for button in self.groupbox.ri_pushButtons.values():
        self.groupbox.gridLayout_2.removeWidget(button)
        if button.isVisible():
            self.groupbox.gridLayout_2.addWidget(button, row, column % 4)
            column += 1
            if column &gt;= 4 and column % 4 == 0:
                row += 1</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc5_ui.OGSEWindow"><code class="flex name class">
<span>class <span class="ident">OGSEWindow</span></span>
<span>(</span><span>setup)</span>
</code></dt>
<dd>
<div class="desc"><p>QGroupBox(parent: typing.Optional[QWidget] = None)
QGroupBox(title: str, parent: typing.Optional[QWidget] = None)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OGSEWindow(QGroupBox):
    def __init__(self, setup):
        super().__init__()
        
        self.setObjectName(&#34;OGSE Window&#34;)
        
        self.gridLayout_3 = QGridLayout(self)
        self.gridLayout_3.setObjectName(&#34;gridLayout_3&#34;)
        self.groupBox = QGroupBox(self)
        self.groupBox.setTitle(&#34;&#34;)
        self.groupBox.setObjectName(&#34;groupBox&#34;)
        self.horizontalLayout_4 = QHBoxLayout(self.groupBox)
        self.horizontalLayout_4.setObjectName(&#34;horizontalLayout_4&#34;)
        self.gridLayout_4 = QGridLayout()
        self.label_3 = QLabel(self.groupBox)
        self.label_3.setObjectName(&#34;label_3&#34;)
        self.label_3.setText(&#34;Relative intensity: &#34;)
        self.gridLayout_4.addWidget(self.label_3, 0, 0, 1, 1)
        self.lineEdit_3 = QLineEdit(self.groupBox)
        self.lineEdit_3.setMaximumSize(QSize(250, 16777215))
        self.lineEdit_3.setReadOnly(True)
        self.lineEdit_3.setObjectName(&#34;lineEdit_3&#34;)
        self.gridLayout_4.addWidget(self.lineEdit_3, 0, 1, 1, 1)
        self.label_4 = QLabel(self.groupBox)
        self.label_4.setObjectName(&#34;label_4&#34;)
        self.label_4.setText(&#34;Full well capacity: &#34;)
        self.gridLayout_4.addWidget(self.label_4, 1, 0, 1, 1)
        self.lineEdit_4 = QLineEdit(self.groupBox)
        self.lineEdit_4.setMaximumSize(QSize(250, 16777215))
        self.lineEdit_4.setReadOnly(True)
        self.lineEdit_4.setObjectName(&#34;lineEdit_4&#34;)
        self.gridLayout_4.addWidget(self.lineEdit_4, 1, 1, 1, 1)
        
        self.pushButton_34 = QPushButton()
        self.pushButton_34.setText(&#34;Home&#34;)
        self.gridLayout_4.addWidget(self.pushButton_34, 2, 0, 1, 2)    
        self.pushButton_32 = QPushButton()
        self.pushButton_32.setMinimumWidth(150)
        self.pushButton_32.setText(&#34;Decrease intensity&#34;)
        self.gridLayout_4.addWidget(self.pushButton_32, 3, 0, 1, 1)
        self.pushButton_33 = QPushButton()
        self.pushButton_33.setMinimumWidth(150)
        self.pushButton_33.setText(&#34;Increase Intensity&#34;)
        self.gridLayout_4.addWidget(self.pushButton_33, 3, 1, 1, 1)
        spacerItem_2 = QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.gridLayout_4.addItem(spacerItem_2, 4, 0, 1, 2)
        self.horizontalLayout_4.addLayout(self.gridLayout_4)
        
        self.gridLayout = QGridLayout()
        self.gridLayout.setObjectName(&#34;gridLayout&#34;)
        self.scrollArea = QScrollArea(self.groupBox)
        self.scrollArea.setMinimumSize(QSize(550, 0))
        self.scrollArea.setWidgetResizable(True)
        self.scrollArea.setObjectName(&#34;scrollArea&#34;)
        self.scrollAreaWidgetContents = QWidget()
        self.scrollAreaWidgetContents.setGeometry(QRect(0, 0, 546, 178))
        self.scrollAreaWidgetContents.setObjectName(&#34;scrollAreaWidgetContents&#34;)
        self.verticalLayout_6 = QVBoxLayout(self.scrollAreaWidgetContents)
        self.verticalLayout_6.setObjectName(&#34;verticalLayout_6&#34;)
        self.gridLayout_2 = QGridLayout()
        self.gridLayout_2.setObjectName(&#34;gridLayout_2&#34;)
        self.horizontalLayout_16 = QHBoxLayout()
        self.label_12 = QLabel(&#34;Search: &#34;)
        self.horizontalLayout_16.addWidget(self.label_12)
        self.lineEdit_6 = QLineEdit()
        self.horizontalLayout_16.addWidget(self.lineEdit_6)
        self.verticalLayout_6.addLayout(self.horizontalLayout_16)
        
        try:
            ri_list = setup.gse.ogse.calibration.relative_intensity_by_wheel
            
            row = 0
            column = 0
            self.ri_pushButtons = {}
            for idx, value in enumerate(ri_list.values()):
                self.ri_pushButtons[f&#34;{value}_{idx}&#34;] = QPushButton(self.scrollAreaWidgetContents)
                self.ri_pushButtons[f&#34;{value}_{idx}&#34;].setText(f&#34;{value:5e}&#34;)
                self.ri_pushButtons[f&#34;{value}_{idx}&#34;].setObjectName(f&#34;{value:5e}&#34;)
                self.gridLayout_2.addWidget(self.ri_pushButtons[f&#34;{value}_{idx}&#34;], row, column % 4, 1, 1)
                column +=  1
                if column &gt;= 4 and column % 4 == 0:
                    row += 1
        except Exception as e:
            logger.exception(&#34;Could not generate the relative intensity buttons. This is most likely &#34;\
                            f&#34;caused by an incorrect setup.&#34;)
            sys.exit()
                
        spacerItem_3 = QSpacerItem(20, 383, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.gridLayout_2.addItem(spacerItem_3, row+1, 0)     
        self.verticalLayout_6.addLayout(self.gridLayout_2)
        self.scrollArea.setWidget(self.scrollAreaWidgetContents)
        self.gridLayout.addWidget(self.scrollArea, 0, 0, 1, 1)
        self.horizontalLayout_4.addLayout(self.gridLayout)
        self.gridLayout_3.addWidget(self.groupBox, 1, 0, 1, 1)
        self.horizontalLayout = QHBoxLayout()
        self.horizontalLayout.setObjectName(&#34;horizontalLayout&#34;)
        self.verticalLayout_3 = QVBoxLayout()
        self.verticalLayout_3.setObjectName(&#34;verticalLayout_3&#34;)
        self.groupBox_3 = QGroupBox(self)
        self.groupBox_3.setMaximumSize(QSize(16777215, 370))
        self.groupBox_3.setTitle(&#34;&#34;)
        self.groupBox_3.setObjectName(&#34;groupBox_3&#34;)
        self.verticalLayout_4 = QVBoxLayout(self.groupBox_3)
        self.verticalLayout_4.setObjectName(&#34;verticalLayout_4&#34;)
        self.label = QLabel(self.groupBox_3)
        self.label.setMaximumSize(QSize(16777215, 50))
        self.label.setText(&#34;Filterwheel 1&#34;)
        font = QFont()
        font.setPointSize(20)
        self.label.setFont(font)
        self.label.setAlignment(Qt.AlignCenter)
        self.label.setObjectName(&#34;label&#34;)
        self.verticalLayout_4.addWidget(self.label)
        self.lineEdit = QLineEdit(self.groupBox_3)
        self.lineEdit.setMinimumSize(QSize(150, 290))
        font = QFont()
        font.setPointSize(150)
        self.lineEdit.setFont(font)
        self.lineEdit.setAlignment(Qt.AlignCenter)
        self.lineEdit.setReadOnly(True)
        self.lineEdit.setObjectName(&#34;lineEdit&#34;)
        self.verticalLayout_4.addWidget(self.lineEdit)
        self.verticalLayout_3.addWidget(self.groupBox_3)
        self.groupBox_2 = QGroupBox(self)
        self.groupBox_2.setMaximumSize(QSize(16777215, 50))
        self.groupBox_2.setTitle(&#34;&#34;)
        self.groupBox_2.setObjectName(&#34;groupBox_2&#34;)
        self.horizontalLayout_2 = QHBoxLayout(self.groupBox_2)
        self.horizontalLayout_2.setObjectName(&#34;horizontalLayout_2&#34;)

        self.pushButton = QPushButton(self.groupBox_2)
        self.pushButton.setMinimumSize(QSize(50, 0))
        self.pushButton.setObjectName(&#34;fw1_&lt;&#34;)
        self.pushButton.setText(&#34;&lt;&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton)
        
        self.fw1_positions = {}
        
        for i in range(0, 8):
            self.fw1_positions[f&#34;fw1_{i}&#34;] = QPushButton(self.groupBox_2)
            self.fw1_positions[f&#34;fw1_{i}&#34;].setMinimumSize(QSize(30, 0))
            self.fw1_positions[f&#34;fw1_{i}&#34;].setObjectName(f&#34;fw1_{i}&#34;)
            self.fw1_positions[f&#34;fw1_{i}&#34;].setText(f&#34;{i}&#34;)
            self.horizontalLayout_2.addWidget(self.fw1_positions[f&#34;fw1_{i}&#34;])

        self.pushButton_2 = QPushButton(self.groupBox_2)
        self.pushButton_2.setMinimumSize(QSize(50, 0))
        self.pushButton_2.setObjectName(&#34;fw1_&gt;&#34;)
        self.pushButton_2.setText(&#34;&gt;&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton_2)
        self.verticalLayout_3.addWidget(self.groupBox_2)
        self.horizontalLayout.addLayout(self.verticalLayout_3)
        self.verticalLayout_2 = QVBoxLayout()
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.groupBox_4 = QGroupBox(self)
        self.groupBox_4.setMaximumSize(QSize(16777215, 370))
        self.groupBox_4.setTitle(&#34;&#34;)
        self.groupBox_4.setObjectName(&#34;groupBox_4&#34;)
        self.verticalLayout_5 = QVBoxLayout(self.groupBox_4)
        self.verticalLayout_5.setObjectName(&#34;verticalLayout_5&#34;)
        self.label_2 = QLabel(self.groupBox_4)
        self.label_2.setMaximumSize(QSize(16777215, 50))
        self.label_2.setText(&#34;Filterwheel 2&#34;)
        font = QFont()
        font.setPointSize(20)
        self.label_2.setFont(font)
        self.label_2.setAlignment(Qt.AlignCenter)
        self.label_2.setObjectName(&#34;label_2&#34;)
        self.verticalLayout_5.addWidget(self.label_2)
        self.lineEdit_2 = QLineEdit(self.groupBox_4)
        self.lineEdit_2.setMinimumSize(QSize(150, 290))
        font = QFont()
        font.setPointSize(150)
        self.lineEdit_2.setFont(font)
        self.lineEdit_2.setAlignment(Qt.AlignCenter)
        self.lineEdit_2.setReadOnly(True)
        self.lineEdit_2.setObjectName(&#34;lineEdit_2&#34;)
        self.verticalLayout_5.addWidget(self.lineEdit_2)
        self.verticalLayout_2.addWidget(self.groupBox_4)
        self.groupBox_5 = QGroupBox(self)
        self.groupBox_5.setMaximumSize(QSize(16777215, 50))
        self.groupBox_5.setTitle(&#34;&#34;)
        self.groupBox_5.setObjectName(&#34;groupBox_5&#34;)
        self.horizontalLayout_3 = QHBoxLayout(self.groupBox_5)
        self.horizontalLayout_3.setObjectName(&#34;horizontalLayout_3&#34;)
        self.pushButton_20 = QPushButton(self.groupBox_5)
        self.pushButton_20.setMinimumSize(QSize(50, 0))
        self.pushButton_20.setObjectName(&#34;fw2_&lt;&#34;)
        self.pushButton_20.setText(&#34;&lt;&#34;)
        self.horizontalLayout_3.addWidget(self.pushButton_20)
        
        self.fw2_positions = {}
        for i in range(0, 8):
            self.fw2_positions[f&#34;fw2_{i}&#34;] = QPushButton(self.groupBox_5)
            self.fw2_positions[f&#34;fw2_{i}&#34;].setMinimumSize(QSize(30, 0))
            self.fw2_positions[f&#34;fw2_{i}&#34;].setObjectName(f&#34;fw2_{i}&#34;)
            self.fw2_positions[f&#34;fw2_{i}&#34;].setText(f&#34;{i}&#34;)
            self.horizontalLayout_3.addWidget(self.fw2_positions[f&#34;fw2_{i}&#34;])
        
        self.pushButton_18 = QPushButton(self.groupBox_5)
        self.pushButton_18.setMinimumSize(QSize(50, 0))
        self.pushButton_18.setObjectName(&#34;fw2_&gt;&#34;)
        self.pushButton_18.setText(&#34;&gt;&#34;)
        self.horizontalLayout_3.addWidget(self.pushButton_18)
        self.verticalLayout_2.addWidget(self.groupBox_5)
        self.horizontalLayout.addLayout(self.verticalLayout_2)
        self.gridLayout_3.addLayout(self.horizontalLayout, 0, 0, 1, 1)
        self.groupBox_6 = QGroupBox(self)
        self.groupBox_6.setMinimumSize(QSize(200, 0))
        self.groupBox_6.setTitle(&#34;&#34;)
        self.groupBox_6.setObjectName(&#34;groupBox_6&#34;)
        self.verticalLayout = QVBoxLayout(self.groupBox_6)
        self.verticalLayout.setObjectName(&#34;verticalLayout&#34;)
        self.horizontalLayout_5 = QHBoxLayout()
        self.horizontalLayout_5.setObjectName(&#34;horizontalLayout_5&#34;)
        self.widget = Led(self.groupBox_6)
        self.widget.setMinimumSize(QSize(25, 25))
        self.widget.setMaximumSize(QSize(25, 25))
        self.horizontalLayout_5.addWidget(self.widget)
        self.label_5 = QLabel(self.groupBox_6)
        self.label_5.setMinimumSize(QSize(0, 0))
        self.label_5.setObjectName(&#34;label_5&#34;)
        self.label_5.setText(&#34;Shutter control&#34;)
        self.horizontalLayout_5.addWidget(self.label_5)
        self.verticalLayout.addLayout(self.horizontalLayout_5)
        self.horizontalLayout_6 = QHBoxLayout()
        self.horizontalLayout_6.setObjectName(&#34;horizontalLayout_6&#34;)
        self.pushButton_25 = QPushButton(self.groupBox_6)
        self.pushButton_25.setObjectName(&#34;pushButton_25&#34;)
        self.pushButton_25.setText(&#34;Open&#34;)
        self.pushButton_25.setEnabled(False)
        self.horizontalLayout_6.addWidget(self.pushButton_25)
        self.pushButton_26 = QPushButton(self.groupBox_6)
        self.pushButton_26.setObjectName(&#34;pushButton_26&#34;)
        self.pushButton_26.setText(&#34;Close&#34;)
        self.pushButton_26.setEnabled(False)
        self.horizontalLayout_6.addWidget(self.pushButton_26)
        self.verticalLayout.addLayout(self.horizontalLayout_6)
        self.line = QFrame(self.groupBox_6)
        self.line.setFrameShape(QFrame.HLine)
        self.line.setFrameShadow(QFrame.Sunken)
        self.line.setObjectName(&#34;line&#34;)
        self.verticalLayout.addWidget(self.line)
        self.horizontalLayout_7 = QHBoxLayout()
        self.horizontalLayout_7.setObjectName(&#34;horizontalLayout_7&#34;)
        self.widget_2 = Led(self.groupBox_6)
        self.widget_2.setMinimumSize(QSize(25, 25))
        self.widget_2.setMaximumSize(QSize(25, 25))
        self.widget_2.setObjectName(&#34;widget_2&#34;)
        self.horizontalLayout_7.addWidget(self.widget_2)
        self.label_6 = QLabel(self.groupBox_6)
        self.label_6.setObjectName(&#34;label_6&#34;)
        self.label_6.setText(&#34;Hartmann control&#34;)
        self.horizontalLayout_7.addWidget(self.label_6)
        self.verticalLayout.addLayout(self.horizontalLayout_7)
        self.horizontalLayout_8 = QHBoxLayout()
        self.horizontalLayout_8.setObjectName(&#34;horizontalLayout_8&#34;)
        self.pushButton_27 = QPushButton(self.groupBox_6)
        self.pushButton_27.setObjectName(&#34;pushButton_27&#34;)
        self.pushButton_27.setText(&#34;Unmask&#34;)
        self.pushButton_27.setEnabled(False)
        self.horizontalLayout_8.addWidget(self.pushButton_27)
        self.pushButton_28 = QPushButton(self.groupBox_6)
        self.pushButton_28.setObjectName(&#34;pushButton_28&#34;)
        self.pushButton_28.setText(&#34;Mask&#34;)
        self.pushButton_28.setEnabled(False)
        self.horizontalLayout_8.addWidget(self.pushButton_28)
        self.verticalLayout.addLayout(self.horizontalLayout_8)
        self.line_2 = QFrame(self.groupBox_6)
        self.line_2.setFrameShape(QFrame.HLine)
        self.line_2.setFrameShadow(QFrame.Sunken)
        self.line_2.setObjectName(&#34;line_2&#34;)
        self.verticalLayout.addWidget(self.line_2)
        self.horizontalLayout_9 = QHBoxLayout()
        self.horizontalLayout_9.setObjectName(&#34;horizontalLayout_9&#34;)
        self.label_7 = QLabel(self.groupBox_6)
        self.label_7.setObjectName(&#34;label_7&#34;)
        self.label_7.setText(&#34;Powermeter&#34;)
        self.horizontalLayout_9.addWidget(self.label_7)
        self.verticalLayout.addLayout(self.horizontalLayout_9)
        self.lineEdit_5 = QLineEdit(self.groupBox_6)
        self.lineEdit_5.setObjectName(&#34;lineEdit_5&#34;)
        self.lineEdit_5.setEnabled(True)
        self.lineEdit_5.setReadOnly(True)
        self.verticalLayout.addWidget(self.lineEdit_5)
        
        self.line_3 = QFrame(self.groupBox_6)
        self.line_3.setFrameShape(QFrame.HLine)
        self.line_3.setFrameShadow(QFrame.Sunken)
        self.line_3.setObjectName(&#34;line_3&#34;)
        self.verticalLayout.addWidget(self.line_3)
        self.label_13 = QLabel(self.groupBox_6)
        self.label_13.setObjectName(&#34;label_8&#34;)
        self.label_13.setText(&#34;Lamp controller&#34;)
        self.verticalLayout.addWidget(self.label_13)
        self.horizontalLayout_10 = QHBoxLayout()
        self.widget_3 = Led(self.groupBox_6)
        self.widget_3.setMinimumSize(QSize(25, 25))
        self.widget_3.setMaximumSize(QSize(25, 25))
        self.widget_3.setObjectName(&#34;widget_3&#34;)
        self.horizontalLayout_10.addWidget(self.widget_3)
        self.label_8 = QLabel(self.groupBox_6)
        self.label_8.setObjectName(&#34;label_8&#34;)
        self.label_8.setText(&#34;Laser on&#34;)
        self.horizontalLayout_10.addWidget(self.label_8)
        self.verticalLayout.addLayout(self.horizontalLayout_10)
        
        self.horizontalLayout_11 = QHBoxLayout()
        self.widget_4 = Led(self.groupBox_6)
        self.widget_4.setMinimumSize(QSize(25, 25))
        self.widget_4.setMaximumSize(QSize(25, 25))
        self.widget_4.setObjectName(&#34;widget_4&#34;)
        self.horizontalLayout_11.addWidget(self.widget_4)
        self.label_9 = QLabel(self.groupBox_6)
        self.label_9.setObjectName(&#34;label_9&#34;)
        self.label_9.setText(&#34;Lamp on&#34;)
        self.horizontalLayout_11.addWidget(self.label_9)
        self.verticalLayout.addLayout(self.horizontalLayout_11)
        
        self.horizontalLayout_12 = QHBoxLayout()
        self.widget_5 = Led(self.groupBox_6)
        self.widget_5.setMinimumSize(QSize(25, 25))
        self.widget_5.setMaximumSize(QSize(25, 25))
        self.widget_5.setObjectName(&#34;widget_5&#34;)
        self.horizontalLayout_12.addWidget(self.widget_5)
        self.label_10 = QLabel(self.groupBox_6)
        self.label_10.setObjectName(&#34;label_10&#34;)
        self.label_10.setText(&#34;Controller fault&#34;)
        self.horizontalLayout_12.addWidget(self.label_10)
        self.verticalLayout.addLayout(self.horizontalLayout_12)
        
        self.horizontalLayout_13 = QHBoxLayout()
        self.widget_6 = Led(self.groupBox_6)
        self.widget_6.setMinimumSize(QSize(25, 25))
        self.widget_6.setMaximumSize(QSize(25, 25))
        self.widget_6.setObjectName(&#34;widget_6&#34;)
        self.horizontalLayout_13.addWidget(self.widget_6)
        self.label_11 = QLabel(self.groupBox_6)
        self.label_11.setObjectName(&#34;label_11&#34;)
        self.label_11.setText(&#34;Lamp module fault&#34;)
        self.horizontalLayout_13.addWidget(self.label_11)
        self.verticalLayout.addLayout(self.horizontalLayout_13)
        
        self.horizontalLayout_14 = QHBoxLayout()
        self.pushButton_29 = QPushButton(self.groupBox_6)
        self.pushButton_29.setObjectName(&#34;pushButton_29&#34;)
        self.pushButton_29.setText(&#34;Turn on&#34;)
        self.pushButton_29.setEnabled(False)
        self.horizontalLayout_14.addWidget(self.pushButton_29)
        self.pushButton_30 = QPushButton(self.groupBox_6)
        self.pushButton_30.setObjectName(&#34;pushButton_30&#34;)
        self.pushButton_30.setText(&#34;Turn off&#34;)
        self.pushButton_30.setEnabled(False)
        self.horizontalLayout_14.addWidget(self.pushButton_30)
        self.verticalLayout.addLayout(self.horizontalLayout_14)
        
        self.horizontalLayout_15 = QHBoxLayout()
        self.pushButton_31 = QPushButton(self.groupBox_6)
        self.pushButton_31.setObjectName(&#34;pushButton_31&#34;)
        self.pushButton_31.setText(&#34;Fix controller fault&#34;)
        self.pushButton_31.setEnabled(False)
        self.horizontalLayout_15.addWidget(self.pushButton_31)
        self.verticalLayout.addLayout(self.horizontalLayout_15)
 
        spacerItem = QSpacerItem(20, 383, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.verticalLayout.addItem(spacerItem)
        self.gridLayout_3.addWidget(self.groupBox_6, 0, 1, 2, 1)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QGroupBox</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="egse.filterwheel.eksma" href="index.html">egse.filterwheel.eksma</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.main" href="#egse.filterwheel.eksma.fw8smc5_ui.main">main</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.parse_arguments" href="#egse.filterwheel.eksma.fw8smc5_ui.parse_arguments">parse_arguments</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.warning_popup" href="#egse.filterwheel.eksma.fw8smc5_ui.warning_popup">warning_popup</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker">FilterWheelMonitoringWorker</a></code></h4>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.connect_socket" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.connect_socket">connect_socket</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.controller_fault_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.controller_fault_signal">controller_fault_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_fwc_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_fwc_signal">fw_fwc_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_pos_1_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_pos_1_signal">fw_pos_1_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_pos_2_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_pos_2_signal">fw_pos_2_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_ri_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.fw_ri_signal">fw_ri_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.hartmann_status_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.hartmann_status_signal">hartmann_status_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.lamp_on_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.lamp_on_signal">lamp_on_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.laser_on_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.laser_on_signal">laser_on_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.module_fault_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.module_fault_signal">module_fault_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.pm100_power_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.pm100_power_signal">pm100_power_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.run" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.run">run</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.shutter_status_signal" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.shutter_status_signal">shutter_status_signal</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.start_process" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.start_process">start_process</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.stop" href="#egse.filterwheel.eksma.fw8smc5_ui.FilterWheelMonitoringWorker.stop">stop</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController">OGSEUIController</a></code></h4>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController.do" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController.do">do</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController.update" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIController.update">update</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel">OGSEUIModel</a></code></h4>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.decrease_position_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.decrease_position_wheel">decrease_position_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.disconnect" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.disconnect">disconnect</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.fix_controller_fault" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.fix_controller_fault">fix_controller_fault</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.has_commands" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.has_commands">has_commands</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.home_filterwheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.home_filterwheel">home_filterwheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.increase_position_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.increase_position_wheel">increase_position_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.is_connected" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.is_connected">is_connected</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.is_simulator" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.is_simulator">is_simulator</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.load_commands" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.load_commands">load_commands</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.reconnect" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.reconnect">reconnect</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_hartmann" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_hartmann">set_hartmann</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_lamp" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_lamp">set_lamp</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_position_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_position_wheel">set_position_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_relative_intensity" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.set_relative_intensity">set_relative_intensity</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.toggle_shutter" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIModel.toggle_shutter">toggle_shutter</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView">OGSEUIView</a></code></h4>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.POSITION_STEPS" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.POSITION_STEPS">POSITION_STEPS</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.ROTATION_STEPS" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.ROTATION_STEPS">ROTATION_STEPS</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.TOTAL_POSITIONS" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.TOTAL_POSITIONS">TOTAL_POSITIONS</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.WHEEL_POSITIONS" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.WHEEL_POSITIONS">WHEEL_POSITIONS</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.clear_lamp_fault" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.clear_lamp_fault">clear_lamp_fault</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.decrease_intensity_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.decrease_intensity_wheel">decrease_intensity_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.decrease_position_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.decrease_position_wheel">decrease_position_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.home_filterwheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.home_filterwheel">home_filterwheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.increase_intensity_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.increase_intensity_wheel">increase_intensity_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.increase_position_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.increase_position_wheel">increase_position_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.initUI" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.initUI">initUI</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_controller_fault_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_controller_fault_changed">on_controller_fault_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_fwc_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_fwc_changed">on_fw_fwc_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_pos_1_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_pos_1_changed">on_fw_pos_1_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_pos_2_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_pos_2_changed">on_fw_pos_2_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_ri_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_fw_ri_changed">on_fw_ri_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_hartmann_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_hartmann_changed">on_hartmann_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_lamp_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_lamp_changed">on_lamp_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_laser_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_laser_changed">on_laser_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_module_fault_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_module_fault_changed">on_module_fault_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_power_meter_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_power_meter_changed">on_power_meter_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_shutter_changed" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.on_shutter_changed">on_shutter_changed</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.select_position_wheel" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.select_position_wheel">select_position_wheel</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.select_relative_intensity" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.select_relative_intensity">select_relative_intensity</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_hartmann_control" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_hartmann_control">toggle_hartmann_control</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_lamp_control" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_lamp_control">toggle_lamp_control</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_shutter_control" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.toggle_shutter_control">toggle_shutter_control</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.update_scrollArea" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEUIView.update_scrollArea">update_scrollArea</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc5_ui.OGSEWindow" href="#egse.filterwheel.eksma.fw8smc5_ui.OGSEWindow">OGSEWindow</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>