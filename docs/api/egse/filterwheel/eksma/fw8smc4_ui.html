<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>egse.filterwheel.eksma.fw8smc4_ui API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>egse.filterwheel.eksma.fw8smc4_ui</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import argparse
import logging
import sys
from pathlib import Path
import numpy as np
from itertools import compress

&#34;&#34;&#34;
Qt imports for the FilterwheelView class
&#34;&#34;&#34;
import pyqtgraph as pg
from PyQt5.QtGui import QFont, QIcon, QPalette, QPixmap
from PyQt5.QtWidgets import (QAction, QApplication, QFrame, QGroupBox, QHBoxLayout, QVBoxLayout, QLabel,
                             QMainWindow, QLineEdit, QComboBox, QPushButton, QSpinBox, QToolButton, QRadioButton)
from PyQt5.QtCore import QTimer, Qt
from QLed import QLed

from egse.settings import Settings
from egse.observer import Observable
from egse.observer import Observer
from egse.state import UnknownStateError
from egse.config import find_file, set_logger_levels

from egse.filterwheel.eksma.fw8smc4 import FilterWheel8SMC4Controller, FilterWheel8SMC4Proxy, FilterWheel8SMC4Simulator
from egse.gui import show_warning_message

from egse.process import ProcessStatus
from egse.system import do_every

from prometheus_client import Gauge, Summary
from prometheus_client import start_http_server

import threading

logging.basicConfig(level=logging.DEBUG, format=Settings.LOG_FORMAT_FULL)
MODULE_LOGGER = logging.getLogger(&#34;8SMC4 GUI&#34;)

# Note that, in production, the logging level for the different loggers can be changed with a
# service command `set_logging_level(logger_name, level)`.

logger_levels = [
    (&#34;egse.protocol&#34;, logging.INFO),
    (&#34;egse.command&#34;, logging.INFO),
    (&#34;egse.settings&#34;, logging.INFO),
    (&#34;egse.config&#34;, logging.INFO),
    (&#34;git.cmd&#34;, logging.INFO),
]


set_logger_levels(logger_levels)

SETTINGS = Settings.load(&#34;Filter Wheel 8SMC4 Controller&#34;)
GUI_SETTINGS = Settings.load(&#34;FW8SMC4 GUI&#34;)

FONT = QFont(&#34;Helvetica&#34;, 18)


class FilterWheelUIView(QMainWindow, Observable):
    def __init__(self):
        super().__init__()

        # Define those variables that we will need/use in different methods

        self.clear_action = None
        self.reconnect_action = None
        self.toolbar = None
        self.wheel_control = None

        #self.homing_led = None
        self.wheel_1 = None
        self.wheel_2 = None
        self.p_wheel_1 = None
        self.p_wheel_2 = None
        self.p_button = None
        self.wheelstatus = []
        self.attenuation_values = []

        self.setGeometry(300, 300, 1000, 500)
        self.setWindowTitle(&#34;eksma Filter Wheel 8SMC4 Controller&#34;)

        self.init_gui()

    def createToolbar(self):
        image_location = Path(__file__).resolve().parent.parent.parent / &#34;images&#34;

        # Homing button:
        home_pix = QPixmap(str(find_file(&#34;home.svg&#34;, in_dir=&#34;images&#34;)))
        home_icon = QIcon()
        home_icon.addPixmap(home_pix)

        self.homing_action = QAction(home_icon, &#34;Homing&#34;, self)
        self.homing_action.setToolTip(&#34;Homing&#34;)
        self.homing_action.triggered.connect(self.onClick)

        # The Reconnect action is used to reconnect the device or control server

        connected_pix = QPixmap(str(image_location / &#34;connected-100.png&#34;))
        disconnected_pix = QPixmap(str(image_location / &#34;disconnected-100.png&#34;))
        reconnect_icon = QIcon()
        reconnect_icon.addPixmap(connected_pix, QIcon.Normal, QIcon.On)
        reconnect_icon.addPixmap(disconnected_pix, QIcon.Normal, QIcon.Off)

        self.reconnect_action = QAction(reconnect_icon, &#34;Reconnect&#34;, self)
        self.reconnect_action.setToolTip(&#34;Reconnect&#34;)
        self.reconnect_action.setCheckable(True)
        self.reconnect_action.triggered.connect(self.onClick)

        # Building the toolbar:
        self.toolbar = self.addToolBar(&#34;MainToolbar&#34;)
        self.toolbar.addAction(self.reconnect_action)
        self.toolbar.addAction(self.homing_action)
        return self.toolbar

    def createWheelPositionWidget(self):
        hbox = QHBoxLayout()
        # hbox.setContentsMargins(0, 0, 0, 0)
        hbox.setSpacing(0)

        tbox = QVBoxLayout()
        tbox.addWidget(QLabel(&#34;&#34;))
        tbox.addWidget(QLabel(&#34;Position: &#34;))
        tbox.addWidget(QLabel(&#34;Attenuation: &#34;))
        tbox.setSpacing(15)
        tbox.setSizeConstraint(0)
        tbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)

        hbox.addLayout(tbox)
        hbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)
        hbox.setSpacing(0)

        for positions in range(8):
            hbox.setSpacing(0)
            # label
            pos_label = QLabel(f&#34;{positions + 1}&#34;)
            pos_label.setAlignment(Qt.AlignHCenter)

            # led definitions:
            _led = QLed(self, offColour=QLed.Grey, onColour=QLed.Green)
            _led.setFixedSize(40, 40)

            # transmission boxes
            editbox = QLineEdit()
            editbox.setReadOnly(True)
            editbox.setAlignment(Qt.AlignHCenter)
            editbox.setFixedSize(40, 35)

            # building layout:
            vbox = QVBoxLayout()
            vbox.addWidget(pos_label)
            vbox.addWidget(_led)
            vbox.addWidget(editbox)
            vbox.setSpacing(5)
            vbox.setAlignment(Qt.AlignTop)
            hbox.setSpacing(0)
            hbox.addLayout(vbox)

        hbox.setAlignment(Qt.AlignLeft | Qt.AlignTop)
        hbox.setSpacing(0)
        group_box = QGroupBox(&#34;Wheel position&#34;, self)
        group_box.setLayout(hbox)
        group_box.setFixedWidth(600)

        return group_box

    def createWheelControlWidget(self):
        vbox = QVBoxLayout()

        #### POSITION WIDGETS ####

        hposition = QHBoxLayout()

        wheel_label = QLabel(&#34;Set the wheels to position: &#34;)
        self.p_wheel_1 = QComboBox()
        self.p_wheel_1.setCurrentIndex(-1)
        self.p_wheel_1.addItem(&#34;= wheel 1 =&#34;)
        self.p_wheel_1.model().item(0).setEnabled(False)
        self.p_wheel_1.addItems([&#34;position 1&#34;, &#34;position 2&#34;, &#34;position 3&#34;, &#34;position 4&#34;, &#34;position 5&#34;, &#34;position 6&#34;,
                                 &#34;position 7&#34;, &#34;position 8&#34;])
        self.p_wheel_1.setFixedWidth(120)

        self.p_wheel_2 = QComboBox()
        self.p_wheel_2.setCurrentIndex(-1)
        self.p_wheel_2.addItem(&#34;= wheel 2 =&#34;)
        self.p_wheel_2.model().item(0).setEnabled(False)
        self.p_wheel_2.addItems([&#34;position 1&#34;, &#34;position 2&#34;, &#34;position 3&#34;, &#34;position 4&#34;, &#34;position 5&#34;, &#34;position 6&#34;,
                                 &#34;position 7&#34;, &#34;position 8&#34;])
        # self.p_wheel_2.model()
        # self.p_wheel_2.setEnabled(False)
        self.p_wheel_2.setFixedWidth(120)
        self.p_button = QPushButton(&#34;Go to Position&#34;)
        self.p_button.setToolTip(
            &#34;When you press this button, the Wheel will start moving \n&#34;
            &#34;to the position of the requested positions.\n&#34;
        )
        self.p_button.setFixedWidth(150)
        self.p_button.clicked.connect(self.go_to_wheels_position)

        hposition.addWidget(wheel_label)
        hposition.addWidget(self.p_wheel_1)
        hposition.addWidget(self.p_wheel_2)
        hposition.addWidget(self.p_button)
        hposition.setAlignment(Qt.AlignTop)

        ### ATTENUATION WIDGET ###

        htransmittance = QHBoxLayout()
        t_label = QLabel(&#34;Set the wheels to attenuation: &#34;)

        self.attenuation = QComboBox()
        self.attenuation.setCurrentIndex(-1)
        self.attenuation.addItem(&#34;= Attenuation =&#34;)
        self.attenuation.model().item(0).setEnabled(False)
        self.attenuation.setFixedWidth(230)

        self.t_button = QPushButton(&#34;Go to attenuation&#34;)
        self.t_button.setToolTip(
            &#34;When you press this button, the Wheel will start moving \n&#34;
            &#34;to the position of the requested attenuation.\n&#34;
        )
        self.t_button.setFixedWidth(150)
        self.t_button.clicked.connect(self.go_to_wheels_attenuation)

        htransmittance.addWidget(t_label)
        htransmittance.addWidget(self.attenuation)
        htransmittance.addWidget(self.t_button)


        htransmittance.setAlignment(Qt.AlignTop)

        ### JOG WIDGET ###
        hjog  = QHBoxLayout()
        j_label = QLabel(&#34;Jog attenuation position:&#34;)

        self.j_up_button = QToolButton()
        self.j_up_button.setArrowType(Qt.RightArrow)
        self.j_up_button.setToolTip(&#34;Jogs the Attenuation to the next upper level&#34;)
        self.j_up_button.setObjectName(&#34;up&#34;)
        self.j_up_button.setFixedWidth(35)
        self.j_up_button.clicked.connect(self.att_level)

        self.j_down_button = QToolButton()
        self.j_down_button.setArrowType(Qt.LeftArrow)
        self.j_down_button.setToolTip(&#34;Jogs the Attenuation to the next downer level&#34;)
        self.j_down_button.setObjectName(&#34;down&#34;)
        self.j_down_button.setFixedWidth(35)
        self.j_down_button.clicked.connect(self.att_level)

        hjog.addWidget(j_label)
        hjog.addWidget(self.j_down_button)
        hjog.setAlignment(Qt.AlignLeft)
        hjog.addWidget(self.j_up_button)
        hjog.setAlignment(Qt.AlignLeft)
        hjog.setAlignment(Qt.AlignTop)

        ## PUTTING ALL TOGETHER ###
        vbox.addLayout(hposition)
        vbox.setSpacing(0)
        vbox.addLayout(htransmittance)
        vbox.addLayout(hjog)
        vbox.setAlignment(Qt.AlignTop)

        group_box = QGroupBox(&#34;Commands&#34;, self)
        group_box.setLayout(vbox)
        group_box.setFixedWidth(600)
        return group_box

    def createWheelStatusWidget(self):

        group_box = QGroupBox(&#34;Eksma Filter Wheel Status&#34;)

        # Create the label fields that display the current measure

        vbox = QVBoxLayout()

        # FILTERWHEEL STATUS ###
        # HK Parameters from motor and wheels
        vstatusbox = QVBoxLayout()
        vstatusbox.setAlignment(Qt.AlignTop)

        self.wheelstatus = [[QLabel(&#34;Position (steps):&#34;), QLineEdit()],
                            [QLabel(&#34;Wheel speed:&#34;), QLineEdit()],
                            [QLabel(&#34;Temperature (°C)&#34;), QLineEdit()],
                            [QLabel(&#34;Engine Current (mA):&#34;), QLineEdit()],
                            [QLabel(&#34;Power Supply voltage (V):&#34;), QLineEdit()],
                            [QLabel(&#34;Status Flags:&#34;), QLineEdit()]]

        for elements in self.wheelstatus:
            hstatus = QHBoxLayout()
            hstatus.setSpacing(3)
            # elements[0].setStyleSheet(&#34;QLabel { background-color : LightGray; }&#34;) --&gt; here we see the widget policy
            elements[0].setFixedWidth(210)
            elements[1].setReadOnly(True)
            elements[1].setFixedWidth(70)
            hstatus.addWidget(elements[0])
            hstatus.addWidget(elements[1])

            vstatusbox.addLayout(hstatus)

        ## FLAGS WIDGET ##
        vflagbox = QVBoxLayout()

        self.wheel_flags = [[QLabel(&#34;Is homed&#34;), QLed(self, offColour=QLed.Red, onColour=QLed.Green, shape=QLed.Square)],
                            [QLabel(&#34;Secur&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)],
                            [QLabel(&#34;Alarm&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)],
                            [QLabel(&#34;Error&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)]]

        for element in self.wheel_flags:
            hflags = QHBoxLayout()
            hflags.setSpacing(3)
            element[1].setFixedSize(15, 15)
            hflags.addWidget(element[1])
            hflags.addWidget(element[0])

            vflagbox.addLayout(hflags)

        # vledbox = QVBoxLayout()
        # hbox = QHBoxLayout()
        # self.homing_led = QLed(self, offColour=QLed.Red, onColour=QLed.Green, shape=QLed.Square)
        # self.homing_led.setFixedSize(15, 15)
        #
        # hbox.addWidget(self.homing_led)
        # hbox.setAlignment(Qt.AlignTop)
        #
        # hbox.addWidget(QLabel(&#34;Is Homed&#34;))
        # hbox.setAlignment(Qt.AlignTop)
        # hbox.setSpacing(5)
        # vledbox.addLayout(hbox)

        # ATTENUATION UNITS WIDGET
        vattbox = QVBoxLayout()
        vattbox.setAlignment(Qt.AlignTop)

        att_label = QLabel(&#34;== ATTENUATION PARAMETERS ==&#34;)

        vattbox.addWidget(att_label)

        self.wheelconfiguration = [[QLabel(&#34;Actual wheel attenuation:&#34;), QLineEdit()]]
        for elements in self.wheelconfiguration:
            hconf = QHBoxLayout()
            hconf.setSpacing(3)
            elements[0].setFixedWidth(210)
            elements[1].setReadOnly(True)
            elements[1].setFixedWidth(70)
            hconf.addWidget(elements[0])
            hconf.addWidget(elements[1])

            vattbox.addLayout(hconf)

        self.att_modes = [[QRadioButton(&#34;OD&#34;)],
                                [QRadioButton(&#34;Transmittance (%)&#34;)],
                                [QRadioButton(&#34;Irradiance (W/cm2)&#34;)],
                                [QRadioButton(&#34;Star Magnitude&#34;)]
                                ]
        for mode in self.att_modes:
            mode[0].clicked.connect(self.set_mode)
            vattbox.addWidget(mode[0])

        vbox.addLayout(vstatusbox)
        vbox.addLayout(vflagbox)
        #vbox.addLayout(vledbox)
        vbox.addLayout(vattbox)

        group_box.setLayout(vbox)
        group_box.setFixedWidth(290)
        return group_box

    def init_gui(self):

        # Switch to using white background and black foreground for pyqtgraph stripcharts

        pg.setConfigOption(&#34;background&#34;, &#34;w&#34;)
        pg.setConfigOption(&#34;foreground&#34;, &#34;k&#34;)

        # The main frame in which all the other frames are located, the outer Application frame

        app_frame = QFrame()
        app_frame.setObjectName(&#34;AppFrame&#34;)

        self.wheel_1 = self.createWheelPositionWidget()
        self.wheel_1.setTitle(&#34;Wheel 1&#34;)
        self.wheel_2 = self.createWheelPositionWidget()
        self.wheel_2.setTitle(&#34;Wheel 2&#34;)

        self.wheel_control = self.createWheelControlWidget()
        wheel_box = QVBoxLayout()
        wheel_box.addWidget(self.wheel_1)
        wheel_box.addWidget(self.wheel_2)
        wheel_box.addWidget(self.wheel_control)
        wheel_box.setSpacing(3)

        hbox = QHBoxLayout()
        self.createToolbar()
        hbox.addWidget(self.createWheelStatusWidget())
        hbox.addLayout(wheel_box)

        app_frame.setLayout(hbox)

        self.setCentralWidget(app_frame)

    def set_style(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a real
        LakeShore Controller (hardware).
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Light)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def set_style_simulator(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a
        LakeSHore Simulator.
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Dark)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def onClick(self):

        sender = self.sender()

        MODULE_LOGGER.debug(f&#34;sender.text() = {sender.text()}&#34;)
        MODULE_LOGGER.debug(f&#34;sender.isChecked() = {sender.isChecked()}&#34;)

        self.notifyObservers(sender)

    def set_mode(self):
        #todo: convert attenuation values to the mode selected
        print(&#34;new mode selected&#34;)

    def set_connection_state(self, state):

        if state == &#34;connected&#34;:
            self.reconnect_action.setChecked(True)
        elif state == &#34;disconnected&#34;:
            self.reconnect_action.setChecked(False)
        else:
            raise UnknownStateError(
                f&#34;Unknown State ({state}), expected &#39;connected&#39; or &#39;disconnected&#39;.&#34;
            )

    def update_position(self, new_position):
        #print(new_position)
        ## resetting to false:
        self.wheel_1.findChildren(QLed)[new_position[0]].blockSignals(True)  # Block signals just in case: to be removed if any other way is used to select the wheels position
        for x in self.wheel_1.findChildren(QLed):
            x.value = False
            x.repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_1.findChildren(QLed)[new_position[0]].value = True
        self.wheel_1.findChildren(QLed)[new_position[0]].repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_1.findChildren(QLed)[new_position[0]].blockSignals(False)

        self.wheel_2.findChildren(QLed)[new_position[1]].blockSignals(True)
        for x in self.wheel_2.findChildren(QLed):
            x.value = False
            x.repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_2.findChildren(QLed)[new_position[1]].value = True
        self.wheel_2.findChildren(QLed)[new_position[1]].repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_2.findChildren(QLed)[new_position[1]].blockSignals(False)

        self.update_attenuation_value()

    def update_attenuations(self, levels):
        ## setting the wheel transmittances:
        for elements in range(8):
            self.wheel_1.findChildren(QLineEdit)[elements].setText(levels[0][elements])
            self.wheel_2.findChildren(QLineEdit)[elements].setText(levels[1][elements])

    def update_attenuation_value(self):
        # boolean list of Qleds for each wheel:
        att_pos1 = [i.value for i in self.wheel_1.findChildren(QLed)]
        att_pos2 = [i.value for i in self.wheel_2.findChildren(QLed)]

        # getting the required index from the position:
        index1 = list(compress(range(len(att_pos1)), att_pos1))[0]
        index2 = list(compress(range(len(att_pos2)), att_pos2))[0]

        # Some indexes might not exist as they are lead to duplicated attenuation levels, that is why the ValueError
        # is used
        try:
            att_index = self.attenuation_values[1].index([index1, index2]) + 1

        except ValueError:
            # Normally only numbers are thrown here:
            att_1 = float(self.wheel_1.findChildren(QLineEdit)[index1].text())
            att_2 = float(self.wheel_2.findChildren(QLineEdit)[index2].text())
            att_index = self.attenuation_values[0].index(att_1 + att_2)

        # updates attenuation combobox
        self.attenuation.blockSignals(True)
        self.attenuation.setCurrentIndex(att_index)
        self.attenuation.repaint()
        self.attenuation.blockSignals(False)

        # updates attenuation value in the config widget
        self.wheelconfiguration[0][1].setText(self.attenuation.currentText())
        self.wheelconfiguration[0][1].repaint()

    def initialize_position_values(self, init_values, levels):
        pos_wheel_1 = init_values[0]
        pos_wheel_2 = init_values[1]

        # fixme: there is an issue here as the wheel might not be at (0,0) position on sw boot ...
        #  for the moment a warning message is sent on init
        if self.wheel_flags[0][1].value == 0:
            self.wheel_flags[0][1].setToolTip(&#34;Homing is needed&#34;)
            for elements in range(8):
                self.wheel_1.findChildren(QLineEdit)[elements].setText(&#34;None&#34;)
                self.wheel_2.findChildren(QLineEdit)[elements].setText(&#34;None&#34;)

        else:
            if any(i !=0 for i in init_values):
                description = &#34;The filter wheel has been started in a non zero position.&#34;
                info_text = (
                    &#34;The GUI will start, but the initial position of the filter wheel might not be the real one.&#34;
                    &#34;In order to correctly initialize the wheel, please do a homing command first &#34;
                    &#34;Otherwise, move both wheel 1 and wheel 2 to their zero position &#34;
                )

                show_warning_message(description, info_text)
            else:
                # setting the initial wheel positions:
                self.wheel_1.findChildren(QLed)[pos_wheel_1].blockSignals(
                    True)  # Block signals just in case: to be removed if any other way is used to select the wheels position
                self.wheel_1.findChildren(QLed)[pos_wheel_1].value = True
                self.wheel_1.findChildren(QLed)[pos_wheel_1].blockSignals(False)
                self.wheel_2.findChildren(QLed)[pos_wheel_2].blockSignals(True)
                self.wheel_2.findChildren(QLed)[pos_wheel_2].value = True
                self.wheel_2.findChildren(QLed)[pos_wheel_2].blockSignals(False)

                self.update_attenuation_value()

            self.wheel_flags[0][1].setToolTip(&#34;The wheel is calibrated, no homing needed&#34;)

            # setting the wheel transmittances:
            for elements in range(8):
                self.wheel_1.findChildren(QLineEdit)[elements].setText(repr(levels[0][elements]))
                self.wheel_2.findChildren(QLineEdit)[elements].setText(repr(levels[1][elements]))



    def initialize_status_values(self, _status, s_flags):
        # building status flags list:
        sf = [s_flags[&#34;Is homed&#34;], s_flags[&#34;Secur&#34;], s_flags[&#34;Alarm&#34;], 0]

        # first we see if there are complicated errors:
        error = [s_flags[&#34;Control&#34;], s_flags[&#34;Err C&#34;], s_flags[&#34;Err D&#34;], s_flags[&#34;Err V&#34;], s_flags[&#34;EEPROM Connected&#34;],
                 s_flags[&#34;CTP error&#34;], s_flags[&#34;Borders Swap Misset&#34;], s_flags[&#34;H bridge fault&#34;]]

        if any(value == 1 for value in error):
            sf[3] = 1

        for i in range(len(_status)):
            self.wheelstatus[i][1].setText(repr(_status[i]))

        # update of the status flags:
        for i in range(len(sf)):
            self.wheel_flags[i][1].value = sf[i]

        # checks if homing state changed thus goes to enable

        if sf[0] == 0:
            self.enable_control_layout()
        else:
            pass

    def initialize_attenuator_values(self, value):
        # Initializes the attenuator combobox from the Commanding widget
        self.attenuation_values = value
        _factors = self.attenuation_values[0]
        _values = map(str, _factors)
        self.attenuation.addItems(_values)

        # Initializes the attenuator configuration spinbox from the status widget
        self.att_modes[0][0].blockSignals(True)
        self.att_modes[0][0].setChecked(True)
        self.att_modes[0][0].blockSignals(False)


    def enable_control_layout(self):
        # Now we check homing from the new flags coming from the controller:
        _homing = self.wheel_flags[0][1].value
        for elements in self.wheel_control.findChildren(QComboBox):
            elements.setEnabled(_homing)
        for elements in self.wheel_control.findChildren(QToolButton):
            elements.setEnabled(_homing)
        for elements in self.wheel_control.findChildren(QPushButton):
            elements.setEnabled(_homing)

    def go_to_wheels_position(self):
        new_position = [self.p_wheel_1.currentIndex() - 1, self.p_wheel_2.currentIndex() - 1]
        if any(pos &lt; 0 for pos in new_position):
            MODULE_LOGGER.warning(&#34;Please select a position for each of the filter wheels&#34;)
        else:
            self.actionObservers({&#34;set_position&#34;: new_position})

    def go_to_wheels_attenuation(self):
        # takes the index value of transmittance, calculates the wheels position and moves the wheels to the position.
        t_value = self.attenuation.currentIndex()
        if t_value == 0:
            MODULE_LOGGER.warning(&#34;Please select an attenuation from the combo box&#34;)
        else:
            index = self.attenuation_values[1]
            index = index[t_value-1]
            self.actionObservers({&#34;set_position&#34;: index})

    def att_level(self):
        sender = self.sender()
        object_name = sender.objectName()
        self.actionObservers({&#34;att_level&#34;: object_name})


class FilterWheelUIModel:
    def __init__(self, type_):
        self.type = type_

        if self.type == &#34;proxy&#34;:
            self.fw = FilterWheel8SMC4Proxy()
        elif self.type == &#34;direct&#34;:
            self.fw = FilterWheel8SMC4Controller()
            self.fw.connect()
        elif self.type == &#34;simulator&#34;:
            self.fw = FilterWheel8SMC4Simulator()
        else:
            raise Exception(
                f&#34;Unknown type of Filter Wheel implementation passed into the model: {type}&#34;
            )
        if self.fw is not None:
            MODULE_LOGGER.debug(
                f&#34;FilterWheel8SMC4Controller initialized as {self.fw.__class__.__name__}&#34;
            )

    def has_commands(self):
        if self.type == &#34;proxy&#34;:
            return self.fw.has_commands()
        return True

    def load_commands(self):
        if self.type == &#34;proxy&#34;:
            self.fw.load_commands()

    def is_simulator(self):
        return self.fw.is_simulator()

    def is_connected(self):
        if self.type == &#34;proxy&#34;:
            return self.fw.is_cs_connected()
        else:
            return self.fw.is_connected()

    def reconnect(self):
        # I need a better insight in what could be wrong and how to reconnect
        # This is probably also dependent on Proxy or other Hexapod implementation

        if self.type == &#34;proxy&#34;:
            self.fw.reconnect_cs()
            return self.fw.is_cs_connected()
        else:
            self.fw.reconnect()
            return self.fw.is_connected()
        return False

    def disconnect(self):
        if self.type == &#34;proxy&#34;:
            self.fw.disconnect_cs()
        else:
            self.fw.disconnect()

    def load_wheels(self):
        _setup = self.fw.load_wheels()

    def homing(self):
        self.fw.homing()

    def get_position(self):
        position = self.fw.get_position()
        return position

    def set_position(self, pos_wheel1, pos_wheel2):
        _output = self.fw.set_position(pos_wheel1, pos_wheel2)
        return _output

    def get_status(self):
        return self.fw.get_status()

    def wheel_factors(self):
        return self.fw.wheel_factors()

    def att_get_level(self):
        return self.fw.att_get_level()

    def att_level_up(self):
        _position = self.fw.att_level_up()
        return _position

    def att_level_down(self):
        _position = self.fw.att_level_down()
        return _position

    def att_status(self, _flags):
        s_flags = self.fw.att_status(_flags)
        return s_flags


class FilterWheelUIController(Observer):
    def __init__(self, model, view):
        self.model = model
        self.view = view
        self.view.addObserver(self)
        self.create_timer()

        if self.model.is_connected():
            self.initialize_status_values()
            self.initialize_attenuator_values()
            self.initialize_position_values()
            #self.enable_control_layout()

            if self.model.is_simulator():
                self.view.set_style_simulator()
            else:
                self.view.set_style()

            self.view.set_connection_state(&#34;connected&#34;)
            self.start_timer()
        else:
            self.stop_timer()
            self.view.set_connection_state(&#34;disconnected&#34;)

    def create_timer(self):
        &#34;&#34;&#34;Create a Timer that will update the States every second.&#34;&#34;&#34;

        self.states_capture_timer = QTimer()

        self.states_capture_timer.timeout.connect(self.update_status_values)
        self.states_capture_timer.setInterval(200)

    def start_timer(self):
        self.states_capture_timer.start()

    def stop_timer(self):
        self.states_capture_timer.stop()

    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():
                MODULE_LOGGER.debug(&#34;Reconnecting the Filter Wheel model.&#34;)
                if self.model.reconnect():
                    self.view.set_connection_state(&#34;connected&#34;)
                    if not self.model.has_commands():
                        self.model.load_commands()
                    self.start_timer()
                else:
                    self.view.reconnect_action.setChecked(False)
            else:
                MODULE_LOGGER.debug(&#34;Disconnecting the Filter Wheel model.&#34;)
                self.stop_timer()
                self.model.disconnect()
                self.view.set_connection_state(&#34;disconnected&#34;)

            return

        if text == &#34;Homing&#34;:
            MODULE_LOGGER.debug(&#34;Trying to perform homing to calibrate the Filter Wheel position&#34;)
            self.model.homing()
            self.initialize_position_values()
            self.enable_control_layout()

        if text == &#34;ClearErrors&#34;:
            self.model.clearError()

        if text == &#34;Reset&#34;:
            pass

    def update_status_values(self):
        _status = self.model.get_status()
        s_flags = self.model.att_status(_status[5])
        self.view.initialize_status_values(_status, s_flags)

    def do(self, actions):

        for action, value in actions.items():
            MODULE_LOGGER.debug(f&#34;do {action} with {value}&#34;)
            if action == &#34;set_position&#34;:
                position = value
                MODULE_LOGGER.debug(
                    f&#34;do: set_position({position[0]}:{type(position[0])}, {position[1]}:{type(position[1])})&#34;)
                _ouput = self.model.set_position(position[0], position[1])
                # fake change of the position value: if set_position is OK then we assume the position is correct
                self.view.update_position(position)

            if action == &#34;att_level&#34;:
                jog = value
                MODULE_LOGGER.debug(f&#34;do: att_level_up({jog}):{type(jog)}&#34;)
                if jog == &#34;up&#34;:
                    position = self.model.att_level_up()
                elif jog == &#34;down&#34;:
                    position = self.model.att_level_down()
                else:
                    MODULE_LOGGER.warning(&#34;Something went wrong when trying to move the wheel&#34;)
                self.view.update_position(position)

    def initialize_position_values(self):
        init_position = self.model.get_position()
        levels = self.model.att_get_level()
        self.view.initialize_position_values(init_position, levels)

    def initialize_status_values(self):
        _status = self.model.get_status()
        s_flags = self.model.att_status(_status[5])
        self.view.initialize_status_values(_status, s_flags)

    def initialize_attenuator_values(self):
        self.model.load_wheels()

        _factors = self.model.wheel_factors()
        self.view.initialize_attenuator_values(_factors)

    def enable_control_layout(self):
        self.view.enable_control_layout()


def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;, &#34;direct&#34;},
        help=&#34;Specify the implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )
    parser.add_argument(
        &#34;--profile&#34;,
        default=False,
        action=&#34;store_true&#34;,
        help=&#34;Enable info logging messages with method profile information.&#34;,
    )
    args = parser.parse_args()
    return args

def main():

    STYLES_LOCATION = find_file(&#34;styles.qss&#34;, in_dir=&#34;egse/gui&#34;)

    args = list(sys.argv)
    args[1:1] = [&#34;-stylesheet&#34;, str(STYLES_LOCATION)]

    process_status = ProcessStatus()

    timer_thread = threading.Thread(target=do_every, args=(10, process_status.update))
    timer_thread.daemon = True
    timer_thread.start()

    start_http_server(GUI_SETTINGS.METRICS_PORT)

    app = QApplication(args)

    args = parse_arguments()

    if args.profile:
        Settings.set_profiling(True)

    if args.type == &#34;proxy&#34;:
        proxy = FilterWheel8SMC4Proxy()
        if not proxy.ping():
            description = &#34;Could not connect to Filter Wheel Control Server&#34;
            info_text = (
                    &#34;The GUI will start, but the connection button will show a disconnected state. &#34;
                    &#34;Please check if the Control Server is running and start the server if needed. &#34;
                    &#34;Otherwise, check if the correct HOSTNAME for the control server is set in the &#34;
                    &#34;Settings.yaml &#34;
                    &#34;configuration file.&#34;
                )

            show_warning_message(description, info_text)

    view = FilterWheelUIView()
    model = FilterWheelUIModel(args.type)
    controller = FilterWheelUIController(model, view)

    view.show()
    return app.exec_()

if __name__ == &#34;__main__&#34;:
    sys.exit(main())</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main():

    STYLES_LOCATION = find_file(&#34;styles.qss&#34;, in_dir=&#34;egse/gui&#34;)

    args = list(sys.argv)
    args[1:1] = [&#34;-stylesheet&#34;, str(STYLES_LOCATION)]

    process_status = ProcessStatus()

    timer_thread = threading.Thread(target=do_every, args=(10, process_status.update))
    timer_thread.daemon = True
    timer_thread.start()

    start_http_server(GUI_SETTINGS.METRICS_PORT)

    app = QApplication(args)

    args = parse_arguments()

    if args.profile:
        Settings.set_profiling(True)

    if args.type == &#34;proxy&#34;:
        proxy = FilterWheel8SMC4Proxy()
        if not proxy.ping():
            description = &#34;Could not connect to Filter Wheel Control Server&#34;
            info_text = (
                    &#34;The GUI will start, but the connection button will show a disconnected state. &#34;
                    &#34;Please check if the Control Server is running and start the server if needed. &#34;
                    &#34;Otherwise, check if the correct HOSTNAME for the control server is set in the &#34;
                    &#34;Settings.yaml &#34;
                    &#34;configuration file.&#34;
                )

            show_warning_message(description, info_text)

    view = FilterWheelUIView()
    model = FilterWheelUIModel(args.type)
    controller = FilterWheelUIController(model, view)

    view.show()
    return app.exec_()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.parse_arguments"><code class="name flex">
<span>def <span class="ident">parse_arguments</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Prepare the arguments that are specific for this application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;, &#34;direct&#34;},
        help=&#34;Specify the implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )
    parser.add_argument(
        &#34;--profile&#34;,
        default=False,
        action=&#34;store_true&#34;,
        help=&#34;Enable info logging messages with method profile information.&#34;,
    )
    args = parser.parse_args()
    return args</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController"><code class="flex name class">
<span>class <span class="ident">FilterWheelUIController</span></span>
<span>(</span><span>model, view)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FilterWheelUIController(Observer):
    def __init__(self, model, view):
        self.model = model
        self.view = view
        self.view.addObserver(self)
        self.create_timer()

        if self.model.is_connected():
            self.initialize_status_values()
            self.initialize_attenuator_values()
            self.initialize_position_values()
            #self.enable_control_layout()

            if self.model.is_simulator():
                self.view.set_style_simulator()
            else:
                self.view.set_style()

            self.view.set_connection_state(&#34;connected&#34;)
            self.start_timer()
        else:
            self.stop_timer()
            self.view.set_connection_state(&#34;disconnected&#34;)

    def create_timer(self):
        &#34;&#34;&#34;Create a Timer that will update the States every second.&#34;&#34;&#34;

        self.states_capture_timer = QTimer()

        self.states_capture_timer.timeout.connect(self.update_status_values)
        self.states_capture_timer.setInterval(200)

    def start_timer(self):
        self.states_capture_timer.start()

    def stop_timer(self):
        self.states_capture_timer.stop()

    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():
                MODULE_LOGGER.debug(&#34;Reconnecting the Filter Wheel model.&#34;)
                if self.model.reconnect():
                    self.view.set_connection_state(&#34;connected&#34;)
                    if not self.model.has_commands():
                        self.model.load_commands()
                    self.start_timer()
                else:
                    self.view.reconnect_action.setChecked(False)
            else:
                MODULE_LOGGER.debug(&#34;Disconnecting the Filter Wheel model.&#34;)
                self.stop_timer()
                self.model.disconnect()
                self.view.set_connection_state(&#34;disconnected&#34;)

            return

        if text == &#34;Homing&#34;:
            MODULE_LOGGER.debug(&#34;Trying to perform homing to calibrate the Filter Wheel position&#34;)
            self.model.homing()
            self.initialize_position_values()
            self.enable_control_layout()

        if text == &#34;ClearErrors&#34;:
            self.model.clearError()

        if text == &#34;Reset&#34;:
            pass

    def update_status_values(self):
        _status = self.model.get_status()
        s_flags = self.model.att_status(_status[5])
        self.view.initialize_status_values(_status, s_flags)

    def do(self, actions):

        for action, value in actions.items():
            MODULE_LOGGER.debug(f&#34;do {action} with {value}&#34;)
            if action == &#34;set_position&#34;:
                position = value
                MODULE_LOGGER.debug(
                    f&#34;do: set_position({position[0]}:{type(position[0])}, {position[1]}:{type(position[1])})&#34;)
                _ouput = self.model.set_position(position[0], position[1])
                # fake change of the position value: if set_position is OK then we assume the position is correct
                self.view.update_position(position)

            if action == &#34;att_level&#34;:
                jog = value
                MODULE_LOGGER.debug(f&#34;do: att_level_up({jog}):{type(jog)}&#34;)
                if jog == &#34;up&#34;:
                    position = self.model.att_level_up()
                elif jog == &#34;down&#34;:
                    position = self.model.att_level_down()
                else:
                    MODULE_LOGGER.warning(&#34;Something went wrong when trying to move the wheel&#34;)
                self.view.update_position(position)

    def initialize_position_values(self):
        init_position = self.model.get_position()
        levels = self.model.att_get_level()
        self.view.initialize_position_values(init_position, levels)

    def initialize_status_values(self):
        _status = self.model.get_status()
        s_flags = self.model.att_status(_status[5])
        self.view.initialize_status_values(_status, s_flags)

    def initialize_attenuator_values(self):
        self.model.load_wheels()

        _factors = self.model.wheel_factors()
        self.view.initialize_attenuator_values(_factors)

    def enable_control_layout(self):
        self.view.enable_control_layout()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="egse.observer.Observer" href="../../observer.html#egse.observer.Observer">Observer</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.create_timer"><code class="name flex">
<span>def <span class="ident">create_timer</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a Timer that will update the States every second.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_timer(self):
    &#34;&#34;&#34;Create a Timer that will update the States every second.&#34;&#34;&#34;

    self.states_capture_timer = QTimer()

    self.states_capture_timer.timeout.connect(self.update_status_values)
    self.states_capture_timer.setInterval(200)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.do"><code class="name flex">
<span>def <span class="ident">do</span></span>(<span>self, actions)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do(self, actions):

    for action, value in actions.items():
        MODULE_LOGGER.debug(f&#34;do {action} with {value}&#34;)
        if action == &#34;set_position&#34;:
            position = value
            MODULE_LOGGER.debug(
                f&#34;do: set_position({position[0]}:{type(position[0])}, {position[1]}:{type(position[1])})&#34;)
            _ouput = self.model.set_position(position[0], position[1])
            # fake change of the position value: if set_position is OK then we assume the position is correct
            self.view.update_position(position)

        if action == &#34;att_level&#34;:
            jog = value
            MODULE_LOGGER.debug(f&#34;do: att_level_up({jog}):{type(jog)}&#34;)
            if jog == &#34;up&#34;:
                position = self.model.att_level_up()
            elif jog == &#34;down&#34;:
                position = self.model.att_level_down()
            else:
                MODULE_LOGGER.warning(&#34;Something went wrong when trying to move the wheel&#34;)
            self.view.update_position(position)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.enable_control_layout"><code class="name flex">
<span>def <span class="ident">enable_control_layout</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def enable_control_layout(self):
    self.view.enable_control_layout()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_attenuator_values"><code class="name flex">
<span>def <span class="ident">initialize_attenuator_values</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initialize_attenuator_values(self):
    self.model.load_wheels()

    _factors = self.model.wheel_factors()
    self.view.initialize_attenuator_values(_factors)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_position_values"><code class="name flex">
<span>def <span class="ident">initialize_position_values</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initialize_position_values(self):
    init_position = self.model.get_position()
    levels = self.model.att_get_level()
    self.view.initialize_position_values(init_position, levels)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_status_values"><code class="name flex">
<span>def <span class="ident">initialize_status_values</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initialize_status_values(self):
    _status = self.model.get_status()
    s_flags = self.model.att_status(_status[5])
    self.view.initialize_status_values(_status, s_flags)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.start_timer"><code class="name flex">
<span>def <span class="ident">start_timer</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_timer(self):
    self.states_capture_timer.start()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.stop_timer"><code class="name flex">
<span>def <span class="ident">stop_timer</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stop_timer(self):
    self.states_capture_timer.stop()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self, changed_object)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self, changed_object):

    text = changed_object.text()

    if text == &#34;Reconnect&#34;:

        if changed_object.isChecked():
            MODULE_LOGGER.debug(&#34;Reconnecting the Filter Wheel model.&#34;)
            if self.model.reconnect():
                self.view.set_connection_state(&#34;connected&#34;)
                if not self.model.has_commands():
                    self.model.load_commands()
                self.start_timer()
            else:
                self.view.reconnect_action.setChecked(False)
        else:
            MODULE_LOGGER.debug(&#34;Disconnecting the Filter Wheel model.&#34;)
            self.stop_timer()
            self.model.disconnect()
            self.view.set_connection_state(&#34;disconnected&#34;)

        return

    if text == &#34;Homing&#34;:
        MODULE_LOGGER.debug(&#34;Trying to perform homing to calibrate the Filter Wheel position&#34;)
        self.model.homing()
        self.initialize_position_values()
        self.enable_control_layout()

    if text == &#34;ClearErrors&#34;:
        self.model.clearError()

    if text == &#34;Reset&#34;:
        pass</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.update_status_values"><code class="name flex">
<span>def <span class="ident">update_status_values</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_status_values(self):
    _status = self.model.get_status()
    s_flags = self.model.att_status(_status[5])
    self.view.initialize_status_values(_status, s_flags)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel"><code class="flex name class">
<span>class <span class="ident">FilterWheelUIModel</span></span>
<span>(</span><span>type_)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FilterWheelUIModel:
    def __init__(self, type_):
        self.type = type_

        if self.type == &#34;proxy&#34;:
            self.fw = FilterWheel8SMC4Proxy()
        elif self.type == &#34;direct&#34;:
            self.fw = FilterWheel8SMC4Controller()
            self.fw.connect()
        elif self.type == &#34;simulator&#34;:
            self.fw = FilterWheel8SMC4Simulator()
        else:
            raise Exception(
                f&#34;Unknown type of Filter Wheel implementation passed into the model: {type}&#34;
            )
        if self.fw is not None:
            MODULE_LOGGER.debug(
                f&#34;FilterWheel8SMC4Controller initialized as {self.fw.__class__.__name__}&#34;
            )

    def has_commands(self):
        if self.type == &#34;proxy&#34;:
            return self.fw.has_commands()
        return True

    def load_commands(self):
        if self.type == &#34;proxy&#34;:
            self.fw.load_commands()

    def is_simulator(self):
        return self.fw.is_simulator()

    def is_connected(self):
        if self.type == &#34;proxy&#34;:
            return self.fw.is_cs_connected()
        else:
            return self.fw.is_connected()

    def reconnect(self):
        # I need a better insight in what could be wrong and how to reconnect
        # This is probably also dependent on Proxy or other Hexapod implementation

        if self.type == &#34;proxy&#34;:
            self.fw.reconnect_cs()
            return self.fw.is_cs_connected()
        else:
            self.fw.reconnect()
            return self.fw.is_connected()
        return False

    def disconnect(self):
        if self.type == &#34;proxy&#34;:
            self.fw.disconnect_cs()
        else:
            self.fw.disconnect()

    def load_wheels(self):
        _setup = self.fw.load_wheels()

    def homing(self):
        self.fw.homing()

    def get_position(self):
        position = self.fw.get_position()
        return position

    def set_position(self, pos_wheel1, pos_wheel2):
        _output = self.fw.set_position(pos_wheel1, pos_wheel2)
        return _output

    def get_status(self):
        return self.fw.get_status()

    def wheel_factors(self):
        return self.fw.wheel_factors()

    def att_get_level(self):
        return self.fw.att_get_level()

    def att_level_up(self):
        _position = self.fw.att_level_up()
        return _position

    def att_level_down(self):
        _position = self.fw.att_level_down()
        return _position

    def att_status(self, _flags):
        s_flags = self.fw.att_status(_flags)
        return s_flags</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_get_level"><code class="name flex">
<span>def <span class="ident">att_get_level</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def att_get_level(self):
    return self.fw.att_get_level()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_level_down"><code class="name flex">
<span>def <span class="ident">att_level_down</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def att_level_down(self):
    _position = self.fw.att_level_down()
    return _position</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_level_up"><code class="name flex">
<span>def <span class="ident">att_level_up</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def att_level_up(self):
    _position = self.fw.att_level_up()
    return _position</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_status"><code class="name flex">
<span>def <span class="ident">att_status</span></span>(<span>self, _flags)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def att_status(self, _flags):
    s_flags = self.fw.att_status(_flags)
    return s_flags</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.disconnect"><code class="name flex">
<span>def <span class="ident">disconnect</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def disconnect(self):
    if self.type == &#34;proxy&#34;:
        self.fw.disconnect_cs()
    else:
        self.fw.disconnect()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.get_position"><code class="name flex">
<span>def <span class="ident">get_position</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_position(self):
    position = self.fw.get_position()
    return position</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.get_status"><code class="name flex">
<span>def <span class="ident">get_status</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_status(self):
    return self.fw.get_status()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.has_commands"><code class="name flex">
<span>def <span class="ident">has_commands</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def has_commands(self):
    if self.type == &#34;proxy&#34;:
        return self.fw.has_commands()
    return True</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.homing"><code class="name flex">
<span>def <span class="ident">homing</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def homing(self):
    self.fw.homing()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.is_connected"><code class="name flex">
<span>def <span class="ident">is_connected</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_connected(self):
    if self.type == &#34;proxy&#34;:
        return self.fw.is_cs_connected()
    else:
        return self.fw.is_connected()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.is_simulator"><code class="name flex">
<span>def <span class="ident">is_simulator</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_simulator(self):
    return self.fw.is_simulator()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.load_commands"><code class="name flex">
<span>def <span class="ident">load_commands</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_commands(self):
    if self.type == &#34;proxy&#34;:
        self.fw.load_commands()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.load_wheels"><code class="name flex">
<span>def <span class="ident">load_wheels</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_wheels(self):
    _setup = self.fw.load_wheels()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.reconnect"><code class="name flex">
<span>def <span class="ident">reconnect</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reconnect(self):
    # I need a better insight in what could be wrong and how to reconnect
    # This is probably also dependent on Proxy or other Hexapod implementation

    if self.type == &#34;proxy&#34;:
        self.fw.reconnect_cs()
        return self.fw.is_cs_connected()
    else:
        self.fw.reconnect()
        return self.fw.is_connected()
    return False</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.set_position"><code class="name flex">
<span>def <span class="ident">set_position</span></span>(<span>self, pos_wheel1, pos_wheel2)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_position(self, pos_wheel1, pos_wheel2):
    _output = self.fw.set_position(pos_wheel1, pos_wheel2)
    return _output</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.wheel_factors"><code class="name flex">
<span>def <span class="ident">wheel_factors</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def wheel_factors(self):
    return self.fw.wheel_factors()</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView"><code class="flex name class">
<span>class <span class="ident">FilterWheelUIView</span></span>
</code></dt>
<dd>
<div class="desc"><p>QMainWindow(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class FilterWheelUIView(QMainWindow, Observable):
    def __init__(self):
        super().__init__()

        # Define those variables that we will need/use in different methods

        self.clear_action = None
        self.reconnect_action = None
        self.toolbar = None
        self.wheel_control = None

        #self.homing_led = None
        self.wheel_1 = None
        self.wheel_2 = None
        self.p_wheel_1 = None
        self.p_wheel_2 = None
        self.p_button = None
        self.wheelstatus = []
        self.attenuation_values = []

        self.setGeometry(300, 300, 1000, 500)
        self.setWindowTitle(&#34;eksma Filter Wheel 8SMC4 Controller&#34;)

        self.init_gui()

    def createToolbar(self):
        image_location = Path(__file__).resolve().parent.parent.parent / &#34;images&#34;

        # Homing button:
        home_pix = QPixmap(str(find_file(&#34;home.svg&#34;, in_dir=&#34;images&#34;)))
        home_icon = QIcon()
        home_icon.addPixmap(home_pix)

        self.homing_action = QAction(home_icon, &#34;Homing&#34;, self)
        self.homing_action.setToolTip(&#34;Homing&#34;)
        self.homing_action.triggered.connect(self.onClick)

        # The Reconnect action is used to reconnect the device or control server

        connected_pix = QPixmap(str(image_location / &#34;connected-100.png&#34;))
        disconnected_pix = QPixmap(str(image_location / &#34;disconnected-100.png&#34;))
        reconnect_icon = QIcon()
        reconnect_icon.addPixmap(connected_pix, QIcon.Normal, QIcon.On)
        reconnect_icon.addPixmap(disconnected_pix, QIcon.Normal, QIcon.Off)

        self.reconnect_action = QAction(reconnect_icon, &#34;Reconnect&#34;, self)
        self.reconnect_action.setToolTip(&#34;Reconnect&#34;)
        self.reconnect_action.setCheckable(True)
        self.reconnect_action.triggered.connect(self.onClick)

        # Building the toolbar:
        self.toolbar = self.addToolBar(&#34;MainToolbar&#34;)
        self.toolbar.addAction(self.reconnect_action)
        self.toolbar.addAction(self.homing_action)
        return self.toolbar

    def createWheelPositionWidget(self):
        hbox = QHBoxLayout()
        # hbox.setContentsMargins(0, 0, 0, 0)
        hbox.setSpacing(0)

        tbox = QVBoxLayout()
        tbox.addWidget(QLabel(&#34;&#34;))
        tbox.addWidget(QLabel(&#34;Position: &#34;))
        tbox.addWidget(QLabel(&#34;Attenuation: &#34;))
        tbox.setSpacing(15)
        tbox.setSizeConstraint(0)
        tbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)

        hbox.addLayout(tbox)
        hbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)
        hbox.setSpacing(0)

        for positions in range(8):
            hbox.setSpacing(0)
            # label
            pos_label = QLabel(f&#34;{positions + 1}&#34;)
            pos_label.setAlignment(Qt.AlignHCenter)

            # led definitions:
            _led = QLed(self, offColour=QLed.Grey, onColour=QLed.Green)
            _led.setFixedSize(40, 40)

            # transmission boxes
            editbox = QLineEdit()
            editbox.setReadOnly(True)
            editbox.setAlignment(Qt.AlignHCenter)
            editbox.setFixedSize(40, 35)

            # building layout:
            vbox = QVBoxLayout()
            vbox.addWidget(pos_label)
            vbox.addWidget(_led)
            vbox.addWidget(editbox)
            vbox.setSpacing(5)
            vbox.setAlignment(Qt.AlignTop)
            hbox.setSpacing(0)
            hbox.addLayout(vbox)

        hbox.setAlignment(Qt.AlignLeft | Qt.AlignTop)
        hbox.setSpacing(0)
        group_box = QGroupBox(&#34;Wheel position&#34;, self)
        group_box.setLayout(hbox)
        group_box.setFixedWidth(600)

        return group_box

    def createWheelControlWidget(self):
        vbox = QVBoxLayout()

        #### POSITION WIDGETS ####

        hposition = QHBoxLayout()

        wheel_label = QLabel(&#34;Set the wheels to position: &#34;)
        self.p_wheel_1 = QComboBox()
        self.p_wheel_1.setCurrentIndex(-1)
        self.p_wheel_1.addItem(&#34;= wheel 1 =&#34;)
        self.p_wheel_1.model().item(0).setEnabled(False)
        self.p_wheel_1.addItems([&#34;position 1&#34;, &#34;position 2&#34;, &#34;position 3&#34;, &#34;position 4&#34;, &#34;position 5&#34;, &#34;position 6&#34;,
                                 &#34;position 7&#34;, &#34;position 8&#34;])
        self.p_wheel_1.setFixedWidth(120)

        self.p_wheel_2 = QComboBox()
        self.p_wheel_2.setCurrentIndex(-1)
        self.p_wheel_2.addItem(&#34;= wheel 2 =&#34;)
        self.p_wheel_2.model().item(0).setEnabled(False)
        self.p_wheel_2.addItems([&#34;position 1&#34;, &#34;position 2&#34;, &#34;position 3&#34;, &#34;position 4&#34;, &#34;position 5&#34;, &#34;position 6&#34;,
                                 &#34;position 7&#34;, &#34;position 8&#34;])
        # self.p_wheel_2.model()
        # self.p_wheel_2.setEnabled(False)
        self.p_wheel_2.setFixedWidth(120)
        self.p_button = QPushButton(&#34;Go to Position&#34;)
        self.p_button.setToolTip(
            &#34;When you press this button, the Wheel will start moving \n&#34;
            &#34;to the position of the requested positions.\n&#34;
        )
        self.p_button.setFixedWidth(150)
        self.p_button.clicked.connect(self.go_to_wheels_position)

        hposition.addWidget(wheel_label)
        hposition.addWidget(self.p_wheel_1)
        hposition.addWidget(self.p_wheel_2)
        hposition.addWidget(self.p_button)
        hposition.setAlignment(Qt.AlignTop)

        ### ATTENUATION WIDGET ###

        htransmittance = QHBoxLayout()
        t_label = QLabel(&#34;Set the wheels to attenuation: &#34;)

        self.attenuation = QComboBox()
        self.attenuation.setCurrentIndex(-1)
        self.attenuation.addItem(&#34;= Attenuation =&#34;)
        self.attenuation.model().item(0).setEnabled(False)
        self.attenuation.setFixedWidth(230)

        self.t_button = QPushButton(&#34;Go to attenuation&#34;)
        self.t_button.setToolTip(
            &#34;When you press this button, the Wheel will start moving \n&#34;
            &#34;to the position of the requested attenuation.\n&#34;
        )
        self.t_button.setFixedWidth(150)
        self.t_button.clicked.connect(self.go_to_wheels_attenuation)

        htransmittance.addWidget(t_label)
        htransmittance.addWidget(self.attenuation)
        htransmittance.addWidget(self.t_button)


        htransmittance.setAlignment(Qt.AlignTop)

        ### JOG WIDGET ###
        hjog  = QHBoxLayout()
        j_label = QLabel(&#34;Jog attenuation position:&#34;)

        self.j_up_button = QToolButton()
        self.j_up_button.setArrowType(Qt.RightArrow)
        self.j_up_button.setToolTip(&#34;Jogs the Attenuation to the next upper level&#34;)
        self.j_up_button.setObjectName(&#34;up&#34;)
        self.j_up_button.setFixedWidth(35)
        self.j_up_button.clicked.connect(self.att_level)

        self.j_down_button = QToolButton()
        self.j_down_button.setArrowType(Qt.LeftArrow)
        self.j_down_button.setToolTip(&#34;Jogs the Attenuation to the next downer level&#34;)
        self.j_down_button.setObjectName(&#34;down&#34;)
        self.j_down_button.setFixedWidth(35)
        self.j_down_button.clicked.connect(self.att_level)

        hjog.addWidget(j_label)
        hjog.addWidget(self.j_down_button)
        hjog.setAlignment(Qt.AlignLeft)
        hjog.addWidget(self.j_up_button)
        hjog.setAlignment(Qt.AlignLeft)
        hjog.setAlignment(Qt.AlignTop)

        ## PUTTING ALL TOGETHER ###
        vbox.addLayout(hposition)
        vbox.setSpacing(0)
        vbox.addLayout(htransmittance)
        vbox.addLayout(hjog)
        vbox.setAlignment(Qt.AlignTop)

        group_box = QGroupBox(&#34;Commands&#34;, self)
        group_box.setLayout(vbox)
        group_box.setFixedWidth(600)
        return group_box

    def createWheelStatusWidget(self):

        group_box = QGroupBox(&#34;Eksma Filter Wheel Status&#34;)

        # Create the label fields that display the current measure

        vbox = QVBoxLayout()

        # FILTERWHEEL STATUS ###
        # HK Parameters from motor and wheels
        vstatusbox = QVBoxLayout()
        vstatusbox.setAlignment(Qt.AlignTop)

        self.wheelstatus = [[QLabel(&#34;Position (steps):&#34;), QLineEdit()],
                            [QLabel(&#34;Wheel speed:&#34;), QLineEdit()],
                            [QLabel(&#34;Temperature (°C)&#34;), QLineEdit()],
                            [QLabel(&#34;Engine Current (mA):&#34;), QLineEdit()],
                            [QLabel(&#34;Power Supply voltage (V):&#34;), QLineEdit()],
                            [QLabel(&#34;Status Flags:&#34;), QLineEdit()]]

        for elements in self.wheelstatus:
            hstatus = QHBoxLayout()
            hstatus.setSpacing(3)
            # elements[0].setStyleSheet(&#34;QLabel { background-color : LightGray; }&#34;) --&gt; here we see the widget policy
            elements[0].setFixedWidth(210)
            elements[1].setReadOnly(True)
            elements[1].setFixedWidth(70)
            hstatus.addWidget(elements[0])
            hstatus.addWidget(elements[1])

            vstatusbox.addLayout(hstatus)

        ## FLAGS WIDGET ##
        vflagbox = QVBoxLayout()

        self.wheel_flags = [[QLabel(&#34;Is homed&#34;), QLed(self, offColour=QLed.Red, onColour=QLed.Green, shape=QLed.Square)],
                            [QLabel(&#34;Secur&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)],
                            [QLabel(&#34;Alarm&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)],
                            [QLabel(&#34;Error&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)]]

        for element in self.wheel_flags:
            hflags = QHBoxLayout()
            hflags.setSpacing(3)
            element[1].setFixedSize(15, 15)
            hflags.addWidget(element[1])
            hflags.addWidget(element[0])

            vflagbox.addLayout(hflags)

        # vledbox = QVBoxLayout()
        # hbox = QHBoxLayout()
        # self.homing_led = QLed(self, offColour=QLed.Red, onColour=QLed.Green, shape=QLed.Square)
        # self.homing_led.setFixedSize(15, 15)
        #
        # hbox.addWidget(self.homing_led)
        # hbox.setAlignment(Qt.AlignTop)
        #
        # hbox.addWidget(QLabel(&#34;Is Homed&#34;))
        # hbox.setAlignment(Qt.AlignTop)
        # hbox.setSpacing(5)
        # vledbox.addLayout(hbox)

        # ATTENUATION UNITS WIDGET
        vattbox = QVBoxLayout()
        vattbox.setAlignment(Qt.AlignTop)

        att_label = QLabel(&#34;== ATTENUATION PARAMETERS ==&#34;)

        vattbox.addWidget(att_label)

        self.wheelconfiguration = [[QLabel(&#34;Actual wheel attenuation:&#34;), QLineEdit()]]
        for elements in self.wheelconfiguration:
            hconf = QHBoxLayout()
            hconf.setSpacing(3)
            elements[0].setFixedWidth(210)
            elements[1].setReadOnly(True)
            elements[1].setFixedWidth(70)
            hconf.addWidget(elements[0])
            hconf.addWidget(elements[1])

            vattbox.addLayout(hconf)

        self.att_modes = [[QRadioButton(&#34;OD&#34;)],
                                [QRadioButton(&#34;Transmittance (%)&#34;)],
                                [QRadioButton(&#34;Irradiance (W/cm2)&#34;)],
                                [QRadioButton(&#34;Star Magnitude&#34;)]
                                ]
        for mode in self.att_modes:
            mode[0].clicked.connect(self.set_mode)
            vattbox.addWidget(mode[0])

        vbox.addLayout(vstatusbox)
        vbox.addLayout(vflagbox)
        #vbox.addLayout(vledbox)
        vbox.addLayout(vattbox)

        group_box.setLayout(vbox)
        group_box.setFixedWidth(290)
        return group_box

    def init_gui(self):

        # Switch to using white background and black foreground for pyqtgraph stripcharts

        pg.setConfigOption(&#34;background&#34;, &#34;w&#34;)
        pg.setConfigOption(&#34;foreground&#34;, &#34;k&#34;)

        # The main frame in which all the other frames are located, the outer Application frame

        app_frame = QFrame()
        app_frame.setObjectName(&#34;AppFrame&#34;)

        self.wheel_1 = self.createWheelPositionWidget()
        self.wheel_1.setTitle(&#34;Wheel 1&#34;)
        self.wheel_2 = self.createWheelPositionWidget()
        self.wheel_2.setTitle(&#34;Wheel 2&#34;)

        self.wheel_control = self.createWheelControlWidget()
        wheel_box = QVBoxLayout()
        wheel_box.addWidget(self.wheel_1)
        wheel_box.addWidget(self.wheel_2)
        wheel_box.addWidget(self.wheel_control)
        wheel_box.setSpacing(3)

        hbox = QHBoxLayout()
        self.createToolbar()
        hbox.addWidget(self.createWheelStatusWidget())
        hbox.addLayout(wheel_box)

        app_frame.setLayout(hbox)

        self.setCentralWidget(app_frame)

    def set_style(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a real
        LakeShore Controller (hardware).
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Light)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def set_style_simulator(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a
        LakeSHore Simulator.
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Dark)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def onClick(self):

        sender = self.sender()

        MODULE_LOGGER.debug(f&#34;sender.text() = {sender.text()}&#34;)
        MODULE_LOGGER.debug(f&#34;sender.isChecked() = {sender.isChecked()}&#34;)

        self.notifyObservers(sender)

    def set_mode(self):
        #todo: convert attenuation values to the mode selected
        print(&#34;new mode selected&#34;)

    def set_connection_state(self, state):

        if state == &#34;connected&#34;:
            self.reconnect_action.setChecked(True)
        elif state == &#34;disconnected&#34;:
            self.reconnect_action.setChecked(False)
        else:
            raise UnknownStateError(
                f&#34;Unknown State ({state}), expected &#39;connected&#39; or &#39;disconnected&#39;.&#34;
            )

    def update_position(self, new_position):
        #print(new_position)
        ## resetting to false:
        self.wheel_1.findChildren(QLed)[new_position[0]].blockSignals(True)  # Block signals just in case: to be removed if any other way is used to select the wheels position
        for x in self.wheel_1.findChildren(QLed):
            x.value = False
            x.repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_1.findChildren(QLed)[new_position[0]].value = True
        self.wheel_1.findChildren(QLed)[new_position[0]].repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_1.findChildren(QLed)[new_position[0]].blockSignals(False)

        self.wheel_2.findChildren(QLed)[new_position[1]].blockSignals(True)
        for x in self.wheel_2.findChildren(QLed):
            x.value = False
            x.repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_2.findChildren(QLed)[new_position[1]].value = True
        self.wheel_2.findChildren(QLed)[new_position[1]].repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
        self.wheel_2.findChildren(QLed)[new_position[1]].blockSignals(False)

        self.update_attenuation_value()

    def update_attenuations(self, levels):
        ## setting the wheel transmittances:
        for elements in range(8):
            self.wheel_1.findChildren(QLineEdit)[elements].setText(levels[0][elements])
            self.wheel_2.findChildren(QLineEdit)[elements].setText(levels[1][elements])

    def update_attenuation_value(self):
        # boolean list of Qleds for each wheel:
        att_pos1 = [i.value for i in self.wheel_1.findChildren(QLed)]
        att_pos2 = [i.value for i in self.wheel_2.findChildren(QLed)]

        # getting the required index from the position:
        index1 = list(compress(range(len(att_pos1)), att_pos1))[0]
        index2 = list(compress(range(len(att_pos2)), att_pos2))[0]

        # Some indexes might not exist as they are lead to duplicated attenuation levels, that is why the ValueError
        # is used
        try:
            att_index = self.attenuation_values[1].index([index1, index2]) + 1

        except ValueError:
            # Normally only numbers are thrown here:
            att_1 = float(self.wheel_1.findChildren(QLineEdit)[index1].text())
            att_2 = float(self.wheel_2.findChildren(QLineEdit)[index2].text())
            att_index = self.attenuation_values[0].index(att_1 + att_2)

        # updates attenuation combobox
        self.attenuation.blockSignals(True)
        self.attenuation.setCurrentIndex(att_index)
        self.attenuation.repaint()
        self.attenuation.blockSignals(False)

        # updates attenuation value in the config widget
        self.wheelconfiguration[0][1].setText(self.attenuation.currentText())
        self.wheelconfiguration[0][1].repaint()

    def initialize_position_values(self, init_values, levels):
        pos_wheel_1 = init_values[0]
        pos_wheel_2 = init_values[1]

        # fixme: there is an issue here as the wheel might not be at (0,0) position on sw boot ...
        #  for the moment a warning message is sent on init
        if self.wheel_flags[0][1].value == 0:
            self.wheel_flags[0][1].setToolTip(&#34;Homing is needed&#34;)
            for elements in range(8):
                self.wheel_1.findChildren(QLineEdit)[elements].setText(&#34;None&#34;)
                self.wheel_2.findChildren(QLineEdit)[elements].setText(&#34;None&#34;)

        else:
            if any(i !=0 for i in init_values):
                description = &#34;The filter wheel has been started in a non zero position.&#34;
                info_text = (
                    &#34;The GUI will start, but the initial position of the filter wheel might not be the real one.&#34;
                    &#34;In order to correctly initialize the wheel, please do a homing command first &#34;
                    &#34;Otherwise, move both wheel 1 and wheel 2 to their zero position &#34;
                )

                show_warning_message(description, info_text)
            else:
                # setting the initial wheel positions:
                self.wheel_1.findChildren(QLed)[pos_wheel_1].blockSignals(
                    True)  # Block signals just in case: to be removed if any other way is used to select the wheels position
                self.wheel_1.findChildren(QLed)[pos_wheel_1].value = True
                self.wheel_1.findChildren(QLed)[pos_wheel_1].blockSignals(False)
                self.wheel_2.findChildren(QLed)[pos_wheel_2].blockSignals(True)
                self.wheel_2.findChildren(QLed)[pos_wheel_2].value = True
                self.wheel_2.findChildren(QLed)[pos_wheel_2].blockSignals(False)

                self.update_attenuation_value()

            self.wheel_flags[0][1].setToolTip(&#34;The wheel is calibrated, no homing needed&#34;)

            # setting the wheel transmittances:
            for elements in range(8):
                self.wheel_1.findChildren(QLineEdit)[elements].setText(repr(levels[0][elements]))
                self.wheel_2.findChildren(QLineEdit)[elements].setText(repr(levels[1][elements]))



    def initialize_status_values(self, _status, s_flags):
        # building status flags list:
        sf = [s_flags[&#34;Is homed&#34;], s_flags[&#34;Secur&#34;], s_flags[&#34;Alarm&#34;], 0]

        # first we see if there are complicated errors:
        error = [s_flags[&#34;Control&#34;], s_flags[&#34;Err C&#34;], s_flags[&#34;Err D&#34;], s_flags[&#34;Err V&#34;], s_flags[&#34;EEPROM Connected&#34;],
                 s_flags[&#34;CTP error&#34;], s_flags[&#34;Borders Swap Misset&#34;], s_flags[&#34;H bridge fault&#34;]]

        if any(value == 1 for value in error):
            sf[3] = 1

        for i in range(len(_status)):
            self.wheelstatus[i][1].setText(repr(_status[i]))

        # update of the status flags:
        for i in range(len(sf)):
            self.wheel_flags[i][1].value = sf[i]

        # checks if homing state changed thus goes to enable

        if sf[0] == 0:
            self.enable_control_layout()
        else:
            pass

    def initialize_attenuator_values(self, value):
        # Initializes the attenuator combobox from the Commanding widget
        self.attenuation_values = value
        _factors = self.attenuation_values[0]
        _values = map(str, _factors)
        self.attenuation.addItems(_values)

        # Initializes the attenuator configuration spinbox from the status widget
        self.att_modes[0][0].blockSignals(True)
        self.att_modes[0][0].setChecked(True)
        self.att_modes[0][0].blockSignals(False)


    def enable_control_layout(self):
        # Now we check homing from the new flags coming from the controller:
        _homing = self.wheel_flags[0][1].value
        for elements in self.wheel_control.findChildren(QComboBox):
            elements.setEnabled(_homing)
        for elements in self.wheel_control.findChildren(QToolButton):
            elements.setEnabled(_homing)
        for elements in self.wheel_control.findChildren(QPushButton):
            elements.setEnabled(_homing)

    def go_to_wheels_position(self):
        new_position = [self.p_wheel_1.currentIndex() - 1, self.p_wheel_2.currentIndex() - 1]
        if any(pos &lt; 0 for pos in new_position):
            MODULE_LOGGER.warning(&#34;Please select a position for each of the filter wheels&#34;)
        else:
            self.actionObservers({&#34;set_position&#34;: new_position})

    def go_to_wheels_attenuation(self):
        # takes the index value of transmittance, calculates the wheels position and moves the wheels to the position.
        t_value = self.attenuation.currentIndex()
        if t_value == 0:
            MODULE_LOGGER.warning(&#34;Please select an attenuation from the combo box&#34;)
        else:
            index = self.attenuation_values[1]
            index = index[t_value-1]
            self.actionObservers({&#34;set_position&#34;: index})

    def att_level(self):
        sender = self.sender()
        object_name = sender.objectName()
        self.actionObservers({&#34;att_level&#34;: object_name})</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QMainWindow</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
<li><a title="egse.observer.Observable" href="../../observer.html#egse.observer.Observable">Observable</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.att_level"><code class="name flex">
<span>def <span class="ident">att_level</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def att_level(self):
    sender = self.sender()
    object_name = sender.objectName()
    self.actionObservers({&#34;att_level&#34;: object_name})</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createToolbar"><code class="name flex">
<span>def <span class="ident">createToolbar</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createToolbar(self):
    image_location = Path(__file__).resolve().parent.parent.parent / &#34;images&#34;

    # Homing button:
    home_pix = QPixmap(str(find_file(&#34;home.svg&#34;, in_dir=&#34;images&#34;)))
    home_icon = QIcon()
    home_icon.addPixmap(home_pix)

    self.homing_action = QAction(home_icon, &#34;Homing&#34;, self)
    self.homing_action.setToolTip(&#34;Homing&#34;)
    self.homing_action.triggered.connect(self.onClick)

    # The Reconnect action is used to reconnect the device or control server

    connected_pix = QPixmap(str(image_location / &#34;connected-100.png&#34;))
    disconnected_pix = QPixmap(str(image_location / &#34;disconnected-100.png&#34;))
    reconnect_icon = QIcon()
    reconnect_icon.addPixmap(connected_pix, QIcon.Normal, QIcon.On)
    reconnect_icon.addPixmap(disconnected_pix, QIcon.Normal, QIcon.Off)

    self.reconnect_action = QAction(reconnect_icon, &#34;Reconnect&#34;, self)
    self.reconnect_action.setToolTip(&#34;Reconnect&#34;)
    self.reconnect_action.setCheckable(True)
    self.reconnect_action.triggered.connect(self.onClick)

    # Building the toolbar:
    self.toolbar = self.addToolBar(&#34;MainToolbar&#34;)
    self.toolbar.addAction(self.reconnect_action)
    self.toolbar.addAction(self.homing_action)
    return self.toolbar</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelControlWidget"><code class="name flex">
<span>def <span class="ident">createWheelControlWidget</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createWheelControlWidget(self):
    vbox = QVBoxLayout()

    #### POSITION WIDGETS ####

    hposition = QHBoxLayout()

    wheel_label = QLabel(&#34;Set the wheels to position: &#34;)
    self.p_wheel_1 = QComboBox()
    self.p_wheel_1.setCurrentIndex(-1)
    self.p_wheel_1.addItem(&#34;= wheel 1 =&#34;)
    self.p_wheel_1.model().item(0).setEnabled(False)
    self.p_wheel_1.addItems([&#34;position 1&#34;, &#34;position 2&#34;, &#34;position 3&#34;, &#34;position 4&#34;, &#34;position 5&#34;, &#34;position 6&#34;,
                             &#34;position 7&#34;, &#34;position 8&#34;])
    self.p_wheel_1.setFixedWidth(120)

    self.p_wheel_2 = QComboBox()
    self.p_wheel_2.setCurrentIndex(-1)
    self.p_wheel_2.addItem(&#34;= wheel 2 =&#34;)
    self.p_wheel_2.model().item(0).setEnabled(False)
    self.p_wheel_2.addItems([&#34;position 1&#34;, &#34;position 2&#34;, &#34;position 3&#34;, &#34;position 4&#34;, &#34;position 5&#34;, &#34;position 6&#34;,
                             &#34;position 7&#34;, &#34;position 8&#34;])
    # self.p_wheel_2.model()
    # self.p_wheel_2.setEnabled(False)
    self.p_wheel_2.setFixedWidth(120)
    self.p_button = QPushButton(&#34;Go to Position&#34;)
    self.p_button.setToolTip(
        &#34;When you press this button, the Wheel will start moving \n&#34;
        &#34;to the position of the requested positions.\n&#34;
    )
    self.p_button.setFixedWidth(150)
    self.p_button.clicked.connect(self.go_to_wheels_position)

    hposition.addWidget(wheel_label)
    hposition.addWidget(self.p_wheel_1)
    hposition.addWidget(self.p_wheel_2)
    hposition.addWidget(self.p_button)
    hposition.setAlignment(Qt.AlignTop)

    ### ATTENUATION WIDGET ###

    htransmittance = QHBoxLayout()
    t_label = QLabel(&#34;Set the wheels to attenuation: &#34;)

    self.attenuation = QComboBox()
    self.attenuation.setCurrentIndex(-1)
    self.attenuation.addItem(&#34;= Attenuation =&#34;)
    self.attenuation.model().item(0).setEnabled(False)
    self.attenuation.setFixedWidth(230)

    self.t_button = QPushButton(&#34;Go to attenuation&#34;)
    self.t_button.setToolTip(
        &#34;When you press this button, the Wheel will start moving \n&#34;
        &#34;to the position of the requested attenuation.\n&#34;
    )
    self.t_button.setFixedWidth(150)
    self.t_button.clicked.connect(self.go_to_wheels_attenuation)

    htransmittance.addWidget(t_label)
    htransmittance.addWidget(self.attenuation)
    htransmittance.addWidget(self.t_button)


    htransmittance.setAlignment(Qt.AlignTop)

    ### JOG WIDGET ###
    hjog  = QHBoxLayout()
    j_label = QLabel(&#34;Jog attenuation position:&#34;)

    self.j_up_button = QToolButton()
    self.j_up_button.setArrowType(Qt.RightArrow)
    self.j_up_button.setToolTip(&#34;Jogs the Attenuation to the next upper level&#34;)
    self.j_up_button.setObjectName(&#34;up&#34;)
    self.j_up_button.setFixedWidth(35)
    self.j_up_button.clicked.connect(self.att_level)

    self.j_down_button = QToolButton()
    self.j_down_button.setArrowType(Qt.LeftArrow)
    self.j_down_button.setToolTip(&#34;Jogs the Attenuation to the next downer level&#34;)
    self.j_down_button.setObjectName(&#34;down&#34;)
    self.j_down_button.setFixedWidth(35)
    self.j_down_button.clicked.connect(self.att_level)

    hjog.addWidget(j_label)
    hjog.addWidget(self.j_down_button)
    hjog.setAlignment(Qt.AlignLeft)
    hjog.addWidget(self.j_up_button)
    hjog.setAlignment(Qt.AlignLeft)
    hjog.setAlignment(Qt.AlignTop)

    ## PUTTING ALL TOGETHER ###
    vbox.addLayout(hposition)
    vbox.setSpacing(0)
    vbox.addLayout(htransmittance)
    vbox.addLayout(hjog)
    vbox.setAlignment(Qt.AlignTop)

    group_box = QGroupBox(&#34;Commands&#34;, self)
    group_box.setLayout(vbox)
    group_box.setFixedWidth(600)
    return group_box</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelPositionWidget"><code class="name flex">
<span>def <span class="ident">createWheelPositionWidget</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createWheelPositionWidget(self):
    hbox = QHBoxLayout()
    # hbox.setContentsMargins(0, 0, 0, 0)
    hbox.setSpacing(0)

    tbox = QVBoxLayout()
    tbox.addWidget(QLabel(&#34;&#34;))
    tbox.addWidget(QLabel(&#34;Position: &#34;))
    tbox.addWidget(QLabel(&#34;Attenuation: &#34;))
    tbox.setSpacing(15)
    tbox.setSizeConstraint(0)
    tbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)

    hbox.addLayout(tbox)
    hbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)
    hbox.setSpacing(0)

    for positions in range(8):
        hbox.setSpacing(0)
        # label
        pos_label = QLabel(f&#34;{positions + 1}&#34;)
        pos_label.setAlignment(Qt.AlignHCenter)

        # led definitions:
        _led = QLed(self, offColour=QLed.Grey, onColour=QLed.Green)
        _led.setFixedSize(40, 40)

        # transmission boxes
        editbox = QLineEdit()
        editbox.setReadOnly(True)
        editbox.setAlignment(Qt.AlignHCenter)
        editbox.setFixedSize(40, 35)

        # building layout:
        vbox = QVBoxLayout()
        vbox.addWidget(pos_label)
        vbox.addWidget(_led)
        vbox.addWidget(editbox)
        vbox.setSpacing(5)
        vbox.setAlignment(Qt.AlignTop)
        hbox.setSpacing(0)
        hbox.addLayout(vbox)

    hbox.setAlignment(Qt.AlignLeft | Qt.AlignTop)
    hbox.setSpacing(0)
    group_box = QGroupBox(&#34;Wheel position&#34;, self)
    group_box.setLayout(hbox)
    group_box.setFixedWidth(600)

    return group_box</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelStatusWidget"><code class="name flex">
<span>def <span class="ident">createWheelStatusWidget</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createWheelStatusWidget(self):

    group_box = QGroupBox(&#34;Eksma Filter Wheel Status&#34;)

    # Create the label fields that display the current measure

    vbox = QVBoxLayout()

    # FILTERWHEEL STATUS ###
    # HK Parameters from motor and wheels
    vstatusbox = QVBoxLayout()
    vstatusbox.setAlignment(Qt.AlignTop)

    self.wheelstatus = [[QLabel(&#34;Position (steps):&#34;), QLineEdit()],
                        [QLabel(&#34;Wheel speed:&#34;), QLineEdit()],
                        [QLabel(&#34;Temperature (°C)&#34;), QLineEdit()],
                        [QLabel(&#34;Engine Current (mA):&#34;), QLineEdit()],
                        [QLabel(&#34;Power Supply voltage (V):&#34;), QLineEdit()],
                        [QLabel(&#34;Status Flags:&#34;), QLineEdit()]]

    for elements in self.wheelstatus:
        hstatus = QHBoxLayout()
        hstatus.setSpacing(3)
        # elements[0].setStyleSheet(&#34;QLabel { background-color : LightGray; }&#34;) --&gt; here we see the widget policy
        elements[0].setFixedWidth(210)
        elements[1].setReadOnly(True)
        elements[1].setFixedWidth(70)
        hstatus.addWidget(elements[0])
        hstatus.addWidget(elements[1])

        vstatusbox.addLayout(hstatus)

    ## FLAGS WIDGET ##
    vflagbox = QVBoxLayout()

    self.wheel_flags = [[QLabel(&#34;Is homed&#34;), QLed(self, offColour=QLed.Red, onColour=QLed.Green, shape=QLed.Square)],
                        [QLabel(&#34;Secur&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)],
                        [QLabel(&#34;Alarm&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)],
                        [QLabel(&#34;Error&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)]]

    for element in self.wheel_flags:
        hflags = QHBoxLayout()
        hflags.setSpacing(3)
        element[1].setFixedSize(15, 15)
        hflags.addWidget(element[1])
        hflags.addWidget(element[0])

        vflagbox.addLayout(hflags)

    # vledbox = QVBoxLayout()
    # hbox = QHBoxLayout()
    # self.homing_led = QLed(self, offColour=QLed.Red, onColour=QLed.Green, shape=QLed.Square)
    # self.homing_led.setFixedSize(15, 15)
    #
    # hbox.addWidget(self.homing_led)
    # hbox.setAlignment(Qt.AlignTop)
    #
    # hbox.addWidget(QLabel(&#34;Is Homed&#34;))
    # hbox.setAlignment(Qt.AlignTop)
    # hbox.setSpacing(5)
    # vledbox.addLayout(hbox)

    # ATTENUATION UNITS WIDGET
    vattbox = QVBoxLayout()
    vattbox.setAlignment(Qt.AlignTop)

    att_label = QLabel(&#34;== ATTENUATION PARAMETERS ==&#34;)

    vattbox.addWidget(att_label)

    self.wheelconfiguration = [[QLabel(&#34;Actual wheel attenuation:&#34;), QLineEdit()]]
    for elements in self.wheelconfiguration:
        hconf = QHBoxLayout()
        hconf.setSpacing(3)
        elements[0].setFixedWidth(210)
        elements[1].setReadOnly(True)
        elements[1].setFixedWidth(70)
        hconf.addWidget(elements[0])
        hconf.addWidget(elements[1])

        vattbox.addLayout(hconf)

    self.att_modes = [[QRadioButton(&#34;OD&#34;)],
                            [QRadioButton(&#34;Transmittance (%)&#34;)],
                            [QRadioButton(&#34;Irradiance (W/cm2)&#34;)],
                            [QRadioButton(&#34;Star Magnitude&#34;)]
                            ]
    for mode in self.att_modes:
        mode[0].clicked.connect(self.set_mode)
        vattbox.addWidget(mode[0])

    vbox.addLayout(vstatusbox)
    vbox.addLayout(vflagbox)
    #vbox.addLayout(vledbox)
    vbox.addLayout(vattbox)

    group_box.setLayout(vbox)
    group_box.setFixedWidth(290)
    return group_box</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.enable_control_layout"><code class="name flex">
<span>def <span class="ident">enable_control_layout</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def enable_control_layout(self):
    # Now we check homing from the new flags coming from the controller:
    _homing = self.wheel_flags[0][1].value
    for elements in self.wheel_control.findChildren(QComboBox):
        elements.setEnabled(_homing)
    for elements in self.wheel_control.findChildren(QToolButton):
        elements.setEnabled(_homing)
    for elements in self.wheel_control.findChildren(QPushButton):
        elements.setEnabled(_homing)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.go_to_wheels_attenuation"><code class="name flex">
<span>def <span class="ident">go_to_wheels_attenuation</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def go_to_wheels_attenuation(self):
    # takes the index value of transmittance, calculates the wheels position and moves the wheels to the position.
    t_value = self.attenuation.currentIndex()
    if t_value == 0:
        MODULE_LOGGER.warning(&#34;Please select an attenuation from the combo box&#34;)
    else:
        index = self.attenuation_values[1]
        index = index[t_value-1]
        self.actionObservers({&#34;set_position&#34;: index})</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.go_to_wheels_position"><code class="name flex">
<span>def <span class="ident">go_to_wheels_position</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def go_to_wheels_position(self):
    new_position = [self.p_wheel_1.currentIndex() - 1, self.p_wheel_2.currentIndex() - 1]
    if any(pos &lt; 0 for pos in new_position):
        MODULE_LOGGER.warning(&#34;Please select a position for each of the filter wheels&#34;)
    else:
        self.actionObservers({&#34;set_position&#34;: new_position})</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.init_gui"><code class="name flex">
<span>def <span class="ident">init_gui</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def init_gui(self):

    # Switch to using white background and black foreground for pyqtgraph stripcharts

    pg.setConfigOption(&#34;background&#34;, &#34;w&#34;)
    pg.setConfigOption(&#34;foreground&#34;, &#34;k&#34;)

    # The main frame in which all the other frames are located, the outer Application frame

    app_frame = QFrame()
    app_frame.setObjectName(&#34;AppFrame&#34;)

    self.wheel_1 = self.createWheelPositionWidget()
    self.wheel_1.setTitle(&#34;Wheel 1&#34;)
    self.wheel_2 = self.createWheelPositionWidget()
    self.wheel_2.setTitle(&#34;Wheel 2&#34;)

    self.wheel_control = self.createWheelControlWidget()
    wheel_box = QVBoxLayout()
    wheel_box.addWidget(self.wheel_1)
    wheel_box.addWidget(self.wheel_2)
    wheel_box.addWidget(self.wheel_control)
    wheel_box.setSpacing(3)

    hbox = QHBoxLayout()
    self.createToolbar()
    hbox.addWidget(self.createWheelStatusWidget())
    hbox.addLayout(wheel_box)

    app_frame.setLayout(hbox)

    self.setCentralWidget(app_frame)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_attenuator_values"><code class="name flex">
<span>def <span class="ident">initialize_attenuator_values</span></span>(<span>self, value)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initialize_attenuator_values(self, value):
    # Initializes the attenuator combobox from the Commanding widget
    self.attenuation_values = value
    _factors = self.attenuation_values[0]
    _values = map(str, _factors)
    self.attenuation.addItems(_values)

    # Initializes the attenuator configuration spinbox from the status widget
    self.att_modes[0][0].blockSignals(True)
    self.att_modes[0][0].setChecked(True)
    self.att_modes[0][0].blockSignals(False)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_position_values"><code class="name flex">
<span>def <span class="ident">initialize_position_values</span></span>(<span>self, init_values, levels)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initialize_position_values(self, init_values, levels):
    pos_wheel_1 = init_values[0]
    pos_wheel_2 = init_values[1]

    # fixme: there is an issue here as the wheel might not be at (0,0) position on sw boot ...
    #  for the moment a warning message is sent on init
    if self.wheel_flags[0][1].value == 0:
        self.wheel_flags[0][1].setToolTip(&#34;Homing is needed&#34;)
        for elements in range(8):
            self.wheel_1.findChildren(QLineEdit)[elements].setText(&#34;None&#34;)
            self.wheel_2.findChildren(QLineEdit)[elements].setText(&#34;None&#34;)

    else:
        if any(i !=0 for i in init_values):
            description = &#34;The filter wheel has been started in a non zero position.&#34;
            info_text = (
                &#34;The GUI will start, but the initial position of the filter wheel might not be the real one.&#34;
                &#34;In order to correctly initialize the wheel, please do a homing command first &#34;
                &#34;Otherwise, move both wheel 1 and wheel 2 to their zero position &#34;
            )

            show_warning_message(description, info_text)
        else:
            # setting the initial wheel positions:
            self.wheel_1.findChildren(QLed)[pos_wheel_1].blockSignals(
                True)  # Block signals just in case: to be removed if any other way is used to select the wheels position
            self.wheel_1.findChildren(QLed)[pos_wheel_1].value = True
            self.wheel_1.findChildren(QLed)[pos_wheel_1].blockSignals(False)
            self.wheel_2.findChildren(QLed)[pos_wheel_2].blockSignals(True)
            self.wheel_2.findChildren(QLed)[pos_wheel_2].value = True
            self.wheel_2.findChildren(QLed)[pos_wheel_2].blockSignals(False)

            self.update_attenuation_value()

        self.wheel_flags[0][1].setToolTip(&#34;The wheel is calibrated, no homing needed&#34;)

        # setting the wheel transmittances:
        for elements in range(8):
            self.wheel_1.findChildren(QLineEdit)[elements].setText(repr(levels[0][elements]))
            self.wheel_2.findChildren(QLineEdit)[elements].setText(repr(levels[1][elements]))</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_status_values"><code class="name flex">
<span>def <span class="ident">initialize_status_values</span></span>(<span>self, _status, s_flags)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initialize_status_values(self, _status, s_flags):
    # building status flags list:
    sf = [s_flags[&#34;Is homed&#34;], s_flags[&#34;Secur&#34;], s_flags[&#34;Alarm&#34;], 0]

    # first we see if there are complicated errors:
    error = [s_flags[&#34;Control&#34;], s_flags[&#34;Err C&#34;], s_flags[&#34;Err D&#34;], s_flags[&#34;Err V&#34;], s_flags[&#34;EEPROM Connected&#34;],
             s_flags[&#34;CTP error&#34;], s_flags[&#34;Borders Swap Misset&#34;], s_flags[&#34;H bridge fault&#34;]]

    if any(value == 1 for value in error):
        sf[3] = 1

    for i in range(len(_status)):
        self.wheelstatus[i][1].setText(repr(_status[i]))

    # update of the status flags:
    for i in range(len(sf)):
        self.wheel_flags[i][1].value = sf[i]

    # checks if homing state changed thus goes to enable

    if sf[0] == 0:
        self.enable_control_layout()
    else:
        pass</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.onClick"><code class="name flex">
<span>def <span class="ident">onClick</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def onClick(self):

    sender = self.sender()

    MODULE_LOGGER.debug(f&#34;sender.text() = {sender.text()}&#34;)
    MODULE_LOGGER.debug(f&#34;sender.isChecked() = {sender.isChecked()}&#34;)

    self.notifyObservers(sender)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_connection_state"><code class="name flex">
<span>def <span class="ident">set_connection_state</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_connection_state(self, state):

    if state == &#34;connected&#34;:
        self.reconnect_action.setChecked(True)
    elif state == &#34;disconnected&#34;:
        self.reconnect_action.setChecked(False)
    else:
        raise UnknownStateError(
            f&#34;Unknown State ({state}), expected &#39;connected&#39; or &#39;disconnected&#39;.&#34;
        )</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_mode"><code class="name flex">
<span>def <span class="ident">set_mode</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_mode(self):
    #todo: convert attenuation values to the mode selected
    print(&#34;new mode selected&#34;)</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_style"><code class="name flex">
<span>def <span class="ident">set_style</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the style for the LakeShoreUI Widget when it is connected to a real
LakeShore Controller (hardware).
This will override the styles that were defined in the styles.qss style file
that was loaded for the Application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_style(self):
    &#34;&#34;&#34;
    Set the style for the LakeShoreUI Widget when it is connected to a real
    LakeShore Controller (hardware).
    This will override the styles that were defined in the styles.qss style file
    that was loaded for the Application.
    &#34;&#34;&#34;
    self.setAutoFillBackground(True)
    self.setBackgroundRole(QPalette.Light)
    self.setStyleSheet(
        &#34;&#34;&#34;
        QGroupBox {
            border: 1px solid lightGray;
            border-radius: 0px;
            margin-top: 0px;
            padding-top: 10px;
        }
        QGroupBox::title {
            background-color: transparent;
            padding-top: 0px;
            padding-left: 0px;
        }
    &#34;&#34;&#34;
    )</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_style_simulator"><code class="name flex">
<span>def <span class="ident">set_style_simulator</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the style for the LakeShoreUI Widget when it is connected to a
LakeSHore Simulator.
This will override the styles that were defined in the styles.qss style file
that was loaded for the Application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_style_simulator(self):
    &#34;&#34;&#34;
    Set the style for the LakeShoreUI Widget when it is connected to a
    LakeSHore Simulator.
    This will override the styles that were defined in the styles.qss style file
    that was loaded for the Application.
    &#34;&#34;&#34;
    self.setAutoFillBackground(True)
    self.setBackgroundRole(QPalette.Dark)
    self.setStyleSheet(
        &#34;&#34;&#34;
        QGroupBox {
            border: 1px solid lightGray;
            border-radius: 0px;
            margin-top: 0px;
            padding-top: 10px;
        }
        QGroupBox::title {
            background-color: transparent;
            padding-top: 0px;
            padding-left: 0px;
        }
    &#34;&#34;&#34;
    )</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_attenuation_value"><code class="name flex">
<span>def <span class="ident">update_attenuation_value</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_attenuation_value(self):
    # boolean list of Qleds for each wheel:
    att_pos1 = [i.value for i in self.wheel_1.findChildren(QLed)]
    att_pos2 = [i.value for i in self.wheel_2.findChildren(QLed)]

    # getting the required index from the position:
    index1 = list(compress(range(len(att_pos1)), att_pos1))[0]
    index2 = list(compress(range(len(att_pos2)), att_pos2))[0]

    # Some indexes might not exist as they are lead to duplicated attenuation levels, that is why the ValueError
    # is used
    try:
        att_index = self.attenuation_values[1].index([index1, index2]) + 1

    except ValueError:
        # Normally only numbers are thrown here:
        att_1 = float(self.wheel_1.findChildren(QLineEdit)[index1].text())
        att_2 = float(self.wheel_2.findChildren(QLineEdit)[index2].text())
        att_index = self.attenuation_values[0].index(att_1 + att_2)

    # updates attenuation combobox
    self.attenuation.blockSignals(True)
    self.attenuation.setCurrentIndex(att_index)
    self.attenuation.repaint()
    self.attenuation.blockSignals(False)

    # updates attenuation value in the config widget
    self.wheelconfiguration[0][1].setText(self.attenuation.currentText())
    self.wheelconfiguration[0][1].repaint()</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_attenuations"><code class="name flex">
<span>def <span class="ident">update_attenuations</span></span>(<span>self, levels)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_attenuations(self, levels):
    ## setting the wheel transmittances:
    for elements in range(8):
        self.wheel_1.findChildren(QLineEdit)[elements].setText(levels[0][elements])
        self.wheel_2.findChildren(QLineEdit)[elements].setText(levels[1][elements])</code></pre>
</details>
</dd>
<dt id="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_position"><code class="name flex">
<span>def <span class="ident">update_position</span></span>(<span>self, new_position)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_position(self, new_position):
    #print(new_position)
    ## resetting to false:
    self.wheel_1.findChildren(QLed)[new_position[0]].blockSignals(True)  # Block signals just in case: to be removed if any other way is used to select the wheels position
    for x in self.wheel_1.findChildren(QLed):
        x.value = False
        x.repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
    self.wheel_1.findChildren(QLed)[new_position[0]].value = True
    self.wheel_1.findChildren(QLed)[new_position[0]].repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
    self.wheel_1.findChildren(QLed)[new_position[0]].blockSignals(False)

    self.wheel_2.findChildren(QLed)[new_position[1]].blockSignals(True)
    for x in self.wheel_2.findChildren(QLed):
        x.value = False
        x.repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
    self.wheel_2.findChildren(QLed)[new_position[1]].value = True
    self.wheel_2.findChildren(QLed)[new_position[1]].repaint() # this is now needed to update the QLed widget, depends on OS and pyqt versions
    self.wheel_2.findChildren(QLed)[new_position[1]].blockSignals(False)

    self.update_attenuation_value()</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="egse.filterwheel.eksma" href="index.html">egse.filterwheel.eksma</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.main" href="#egse.filterwheel.eksma.fw8smc4_ui.main">main</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.parse_arguments" href="#egse.filterwheel.eksma.fw8smc4_ui.parse_arguments">parse_arguments</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController">FilterWheelUIController</a></code></h4>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.create_timer" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.create_timer">create_timer</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.do" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.do">do</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.enable_control_layout" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.enable_control_layout">enable_control_layout</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_attenuator_values" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_attenuator_values">initialize_attenuator_values</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_position_values" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_position_values">initialize_position_values</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_status_values" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.initialize_status_values">initialize_status_values</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.start_timer" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.start_timer">start_timer</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.stop_timer" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.stop_timer">stop_timer</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.update" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.update">update</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.update_status_values" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIController.update_status_values">update_status_values</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel">FilterWheelUIModel</a></code></h4>
<ul class="two-column">
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_get_level" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_get_level">att_get_level</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_level_down" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_level_down">att_level_down</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_level_up" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_level_up">att_level_up</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_status" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.att_status">att_status</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.disconnect" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.disconnect">disconnect</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.get_position" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.get_position">get_position</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.get_status" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.get_status">get_status</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.has_commands" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.has_commands">has_commands</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.homing" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.homing">homing</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.is_connected" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.is_connected">is_connected</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.is_simulator" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.is_simulator">is_simulator</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.load_commands" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.load_commands">load_commands</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.load_wheels" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.load_wheels">load_wheels</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.reconnect" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.reconnect">reconnect</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.set_position" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.set_position">set_position</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.wheel_factors" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIModel.wheel_factors">wheel_factors</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView">FilterWheelUIView</a></code></h4>
<ul class="">
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.att_level" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.att_level">att_level</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createToolbar" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createToolbar">createToolbar</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelControlWidget" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelControlWidget">createWheelControlWidget</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelPositionWidget" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelPositionWidget">createWheelPositionWidget</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelStatusWidget" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.createWheelStatusWidget">createWheelStatusWidget</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.enable_control_layout" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.enable_control_layout">enable_control_layout</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.go_to_wheels_attenuation" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.go_to_wheels_attenuation">go_to_wheels_attenuation</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.go_to_wheels_position" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.go_to_wheels_position">go_to_wheels_position</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.init_gui" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.init_gui">init_gui</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_attenuator_values" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_attenuator_values">initialize_attenuator_values</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_position_values" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_position_values">initialize_position_values</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_status_values" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.initialize_status_values">initialize_status_values</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.onClick" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.onClick">onClick</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_connection_state" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_connection_state">set_connection_state</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_mode" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_mode">set_mode</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_style" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_style">set_style</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_style_simulator" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.set_style_simulator">set_style_simulator</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_attenuation_value" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_attenuation_value">update_attenuation_value</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_attenuations" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_attenuations">update_attenuations</a></code></li>
<li><code><a title="egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_position" href="#egse.filterwheel.eksma.fw8smc4_ui.FilterWheelUIView.update_position">update_position</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>