<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>egse.tempcontrol.srs.ptc10_ui API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>egse.tempcontrol.srs.ptc10_ui</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import argparse
import logging
import sys
from pathlib import Path
from typing import List
import numpy as np
from QLed import QLed


&#34;&#34;&#34;
Qt imports for the View class
&#34;&#34;&#34;

from PyQt5.QtWidgets import QApplication, QMessageBox
import pyqtgraph as pg
from PyQt5.QtGui import (QFont, QIcon, QPalette, QPixmap)
from PyQt5.QtWidgets import (QAction, QFrame, QGridLayout, QGroupBox, QHBoxLayout, QLabel, QMainWindow, QVBoxLayout,
                             QWidget, QRadioButton, QPushButton, QSpinBox, QDoubleSpinBox, QSizePolicy)
from PyQt5.QtCore import QTimer, Qt, QSize, QLockFile

from egse.settings import Settings
from egse.observer import Observable, Observer
from egse.state import UnknownStateError
from egse.config import find_file, set_logger_levels
from egse.process import ProcessStatus
from egse.system import do_every
from egse.resource import get_resource
from egse.gui.stripchart import StripChart
from egse.gui.buttons import ToggleButton
from egse.gui.buttons import TouchButton


import threading

from egse.tempcontrol.srs.ptc10 import ptc10Controller, ptc10Proxy, ptc10Simulator

from egse.gui import show_warning_message
from egse.gui.led import Indic


logging.basicConfig(level=logging.DEBUG, format=Settings.LOG_FORMAT_FULL)
MODULE_LOGGER = logging.getLogger(&#34;Temperature controller PTC10 GUI&#34;)

# Note that, in production, the logging level for the different loggers can be changed with a
# service command `set_logging_level(logger_name, level)`.

logger_levels = [
    (&#34;egse.protocol&#34;, logging.INFO),
    (&#34;egse.command&#34;, logging.INFO),
    (&#34;egse.settings&#34;, logging.INFO),
    (&#34;egse.config&#34;, logging.INFO),
    (&#34;git.cmd&#34;, logging.INFO),
]

set_logger_levels((logger_levels))

SETTINGS = Settings.load(&#34;SRS PTC10 Controller&#34;)
FONT = QFont(&#34;Helvetica&#34;, 18)

# Variables


SYSTEM_MODES = [&#34;Survival&#34;, &#34;Regulation&#34;, &#34;Manual&#34;, &#34;Custom&#34;]


class ConfigureModes(QWidget):
    def __init__(self):
        super().__init__()
        self.vbox = QVBoxLayout()
        self.mode_label = QLabel(&#34;System configuration&#34;)
        self.vbox.addWidget(self.mode_label)
        self.vbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)
        self.operation_modes = list()

        for mode in SYSTEM_MODES:
            _item = QRadioButton(mode)
            self.operation_modes.append(_item)
            self.vbox.addWidget(_item)
            self.vbox.setObjectName(mode)


class PIDSettings(QWidget):
    def __init__(self):
        super().__init__()
        vbox_labels = QVBoxLayout()
        vbox_values = QVBoxLayout()
        hbox = QHBoxLayout()

        copy_right_icon = QIcon(str(get_resource(&#34;:/icons/double-right-arrow.svg&#34;)))
        self.copy_right_button = QPushButton()
        self.copy_right_button.setIcon(copy_right_icon)
        self.copy_right_button.setToolTip(&#34;Set the PID parameters&#34;)
        self.copy_right_button.setMinimumWidth(95)
        self.copy_right_button.setMinimumHeight(75)

        self.pid_parameters = [[QLabel(&#34;P :&#34;), QLabel()],
                               [QLabel(&#34;I :&#34;), QLabel()],
                               [QLabel(&#34;D :&#34;), QLabel()]]

        for items in self.pid_parameters:
            vbox_labels.addWidget(items[0])
            vbox_values.addWidget(items[1])
            items[1].setStyleSheet(&#34;QLabel { background-color : White; }&#34;)
            items[1].setText(&#34;0.0&#34;)
            items[1].setAlignment(Qt.AlignRight | Qt.AlignVCenter)
            items[1].setMinimumWidth(40)

        vbox_labels.addStretch(1)
        vbox_values.addStretch(1)

        hbox.addLayout(vbox_labels)
        hbox.addLayout(vbox_values)
        hbox.addStretch(1)
        hbox.addWidget(self.copy_right_button)
        # Make sure the leds and labels stay nicely together when horizontally resizing the Frame.
        hbox.addStretch(1)

        vbox = QVBoxLayout()

        vbox.addLayout(self.setpoint_setting())

        vbox.addLayout(hbox)
        vbox.addStretch(1)

        self.auto_pid = QPushButton(&#34;Autotune PID&#34;)
        self.auto_pid.setToolTip(&#34;Set the autotune&#34;)
        self.auto_pid.setMaximumSize(180, 300)

        vbox.addWidget(self.auto_pid)
        vbox.setAlignment(Qt.AlignRight | Qt.AlignVCenter)
        vbox.addStretch(1)

        self.pidWidget = QGroupBox(&#34;PID settings :&#34;, self)
        self.pidWidget.setLayout(vbox)
        self.pidWidget.setToolTip(&#34;PID SETTINGS&#34;)
        self.pidWidget.setMaximumHeight(180)
        self.pidWidget.setMaximumWidth(200)

    def setpoint_setting(self):
        hbox = QHBoxLayout()
        self.setpoint_label = QLabel(&#34;Setpoint (°C):&#34;)
        self.setpoint_label.setAlignment(Qt.AlignRight | Qt.AlignVCenter)
        self.setpoint_value = QDoubleSpinBox()
        self.setpoint_value.setMinimum(-125)
        self.setpoint_value.setMinimumWidth(50)
        self.setpoint_value.setMinimumHeight(30)
        self.setpoint_label.setAlignment(Qt.AlignRight | Qt.AlignVCenter)


        hbox.addWidget(self.setpoint_label)
        hbox.addWidget(self.setpoint_value)
        hbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        return hbox


class manualSetting(QWidget):
    def __init__(self):
        super().__init__()

        hbox = QHBoxLayout()
        self.power_label = QLabel(&#34;Power (W):&#34;)
        self.power_label.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
        self.power_value = QSpinBox()

        self.power_value.setMinimumWidth(50)
        self.power_value.setMinimumHeight(30)
        self.power_label.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        hbox.addWidget(self.power_label)
        hbox.addWidget(self.power_value)

        hbox.addStretch(1)

        self.manualWidget = QGroupBox(&#34;Manual settings :&#34;, self)
        self.manualWidget.setLayout(hbox)
        self.manualWidget.setToolTip(&#34;Set output power in Watts&#34;)

        self.manualWidget.setMaximumHeight(70)


class SystemStatusWidget(QWidget):
    def __init__(self):
        super().__init__()
        self.status_leds = [
            [QLabel(&#34;Heaters active&#34;), QLed(self, offColour=QLed.Grey, onColour=QLed.Green, shape=QLed.Square)],
            [QLabel(&#34;System Error&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)]]

        vbox = QVBoxLayout()
        vbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)

        vbox.addLayout(self.create_states())
        self.StatusWidget = QGroupBox()
        self.StatusWidget.setLayout(vbox)

    def create_states(self):
        vbox = QVBoxLayout()

        hbox = QHBoxLayout()
        hbox.addWidget(QLabel(&#34;&#34;))

        for element in self.status_leds:
            hflags = QHBoxLayout()
            hflags.setSpacing(3)
            element[1].setFixedSize(15, 15)
            hflags.addWidget(element[1])
            hflags.addWidget(element[0])

            vbox.addLayout(hflags)
        return vbox


class OutputWidget(QWidget):
    def __init__(self):
        super().__init__()

        self.output_widget_label = QLabel()

        self.output_widget = QVBoxLayout()
        output_power_label = QLabel(&#34;Output power(W):&#34;)
        self.output_power = QLabel()
        self.output_power.setStyleSheet(&#34;QLabel { background-color : White; }&#34;)
        self.output_power.setMinimumWidth(70)
        hbox_power = QHBoxLayout()
        hbox_power.addWidget(output_power_label)
        hbox_power.addWidget(self.output_power)

        measured_temperature_label = QLabel(&#34;Measured T(°C):&#34;)
        self.measured_temperature = QLabel()
        self.measured_temperature.setMaximumWidth(70)
        self.measured_temperature.setStyleSheet(&#34;QLabel { background-color : White; }&#34;)
        hbox_temp = QHBoxLayout()
        hbox_temp.addWidget(measured_temperature_label)
        hbox_temp.addWidget(self.measured_temperature)

        self.output_widget.addWidget(self.output_widget_label)
        self.output_widget.addLayout(hbox_temp)
        self.output_widget.addLayout(hbox_power)
        self.output_widget.addStretch(1)


class createTRPWidget(QWidget):
    def __init__(self):
        super().__init__()
        self.trp_config = ConfigureModes()
        self.trp_config.vbox.removeItem(self.trp_config.vbox.itemAt(4)) # removes the &#34;custom&#34; mode as not needed here

        self.pid_config = PIDSettings()
        self.manual_config = manualSetting()
        self.stripchart = StripChart(
            labels={&#34;left&#34;: (&#34;measure T&#34;, &#34;C&#34;), &#34;right&#34;:(&#34;output Power&#34;,&#34;W&#34;), &#34;bottom&#34;: (&#34;Time&#34;, &#34;d hh:mm:ss&#34;)}
        )
        self.stripchart.setInterval(60 * 60 * 12)  # 12h of data
        self.stripchart.set_yrange(0, 40)

        hbox = QHBoxLayout()
        vbox_stripchart = QVBoxLayout()
        vbox_stripchart.addWidget(self.stripchart)
        hbox_settings = QHBoxLayout()

        vbox_settings = QVBoxLayout()

        stop_icon = QIcon(str(get_resource(&#34;:/icons/stop.svg&#34;)))

        self.stop_trp = QPushButton()
        self.stop_trp.setIcon(stop_icon)
        self.stop_trp.setIconSize(QSize(50,50))
        self.stop_trp.setMinimumHeight(100)
        self.stop_trp.setToolTip(&#34;STOP TRP Heater&#34;)

        vbox_config = QVBoxLayout()
        hbox_settings.addStretch(1)
        vbox_config.addLayout(self.trp_config.vbox)
        vbox_config.addStretch(1)

        vbox_config.addWidget(self.stop_trp)
        hbox_settings.addLayout(vbox_config)
        hbox_settings.addWidget(self.pid_config.pidWidget)
        hbox_settings.addStretch(1)
        vbox_settings.addLayout(hbox_settings)
        vbox_settings.addWidget(self.manual_config.manualWidget)

        hbox.addLayout(vbox_stripchart)
        hbox.addLayout(vbox_settings)
        self.TRPWidget = QGroupBox(&#34;TRPWidget&#34;, self)
        self.TRPWidget.setLayout(hbox)


class ptc10UIView(QMainWindow, Observable):
    def __init__(self):
        super().__init__()

        # Define those variables that we will need/use in different methods

        self.measure = None
        self.clear_action = None
        self.reconnect_action = None
        self.toolbar = None

        self.setGeometry(200, 200, 1000, 500)
        self.setWindowTitle(&#34;SRS PTC10 Temperature Controller&#34;)

        #self.pid_parameters = None

        self.system_config = self.SystemConfigure()
        self.system_settings = self.SystemSettings()
        self.system_status = self.SystemStatus()
        self.system_status.setTitle(&#34;System Status&#34;)

        self.TRPWidget = self.create_channel_group()

        self.system_op = self.system_config.findChildren(QRadioButton)
        #self.trp2_op = self.TRPWidget.widget_trp2()

        self.init_gui()

    ### Widgets definition

    def SystemConfigure(self):
        &#34;&#34;&#34;This Widget allows to view the configuration mode of the system.&#34;&#34;&#34;

        vbox = ConfigureModes()

        modes_layout = QGroupBox()
        modes_layout.setLayout(vbox.vbox)

        return modes_layout

    def SystemStatus(self):
        &#34;&#34;&#34;This Widget reports the sytem status.&#34;&#34;&#34;
        ## Errors, OOL, active regulation
        self.systemstatus = SystemStatusWidget()

        self.trp2_status = OutputWidget()
        self.trp2_status.output_widget_label.setText(&#34;&gt;------- TRP2 Outputs -------&lt;&#34;)

        self.trp3_status = OutputWidget()
        self.trp3_status.output_widget_label.setText(&#34;&gt;------- TRP3 Outputs -------&lt;&#34;)

        self.trp4_status = OutputWidget()
        self.trp4_status.output_widget_label.setText(&#34;&gt;------- TRP4 Outputs -------&lt;&#34;)

        vbox = QVBoxLayout()
        vbox.addWidget(self.systemstatus.StatusWidget)
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
        vbox.addStretch(1)
        vbox.addLayout(self.trp2_status.output_widget)
        vbox.addStretch(1)
        vbox.addLayout(self.trp3_status.output_widget)
        vbox.addStretch(1)
        vbox.addLayout(self.trp4_status.output_widget)

        status_layout = QGroupBox()
        status_layout.setLayout(vbox)

        return status_layout

    def SystemSettings(self):
        &#34;&#34;&#34;This Widget allows to set the system parameters.&#34;&#34;&#34;
        ## setpoint, PID, Autotune, manual power tuning

        vbox = QVBoxLayout()
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        self.PID_settings = PIDSettings()

        vbox.addWidget(self.PID_settings.pidWidget)
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
        vbox.addStretch(1)

        self.manual_setting = manualSetting()

        vbox.addWidget(self.manual_setting.manualWidget)
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        return vbox

    def createToolbar(self):
        image_location = Path(__file__).resolve().parent.parent.parent / &#34;images&#34;

        # The Reconnect action is used to reconnect the device or control server

        connected_pix = QPixmap(str(image_location / &#34;connected-100.png&#34;))
        disconnected_pix = QPixmap(str(image_location / &#34;disconnected-100.png&#34;))
        reconnect_icon = QIcon()
        reconnect_icon.addPixmap(connected_pix, QIcon.Normal, QIcon.On)
        reconnect_icon.addPixmap(disconnected_pix, QIcon.Normal, QIcon.Off)

        self.reconnect_action = QAction(reconnect_icon, &#34;Reconnect&#34;, self)
        self.reconnect_action.setToolTip(&#34;Reconnect&#34;)
        self.reconnect_action.setCheckable(True)
        self.reconnect_action.triggered.connect(self.onClick)


        # The STOP button is used to immediately stop the current motion

        stop_button = QIcon(str(get_resource(&#34;:/icons/stop.svg&#34;)))

        self.stop_action = QAction(stop_button, &#34;STOP&#34;, self)
        self.stop_action.setToolTip(&#34;STOP Movement&#34;)
        self.stop_action.triggered.connect(self.onClick)

        self.clear_errors = TouchButton(
            name=&#34;CLEAR-ERRORS&#34;,
            status_tip=&#34;clear the error list on the controller&#34;,
            selected=get_resource(&#34;:/icons/erase.svg&#34;),
            disabled=get_resource(&#34;:/icons/erase-disabled.svg&#34;),
        )
        self.clear_errors.clicked.connect(self.onClick)

        # The Reconnect action is used to reconnect to the control server

        self.cs_connection = ToggleButton(
            name=&#34;CS-CONNECT&#34;,
            status_tip=&#34;connect-disconnect hexapod control server.&#34;,
            selected=get_resource(&#34;:/icons/cs-connected.svg&#34;),
            not_selected=get_resource(&#34;:/icons/cs-not-connected.svg&#34;),
            disabled=get_resource(&#34;:/icons/cs-connected-disabled.svg&#34;)
        )
        self.cs_connection.clicked.connect(self.onClick)

        spacer = QWidget()
        spacer.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding)

        self.toolbar = self.addToolBar(&#34;MainToolbar&#34;)
        self.toolbar.addAction(self.reconnect_action)
        #self.toolbar.addWidget(spacer)
        self.toolbar.addWidget(self.clear_errors)
        #self.toolbar.addWidget(spacer)
        self.toolbar.addWidget(self.cs_connection)

        self.toolbar.addAction(self.stop_action)

        return self.toolbar

    def create_channel_group(self):

        group_box = QGroupBox(&#34;TRP2/3/4 Monitoring and Control&#34;)

        # Create the label fields that display the current measure
        self.widget_trp_2 = createTRPWidget()
        self.widget_trp_2.TRPWidget.setTitle(&#34;TRP2&#34;)
        self.widget_trp_2.trp_config.mode_label.setText(&#34;TRP2 regulation mode&#34;)
        self.widget_trp_2.setMinimumHeight(200)
        self.widget_trp_2.setMinimumWidth(700)

        self.widget_trp_3 = createTRPWidget()
        self.widget_trp_3.TRPWidget.setTitle(&#34;TRP3&#34;)
        self.widget_trp_3.trp_config.mode_label.setText(&#34;TRP3 regulation mode&#34;)
        self.widget_trp_3.setMinimumHeight(200)
        self.widget_trp_3.setMinimumWidth(700)

        self.widget_trp_4 = createTRPWidget()
        self.widget_trp_4.TRPWidget.setTitle(&#34;TRP4&#34;)
        self.widget_trp_4.trp_config.mode_label.setText(&#34;TRP4 regulation mode&#34;)
        self.widget_trp_4.setMinimumHeight(200)
        self.widget_trp_4.setMinimumWidth(700)

        # Create the edit text field for setting the position

        vbox = QVBoxLayout()

        vbox.addWidget(self.widget_trp_2.TRPWidget)
        vbox.addWidget(self.widget_trp_3.TRPWidget)
        vbox.addWidget(self.widget_trp_4.TRPWidget)

        vbox.addStretch(1)

        group_box.setLayout(vbox)

        return group_box

    ## widget init

    def init_gui(self):

        # Switch to using white background and black foreground for pyqtgraph stripcharts

        pg.setConfigOption(&#34;background&#34;, &#34;w&#34;)
        pg.setConfigOption(&#34;foreground&#34;, &#34;k&#34;)

        # The main frame in which all the other frames are located, the outer Application frame

        app_frame = QFrame()
        app_frame.setObjectName(&#34;AppFrame&#34;)

        hbox = QHBoxLayout()
        self.createToolbar()
        vbox = QVBoxLayout()

        vbox.addWidget(self.system_config)

        # connects the system mode selection event
        for mode in self.system_op:
            mode.clicked.connect(self.set_mode)

        vbox.addLayout(self.system_settings)
        self.PID_settings.auto_pid.clicked.connect(self.set_auto_pid)
        self.PID_settings.copy_right_button.clicked.connect(self.set_pid)


        vbox.addWidget(self.system_status)
        vbox.addStretch(1)

        hbox.addLayout(vbox)
        hbox.addWidget(self.TRPWidget)

        app_frame.setLayout(hbox)

        self.setCentralWidget(app_frame)

    #### GUI UPDATES

    def init_widgets_values(self):
        print(&#34;put here the initialization parameters&#34;)
        #TODO: the initial config needs to be read and passed
        ## Init system config values:

        self.system_op[0].setChecked(True)

        ## Init PID default values
        for pid in range(3):
            self.PID_settings.pid_parameters[pid][1].setText(&#34;0.0&#34;)
            self.PID_settings.pid_parameters[pid][1].repaint()

        self.update_gui()

    def update_gui(self):

        m = list()
        for _items in range(len(self.system_op)):
            m.append(self.system_op[_items].isChecked())
        current_mode = SYSTEM_MODES[int(np.where(m)[0])]
        self.gui_modes(current_mode)

    def gui_modes(self, mode):

        if mode == &#34;Survival&#34;:
            self.PID_settings.auto_pid.setDisabled(False)
            self.PID_settings.setpoint_value.setValue(-10)
            self.PID_settings.setpoint_value.setDisabled(True)
            self.manual_setting.power_value.setDisabled(True)

            #Disabling TRPs custom:
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_2.TRPWidget.setDisabled(True)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_3.TRPWidget.setDisabled(True)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_4.TRPWidget.setDisabled(True)
            #for x in range(len(self.pid_parameters)):
             #   self.pid_parameters[x][1].setDisabled(False)
        elif mode == &#34;Regulation&#34;:
            self.PID_settings.auto_pid.setDisabled(False)
            self.PID_settings.setpoint_value.setDisabled(False)
            self.manual_setting.power_value.setDisabled(True)
            for x in range(len(self.PID_settings.pid_parameters)):
                self.PID_settings.pid_parameters[x][1].setDisabled(False)

            #Disabling TRPs custom:
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_2.TRPWidget.setDisabled(True)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_3.TRPWidget.setDisabled(True)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_4.TRPWidget.setDisabled(True)

        elif mode == &#34;Manual&#34;:
            self.PID_settings.copy_right_button.setDisabled(True)
            self.PID_settings.auto_pid.setDisabled(True)
            self.PID_settings.setpoint_value.setDisabled(True)
            self.manual_setting.power_value.setDisabled(False)

            #Disabling TRPs custom:
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_2.TRPWidget.setDisabled(True)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_3.TRPWidget.setDisabled(True)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_4.TRPWidget.setDisabled(True)

        elif mode == &#34;Custom&#34;:
            self.PID_settings.copy_right_button.setDisabled(True)
            self.PID_settings.auto_pid.setDisabled(True)
            self.PID_settings.setpoint_value.setDisabled(True)
            self.manual_setting.power_value.setDisabled(True)

            #Enabling TRPs custom:
            #May be here the best is to start with the latest system mode
            self.widget_trp_2.TRPWidget.setDisabled(False)
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(False)
            self.widget_trp_3.TRPWidget.setDisabled(False)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(False)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(False)

            #for x in range(len(self.pid_parameters)):
                #self.pid_parameters[x][1].setDisabled(True)




    #### NOTIFIERS

    def set_mode(self):
        print(&#34;the mode has changed&#34;)
        self.update_gui()

    def set_pid(self):
        print(&#34;SET PID PARAMETERS&#34;)

    def set_auto_pid(self):
        print(&#34;AUTOPID&#34;)

    def set_style(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a real
        Temperature Contorlelr Controller (hardware).
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Light)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def set_style_simulator(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a
        LakeSHore Simulator.
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Dark)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def onClick(self):

        sender = self.sender()

        MODULE_LOGGER.debug(f&#34;sender.text() = {sender.text()}&#34;)
        MODULE_LOGGER.debug(f&#34;sender.isChecked() = {sender.isChecked()}&#34;)

        self.notifyObservers(sender)

    def set_connection_state(self, state):

        if state == &#34;connected&#34;:
            self.reconnect_action.setChecked(True)
        elif state == &#34;disconnected&#34;:
            self.reconnect_action.setChecked(False)
        else:
            raise UnknownStateError(
                f&#34;Unknown State ({state}), expected &#39;connected&#39; or &#39;disconnected&#39;.&#34;
            )


class ptc10UIModel:
    def __init__(self, type_):
        self.type = type_

        if self.type == &#34;proxy&#34;:
            self.temp = ptc10Proxy()
        elif self.type == &#34;direct&#34;:
            self.temp = ptc10Controller()
            self.temp.connect()
        elif self.type == &#34;simulator&#34;:
            self.temp = ptc10Simulator()
        else:
            raise Exception(
                f&#34;Unknown type of Temperature Controller implementation passed into the model: {type}&#34;
            )

        if self.temp is not None:
            MODULE_LOGGER.debug(
                f&#34;SRS PTC10Controller initialized as {self.temp.__class__.__name__}&#34;
            )

    def has_commands(self):
        if self.type == &#34;proxy&#34;:
            return self.temp.has_commands()
        return True

    def load_commands(self):
        if self.type == &#34;proxy&#34;:
            self.temp.load_commands()

    def is_simulator(self):
        return self.temp.is_simulator()

    def is_connected(self):
        if self.type == &#34;proxy&#34;:
            return self.temp.is_cs_connected()
        else:
            return self.temp.is_connected()

    def reconnect(self):
        if self.type == &#34;proxy&#34;:
            self.temp.reconnect_cs()
            return self.temp.is_cs_connected()
        else:
            self.temp.reconnect()
            return self.temp.is_connected()
        return False

    def disconnect(self):
        if self.type == &#34;proxy&#34;:
            self.temp.disconnect_cs()
        else:
            self.temp.disconnect()


class ptc10UIController(Observer):
    def __init__(self, model, view):
        self.model = model
        self.view = view
        self.view.addObserver(self)

        self.create_timer()

        if self.model.is_connected():

            if self.model.is_simulator():
                self.view.set_style_simulator()
            else:
                self.view.set_style()

            self.view.set_connection_state(&#34;connected&#34;)
            self.view.init_widgets_values()
            self.start_timer()
        else:
            self.stop_timer()
            self.view.set_connection_state(&#34;disconnected&#34;)

    def create_timer(self):
        &#34;&#34;&#34;Create a Timer that will update the States every second.&#34;&#34;&#34;

        self.states_capture_timer = QTimer()

        self.states_capture_timer.setInterval(200)

        self.stripchart_timer = QTimer()

        self.stripchart_timer.setInterval(200)

    def start_timer(self):
        self.states_capture_timer.start()
        self.stripchart_timer.start()

    def stop_timer(self):
        self.states_capture_timer.stop()
        self.stripchart_timer.stop()

    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():
                MODULE_LOGGER.debug(&#34;Reconnecting the ptc10 model.&#34;)
                if self.model.reconnect():
                    self.view.set_connection_state(&#34;connected&#34;)
                    if not self.model.has_commands():
                        self.model.load_commands()
                    self.start_timer()
                else:
                    self.view.reconnect_action.setChecked(False)
            else:
                MODULE_LOGGER.debug(&#34;Disconnecting the ptc10 model.&#34;)
                self.stop_timer()
                self.model.disconnect()
                self.view.set_connection_state(&#34;disconnected&#34;)

            return

        if text == &#34;ClearErrors&#34;:
            self.model.clearError()

        if text == &#34;Reset&#34;:
            pass

    def do(self, actions):

        for action, value in actions.items():
            MODULE_LOGGER.debug(f&#34;do {action} with {value}&#34;)
            if action == &#34;set_wavelength&#34;:
                wavelength = value
                print(wavelength)
                MODULE_LOGGER.debug(f&#34;do: set_wavelength({wavelength}:{type(wavelength)})&#34;)
                self.model.set_wavelength(wavelength)

            if action == &#34;set_range&#34;:
                _range, auto = value
                MODULE_LOGGER.debug(f&#34;do: set_range({_range}:{type(_range)}, {auto}:{type(auto)})&#34;)
                self.model.set_range(_range, auto)

            if action == &#34;get_configuration&#34;:
                configuration = self.model.get_configuration()
                print(configuration)
                self.view.update_configuration_value(configuration)


def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;, &#34;direct&#34;},
        help=&#34;Specify the implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )
    parser.add_argument(
        &#34;--profile&#34;,
        default=False,
        action=&#34;store_true&#34;,
        help=&#34;Enable info logging messages with method profile information.&#34;,
    )
    args = parser.parse_args()
    return args


def main():
    lock_file = QLockFile(str(Path(&#34;~/ptc10_ui.app.lock&#34;).expanduser()))
    styles_location = find_file(&#34;styles.qss&#34;, in_dir=&#34;egse/gui&#34;)

    args = list(sys.argv)
    args[1:1] = [&#34;-stylesheet&#34;, str(styles_location)]
    app = QApplication(args)

    if lock_file.tryLock(100):
        process_status = ProcessStatus()

        timer_thread = threading.Thread(target=do_every, args=(10, process_status.update))
        timer_thread.daemon = True
        timer_thread.start()

        args = parse_arguments()

        if args.profile:
            Settings.set_profiling(True)

        if args.type == &#34;proxy&#34;:
            proxy = ptc10Proxy()
            if not proxy.ping():
                description = &#34;Could not connect to SRS PTC10 Control Server&#34;
                info_text = (
                    &#34;The GUI will start, but the connection button will show a disconnected state. &#34;
                    &#34;Please check if the Control Server is running and start the server if needed. &#34;
                    &#34;Otherwise, check if the correct HOSTNAME for the control server is set in the &#34;
                    &#34;Settings.yaml &#34;
                    &#34;configuration file.&#34;
                )

                show_warning_message(description, info_text)

        view = ptc10UIView()
        model = ptc10UIModel(args.type)
        controller = ptc10UIController(model, view)

        view.show()

        return app.exec_()
    else:
        error_message = QMessageBox()
        error_message.setIcon(QMessageBox.Warning)
        error_message.setWindowTitle(&#34;Error&#34;)
        error_message.setText(&#34;The PTC10 tempcontrol GUI application is already running!&#34;)
        error_message.setStandardButtons(QMessageBox.Ok)

        return error_message.exec()


if __name__ == &#34;__main__&#34;:
    sys.exit(main())</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="egse.tempcontrol.srs.ptc10_ui.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main():
    lock_file = QLockFile(str(Path(&#34;~/ptc10_ui.app.lock&#34;).expanduser()))
    styles_location = find_file(&#34;styles.qss&#34;, in_dir=&#34;egse/gui&#34;)

    args = list(sys.argv)
    args[1:1] = [&#34;-stylesheet&#34;, str(styles_location)]
    app = QApplication(args)

    if lock_file.tryLock(100):
        process_status = ProcessStatus()

        timer_thread = threading.Thread(target=do_every, args=(10, process_status.update))
        timer_thread.daemon = True
        timer_thread.start()

        args = parse_arguments()

        if args.profile:
            Settings.set_profiling(True)

        if args.type == &#34;proxy&#34;:
            proxy = ptc10Proxy()
            if not proxy.ping():
                description = &#34;Could not connect to SRS PTC10 Control Server&#34;
                info_text = (
                    &#34;The GUI will start, but the connection button will show a disconnected state. &#34;
                    &#34;Please check if the Control Server is running and start the server if needed. &#34;
                    &#34;Otherwise, check if the correct HOSTNAME for the control server is set in the &#34;
                    &#34;Settings.yaml &#34;
                    &#34;configuration file.&#34;
                )

                show_warning_message(description, info_text)

        view = ptc10UIView()
        model = ptc10UIModel(args.type)
        controller = ptc10UIController(model, view)

        view.show()

        return app.exec_()
    else:
        error_message = QMessageBox()
        error_message.setIcon(QMessageBox.Warning)
        error_message.setWindowTitle(&#34;Error&#34;)
        error_message.setText(&#34;The PTC10 tempcontrol GUI application is already running!&#34;)
        error_message.setStandardButtons(QMessageBox.Ok)

        return error_message.exec()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.parse_arguments"><code class="name flex">
<span>def <span class="ident">parse_arguments</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Prepare the arguments that are specific for this application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;, &#34;direct&#34;},
        help=&#34;Specify the implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )
    parser.add_argument(
        &#34;--profile&#34;,
        default=False,
        action=&#34;store_true&#34;,
        help=&#34;Enable info logging messages with method profile information.&#34;,
    )
    args = parser.parse_args()
    return args</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="egse.tempcontrol.srs.ptc10_ui.ConfigureModes"><code class="flex name class">
<span>class <span class="ident">ConfigureModes</span></span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ConfigureModes(QWidget):
    def __init__(self):
        super().__init__()
        self.vbox = QVBoxLayout()
        self.mode_label = QLabel(&#34;System configuration&#34;)
        self.vbox.addWidget(self.mode_label)
        self.vbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)
        self.operation_modes = list()

        for mode in SYSTEM_MODES:
            _item = QRadioButton(mode)
            self.operation_modes.append(_item)
            self.vbox.addWidget(_item)
            self.vbox.setObjectName(mode)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.OutputWidget"><code class="flex name class">
<span>class <span class="ident">OutputWidget</span></span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OutputWidget(QWidget):
    def __init__(self):
        super().__init__()

        self.output_widget_label = QLabel()

        self.output_widget = QVBoxLayout()
        output_power_label = QLabel(&#34;Output power(W):&#34;)
        self.output_power = QLabel()
        self.output_power.setStyleSheet(&#34;QLabel { background-color : White; }&#34;)
        self.output_power.setMinimumWidth(70)
        hbox_power = QHBoxLayout()
        hbox_power.addWidget(output_power_label)
        hbox_power.addWidget(self.output_power)

        measured_temperature_label = QLabel(&#34;Measured T(°C):&#34;)
        self.measured_temperature = QLabel()
        self.measured_temperature.setMaximumWidth(70)
        self.measured_temperature.setStyleSheet(&#34;QLabel { background-color : White; }&#34;)
        hbox_temp = QHBoxLayout()
        hbox_temp.addWidget(measured_temperature_label)
        hbox_temp.addWidget(self.measured_temperature)

        self.output_widget.addWidget(self.output_widget_label)
        self.output_widget.addLayout(hbox_temp)
        self.output_widget.addLayout(hbox_power)
        self.output_widget.addStretch(1)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.PIDSettings"><code class="flex name class">
<span>class <span class="ident">PIDSettings</span></span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PIDSettings(QWidget):
    def __init__(self):
        super().__init__()
        vbox_labels = QVBoxLayout()
        vbox_values = QVBoxLayout()
        hbox = QHBoxLayout()

        copy_right_icon = QIcon(str(get_resource(&#34;:/icons/double-right-arrow.svg&#34;)))
        self.copy_right_button = QPushButton()
        self.copy_right_button.setIcon(copy_right_icon)
        self.copy_right_button.setToolTip(&#34;Set the PID parameters&#34;)
        self.copy_right_button.setMinimumWidth(95)
        self.copy_right_button.setMinimumHeight(75)

        self.pid_parameters = [[QLabel(&#34;P :&#34;), QLabel()],
                               [QLabel(&#34;I :&#34;), QLabel()],
                               [QLabel(&#34;D :&#34;), QLabel()]]

        for items in self.pid_parameters:
            vbox_labels.addWidget(items[0])
            vbox_values.addWidget(items[1])
            items[1].setStyleSheet(&#34;QLabel { background-color : White; }&#34;)
            items[1].setText(&#34;0.0&#34;)
            items[1].setAlignment(Qt.AlignRight | Qt.AlignVCenter)
            items[1].setMinimumWidth(40)

        vbox_labels.addStretch(1)
        vbox_values.addStretch(1)

        hbox.addLayout(vbox_labels)
        hbox.addLayout(vbox_values)
        hbox.addStretch(1)
        hbox.addWidget(self.copy_right_button)
        # Make sure the leds and labels stay nicely together when horizontally resizing the Frame.
        hbox.addStretch(1)

        vbox = QVBoxLayout()

        vbox.addLayout(self.setpoint_setting())

        vbox.addLayout(hbox)
        vbox.addStretch(1)

        self.auto_pid = QPushButton(&#34;Autotune PID&#34;)
        self.auto_pid.setToolTip(&#34;Set the autotune&#34;)
        self.auto_pid.setMaximumSize(180, 300)

        vbox.addWidget(self.auto_pid)
        vbox.setAlignment(Qt.AlignRight | Qt.AlignVCenter)
        vbox.addStretch(1)

        self.pidWidget = QGroupBox(&#34;PID settings :&#34;, self)
        self.pidWidget.setLayout(vbox)
        self.pidWidget.setToolTip(&#34;PID SETTINGS&#34;)
        self.pidWidget.setMaximumHeight(180)
        self.pidWidget.setMaximumWidth(200)

    def setpoint_setting(self):
        hbox = QHBoxLayout()
        self.setpoint_label = QLabel(&#34;Setpoint (°C):&#34;)
        self.setpoint_label.setAlignment(Qt.AlignRight | Qt.AlignVCenter)
        self.setpoint_value = QDoubleSpinBox()
        self.setpoint_value.setMinimum(-125)
        self.setpoint_value.setMinimumWidth(50)
        self.setpoint_value.setMinimumHeight(30)
        self.setpoint_label.setAlignment(Qt.AlignRight | Qt.AlignVCenter)


        hbox.addWidget(self.setpoint_label)
        hbox.addWidget(self.setpoint_value)
        hbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        return hbox</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.tempcontrol.srs.ptc10_ui.PIDSettings.setpoint_setting"><code class="name flex">
<span>def <span class="ident">setpoint_setting</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def setpoint_setting(self):
    hbox = QHBoxLayout()
    self.setpoint_label = QLabel(&#34;Setpoint (°C):&#34;)
    self.setpoint_label.setAlignment(Qt.AlignRight | Qt.AlignVCenter)
    self.setpoint_value = QDoubleSpinBox()
    self.setpoint_value.setMinimum(-125)
    self.setpoint_value.setMinimumWidth(50)
    self.setpoint_value.setMinimumHeight(30)
    self.setpoint_label.setAlignment(Qt.AlignRight | Qt.AlignVCenter)


    hbox.addWidget(self.setpoint_label)
    hbox.addWidget(self.setpoint_value)
    hbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

    return hbox</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.SystemStatusWidget"><code class="flex name class">
<span>class <span class="ident">SystemStatusWidget</span></span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class SystemStatusWidget(QWidget):
    def __init__(self):
        super().__init__()
        self.status_leds = [
            [QLabel(&#34;Heaters active&#34;), QLed(self, offColour=QLed.Grey, onColour=QLed.Green, shape=QLed.Square)],
            [QLabel(&#34;System Error&#34;), QLed(self, offColour=QLed.Green, onColour=QLed.Red, shape=QLed.Square)]]

        vbox = QVBoxLayout()
        vbox.setAlignment(Qt.AlignTop | Qt.AlignLeft)

        vbox.addLayout(self.create_states())
        self.StatusWidget = QGroupBox()
        self.StatusWidget.setLayout(vbox)

    def create_states(self):
        vbox = QVBoxLayout()

        hbox = QHBoxLayout()
        hbox.addWidget(QLabel(&#34;&#34;))

        for element in self.status_leds:
            hflags = QHBoxLayout()
            hflags.setSpacing(3)
            element[1].setFixedSize(15, 15)
            hflags.addWidget(element[1])
            hflags.addWidget(element[0])

            vbox.addLayout(hflags)
        return vbox</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.tempcontrol.srs.ptc10_ui.SystemStatusWidget.create_states"><code class="name flex">
<span>def <span class="ident">create_states</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_states(self):
    vbox = QVBoxLayout()

    hbox = QHBoxLayout()
    hbox.addWidget(QLabel(&#34;&#34;))

    for element in self.status_leds:
        hflags = QHBoxLayout()
        hflags.setSpacing(3)
        element[1].setFixedSize(15, 15)
        hflags.addWidget(element[1])
        hflags.addWidget(element[0])

        vbox.addLayout(hflags)
    return vbox</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.createTRPWidget"><code class="flex name class">
<span>class <span class="ident">createTRPWidget</span></span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class createTRPWidget(QWidget):
    def __init__(self):
        super().__init__()
        self.trp_config = ConfigureModes()
        self.trp_config.vbox.removeItem(self.trp_config.vbox.itemAt(4)) # removes the &#34;custom&#34; mode as not needed here

        self.pid_config = PIDSettings()
        self.manual_config = manualSetting()
        self.stripchart = StripChart(
            labels={&#34;left&#34;: (&#34;measure T&#34;, &#34;C&#34;), &#34;right&#34;:(&#34;output Power&#34;,&#34;W&#34;), &#34;bottom&#34;: (&#34;Time&#34;, &#34;d hh:mm:ss&#34;)}
        )
        self.stripchart.setInterval(60 * 60 * 12)  # 12h of data
        self.stripchart.set_yrange(0, 40)

        hbox = QHBoxLayout()
        vbox_stripchart = QVBoxLayout()
        vbox_stripchart.addWidget(self.stripchart)
        hbox_settings = QHBoxLayout()

        vbox_settings = QVBoxLayout()

        stop_icon = QIcon(str(get_resource(&#34;:/icons/stop.svg&#34;)))

        self.stop_trp = QPushButton()
        self.stop_trp.setIcon(stop_icon)
        self.stop_trp.setIconSize(QSize(50,50))
        self.stop_trp.setMinimumHeight(100)
        self.stop_trp.setToolTip(&#34;STOP TRP Heater&#34;)

        vbox_config = QVBoxLayout()
        hbox_settings.addStretch(1)
        vbox_config.addLayout(self.trp_config.vbox)
        vbox_config.addStretch(1)

        vbox_config.addWidget(self.stop_trp)
        hbox_settings.addLayout(vbox_config)
        hbox_settings.addWidget(self.pid_config.pidWidget)
        hbox_settings.addStretch(1)
        vbox_settings.addLayout(hbox_settings)
        vbox_settings.addWidget(self.manual_config.manualWidget)

        hbox.addLayout(vbox_stripchart)
        hbox.addLayout(vbox_settings)
        self.TRPWidget = QGroupBox(&#34;TRPWidget&#34;, self)
        self.TRPWidget.setLayout(hbox)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.manualSetting"><code class="flex name class">
<span>class <span class="ident">manualSetting</span></span>
</code></dt>
<dd>
<div class="desc"><p>QWidget(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class manualSetting(QWidget):
    def __init__(self):
        super().__init__()

        hbox = QHBoxLayout()
        self.power_label = QLabel(&#34;Power (W):&#34;)
        self.power_label.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
        self.power_value = QSpinBox()

        self.power_value.setMinimumWidth(50)
        self.power_value.setMinimumHeight(30)
        self.power_label.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        hbox.addWidget(self.power_label)
        hbox.addWidget(self.power_value)

        hbox.addStretch(1)

        self.manualWidget = QGroupBox(&#34;Manual settings :&#34;, self)
        self.manualWidget.setLayout(hbox)
        self.manualWidget.setToolTip(&#34;Set output power in Watts&#34;)

        self.manualWidget.setMaximumHeight(70)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIController"><code class="flex name class">
<span>class <span class="ident">ptc10UIController</span></span>
<span>(</span><span>model, view)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ptc10UIController(Observer):
    def __init__(self, model, view):
        self.model = model
        self.view = view
        self.view.addObserver(self)

        self.create_timer()

        if self.model.is_connected():

            if self.model.is_simulator():
                self.view.set_style_simulator()
            else:
                self.view.set_style()

            self.view.set_connection_state(&#34;connected&#34;)
            self.view.init_widgets_values()
            self.start_timer()
        else:
            self.stop_timer()
            self.view.set_connection_state(&#34;disconnected&#34;)

    def create_timer(self):
        &#34;&#34;&#34;Create a Timer that will update the States every second.&#34;&#34;&#34;

        self.states_capture_timer = QTimer()

        self.states_capture_timer.setInterval(200)

        self.stripchart_timer = QTimer()

        self.stripchart_timer.setInterval(200)

    def start_timer(self):
        self.states_capture_timer.start()
        self.stripchart_timer.start()

    def stop_timer(self):
        self.states_capture_timer.stop()
        self.stripchart_timer.stop()

    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():
                MODULE_LOGGER.debug(&#34;Reconnecting the ptc10 model.&#34;)
                if self.model.reconnect():
                    self.view.set_connection_state(&#34;connected&#34;)
                    if not self.model.has_commands():
                        self.model.load_commands()
                    self.start_timer()
                else:
                    self.view.reconnect_action.setChecked(False)
            else:
                MODULE_LOGGER.debug(&#34;Disconnecting the ptc10 model.&#34;)
                self.stop_timer()
                self.model.disconnect()
                self.view.set_connection_state(&#34;disconnected&#34;)

            return

        if text == &#34;ClearErrors&#34;:
            self.model.clearError()

        if text == &#34;Reset&#34;:
            pass

    def do(self, actions):

        for action, value in actions.items():
            MODULE_LOGGER.debug(f&#34;do {action} with {value}&#34;)
            if action == &#34;set_wavelength&#34;:
                wavelength = value
                print(wavelength)
                MODULE_LOGGER.debug(f&#34;do: set_wavelength({wavelength}:{type(wavelength)})&#34;)
                self.model.set_wavelength(wavelength)

            if action == &#34;set_range&#34;:
                _range, auto = value
                MODULE_LOGGER.debug(f&#34;do: set_range({_range}:{type(_range)}, {auto}:{type(auto)})&#34;)
                self.model.set_range(_range, auto)

            if action == &#34;get_configuration&#34;:
                configuration = self.model.get_configuration()
                print(configuration)
                self.view.update_configuration_value(configuration)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="egse.observer.Observer" href="../../observer.html#egse.observer.Observer">Observer</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.create_timer"><code class="name flex">
<span>def <span class="ident">create_timer</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a Timer that will update the States every second.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_timer(self):
    &#34;&#34;&#34;Create a Timer that will update the States every second.&#34;&#34;&#34;

    self.states_capture_timer = QTimer()

    self.states_capture_timer.setInterval(200)

    self.stripchart_timer = QTimer()

    self.stripchart_timer.setInterval(200)</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.do"><code class="name flex">
<span>def <span class="ident">do</span></span>(<span>self, actions)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do(self, actions):

    for action, value in actions.items():
        MODULE_LOGGER.debug(f&#34;do {action} with {value}&#34;)
        if action == &#34;set_wavelength&#34;:
            wavelength = value
            print(wavelength)
            MODULE_LOGGER.debug(f&#34;do: set_wavelength({wavelength}:{type(wavelength)})&#34;)
            self.model.set_wavelength(wavelength)

        if action == &#34;set_range&#34;:
            _range, auto = value
            MODULE_LOGGER.debug(f&#34;do: set_range({_range}:{type(_range)}, {auto}:{type(auto)})&#34;)
            self.model.set_range(_range, auto)

        if action == &#34;get_configuration&#34;:
            configuration = self.model.get_configuration()
            print(configuration)
            self.view.update_configuration_value(configuration)</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.start_timer"><code class="name flex">
<span>def <span class="ident">start_timer</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_timer(self):
    self.states_capture_timer.start()
    self.stripchart_timer.start()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.stop_timer"><code class="name flex">
<span>def <span class="ident">stop_timer</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stop_timer(self):
    self.states_capture_timer.stop()
    self.stripchart_timer.stop()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self, changed_object)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self, changed_object):

    text = changed_object.text()

    if text == &#34;Reconnect&#34;:

        if changed_object.isChecked():
            MODULE_LOGGER.debug(&#34;Reconnecting the ptc10 model.&#34;)
            if self.model.reconnect():
                self.view.set_connection_state(&#34;connected&#34;)
                if not self.model.has_commands():
                    self.model.load_commands()
                self.start_timer()
            else:
                self.view.reconnect_action.setChecked(False)
        else:
            MODULE_LOGGER.debug(&#34;Disconnecting the ptc10 model.&#34;)
            self.stop_timer()
            self.model.disconnect()
            self.view.set_connection_state(&#34;disconnected&#34;)

        return

    if text == &#34;ClearErrors&#34;:
        self.model.clearError()

    if text == &#34;Reset&#34;:
        pass</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel"><code class="flex name class">
<span>class <span class="ident">ptc10UIModel</span></span>
<span>(</span><span>type_)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ptc10UIModel:
    def __init__(self, type_):
        self.type = type_

        if self.type == &#34;proxy&#34;:
            self.temp = ptc10Proxy()
        elif self.type == &#34;direct&#34;:
            self.temp = ptc10Controller()
            self.temp.connect()
        elif self.type == &#34;simulator&#34;:
            self.temp = ptc10Simulator()
        else:
            raise Exception(
                f&#34;Unknown type of Temperature Controller implementation passed into the model: {type}&#34;
            )

        if self.temp is not None:
            MODULE_LOGGER.debug(
                f&#34;SRS PTC10Controller initialized as {self.temp.__class__.__name__}&#34;
            )

    def has_commands(self):
        if self.type == &#34;proxy&#34;:
            return self.temp.has_commands()
        return True

    def load_commands(self):
        if self.type == &#34;proxy&#34;:
            self.temp.load_commands()

    def is_simulator(self):
        return self.temp.is_simulator()

    def is_connected(self):
        if self.type == &#34;proxy&#34;:
            return self.temp.is_cs_connected()
        else:
            return self.temp.is_connected()

    def reconnect(self):
        if self.type == &#34;proxy&#34;:
            self.temp.reconnect_cs()
            return self.temp.is_cs_connected()
        else:
            self.temp.reconnect()
            return self.temp.is_connected()
        return False

    def disconnect(self):
        if self.type == &#34;proxy&#34;:
            self.temp.disconnect_cs()
        else:
            self.temp.disconnect()</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.disconnect"><code class="name flex">
<span>def <span class="ident">disconnect</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def disconnect(self):
    if self.type == &#34;proxy&#34;:
        self.temp.disconnect_cs()
    else:
        self.temp.disconnect()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.has_commands"><code class="name flex">
<span>def <span class="ident">has_commands</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def has_commands(self):
    if self.type == &#34;proxy&#34;:
        return self.temp.has_commands()
    return True</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.is_connected"><code class="name flex">
<span>def <span class="ident">is_connected</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_connected(self):
    if self.type == &#34;proxy&#34;:
        return self.temp.is_cs_connected()
    else:
        return self.temp.is_connected()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.is_simulator"><code class="name flex">
<span>def <span class="ident">is_simulator</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_simulator(self):
    return self.temp.is_simulator()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.load_commands"><code class="name flex">
<span>def <span class="ident">load_commands</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_commands(self):
    if self.type == &#34;proxy&#34;:
        self.temp.load_commands()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.reconnect"><code class="name flex">
<span>def <span class="ident">reconnect</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reconnect(self):
    if self.type == &#34;proxy&#34;:
        self.temp.reconnect_cs()
        return self.temp.is_cs_connected()
    else:
        self.temp.reconnect()
        return self.temp.is_connected()
    return False</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView"><code class="flex name class">
<span>class <span class="ident">ptc10UIView</span></span>
</code></dt>
<dd>
<div class="desc"><p>QMainWindow(parent: QWidget = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ptc10UIView(QMainWindow, Observable):
    def __init__(self):
        super().__init__()

        # Define those variables that we will need/use in different methods

        self.measure = None
        self.clear_action = None
        self.reconnect_action = None
        self.toolbar = None

        self.setGeometry(200, 200, 1000, 500)
        self.setWindowTitle(&#34;SRS PTC10 Temperature Controller&#34;)

        #self.pid_parameters = None

        self.system_config = self.SystemConfigure()
        self.system_settings = self.SystemSettings()
        self.system_status = self.SystemStatus()
        self.system_status.setTitle(&#34;System Status&#34;)

        self.TRPWidget = self.create_channel_group()

        self.system_op = self.system_config.findChildren(QRadioButton)
        #self.trp2_op = self.TRPWidget.widget_trp2()

        self.init_gui()

    ### Widgets definition

    def SystemConfigure(self):
        &#34;&#34;&#34;This Widget allows to view the configuration mode of the system.&#34;&#34;&#34;

        vbox = ConfigureModes()

        modes_layout = QGroupBox()
        modes_layout.setLayout(vbox.vbox)

        return modes_layout

    def SystemStatus(self):
        &#34;&#34;&#34;This Widget reports the sytem status.&#34;&#34;&#34;
        ## Errors, OOL, active regulation
        self.systemstatus = SystemStatusWidget()

        self.trp2_status = OutputWidget()
        self.trp2_status.output_widget_label.setText(&#34;&gt;------- TRP2 Outputs -------&lt;&#34;)

        self.trp3_status = OutputWidget()
        self.trp3_status.output_widget_label.setText(&#34;&gt;------- TRP3 Outputs -------&lt;&#34;)

        self.trp4_status = OutputWidget()
        self.trp4_status.output_widget_label.setText(&#34;&gt;------- TRP4 Outputs -------&lt;&#34;)

        vbox = QVBoxLayout()
        vbox.addWidget(self.systemstatus.StatusWidget)
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
        vbox.addStretch(1)
        vbox.addLayout(self.trp2_status.output_widget)
        vbox.addStretch(1)
        vbox.addLayout(self.trp3_status.output_widget)
        vbox.addStretch(1)
        vbox.addLayout(self.trp4_status.output_widget)

        status_layout = QGroupBox()
        status_layout.setLayout(vbox)

        return status_layout

    def SystemSettings(self):
        &#34;&#34;&#34;This Widget allows to set the system parameters.&#34;&#34;&#34;
        ## setpoint, PID, Autotune, manual power tuning

        vbox = QVBoxLayout()
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        self.PID_settings = PIDSettings()

        vbox.addWidget(self.PID_settings.pidWidget)
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
        vbox.addStretch(1)

        self.manual_setting = manualSetting()

        vbox.addWidget(self.manual_setting.manualWidget)
        vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

        return vbox

    def createToolbar(self):
        image_location = Path(__file__).resolve().parent.parent.parent / &#34;images&#34;

        # The Reconnect action is used to reconnect the device or control server

        connected_pix = QPixmap(str(image_location / &#34;connected-100.png&#34;))
        disconnected_pix = QPixmap(str(image_location / &#34;disconnected-100.png&#34;))
        reconnect_icon = QIcon()
        reconnect_icon.addPixmap(connected_pix, QIcon.Normal, QIcon.On)
        reconnect_icon.addPixmap(disconnected_pix, QIcon.Normal, QIcon.Off)

        self.reconnect_action = QAction(reconnect_icon, &#34;Reconnect&#34;, self)
        self.reconnect_action.setToolTip(&#34;Reconnect&#34;)
        self.reconnect_action.setCheckable(True)
        self.reconnect_action.triggered.connect(self.onClick)


        # The STOP button is used to immediately stop the current motion

        stop_button = QIcon(str(get_resource(&#34;:/icons/stop.svg&#34;)))

        self.stop_action = QAction(stop_button, &#34;STOP&#34;, self)
        self.stop_action.setToolTip(&#34;STOP Movement&#34;)
        self.stop_action.triggered.connect(self.onClick)

        self.clear_errors = TouchButton(
            name=&#34;CLEAR-ERRORS&#34;,
            status_tip=&#34;clear the error list on the controller&#34;,
            selected=get_resource(&#34;:/icons/erase.svg&#34;),
            disabled=get_resource(&#34;:/icons/erase-disabled.svg&#34;),
        )
        self.clear_errors.clicked.connect(self.onClick)

        # The Reconnect action is used to reconnect to the control server

        self.cs_connection = ToggleButton(
            name=&#34;CS-CONNECT&#34;,
            status_tip=&#34;connect-disconnect hexapod control server.&#34;,
            selected=get_resource(&#34;:/icons/cs-connected.svg&#34;),
            not_selected=get_resource(&#34;:/icons/cs-not-connected.svg&#34;),
            disabled=get_resource(&#34;:/icons/cs-connected-disabled.svg&#34;)
        )
        self.cs_connection.clicked.connect(self.onClick)

        spacer = QWidget()
        spacer.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding)

        self.toolbar = self.addToolBar(&#34;MainToolbar&#34;)
        self.toolbar.addAction(self.reconnect_action)
        #self.toolbar.addWidget(spacer)
        self.toolbar.addWidget(self.clear_errors)
        #self.toolbar.addWidget(spacer)
        self.toolbar.addWidget(self.cs_connection)

        self.toolbar.addAction(self.stop_action)

        return self.toolbar

    def create_channel_group(self):

        group_box = QGroupBox(&#34;TRP2/3/4 Monitoring and Control&#34;)

        # Create the label fields that display the current measure
        self.widget_trp_2 = createTRPWidget()
        self.widget_trp_2.TRPWidget.setTitle(&#34;TRP2&#34;)
        self.widget_trp_2.trp_config.mode_label.setText(&#34;TRP2 regulation mode&#34;)
        self.widget_trp_2.setMinimumHeight(200)
        self.widget_trp_2.setMinimumWidth(700)

        self.widget_trp_3 = createTRPWidget()
        self.widget_trp_3.TRPWidget.setTitle(&#34;TRP3&#34;)
        self.widget_trp_3.trp_config.mode_label.setText(&#34;TRP3 regulation mode&#34;)
        self.widget_trp_3.setMinimumHeight(200)
        self.widget_trp_3.setMinimumWidth(700)

        self.widget_trp_4 = createTRPWidget()
        self.widget_trp_4.TRPWidget.setTitle(&#34;TRP4&#34;)
        self.widget_trp_4.trp_config.mode_label.setText(&#34;TRP4 regulation mode&#34;)
        self.widget_trp_4.setMinimumHeight(200)
        self.widget_trp_4.setMinimumWidth(700)

        # Create the edit text field for setting the position

        vbox = QVBoxLayout()

        vbox.addWidget(self.widget_trp_2.TRPWidget)
        vbox.addWidget(self.widget_trp_3.TRPWidget)
        vbox.addWidget(self.widget_trp_4.TRPWidget)

        vbox.addStretch(1)

        group_box.setLayout(vbox)

        return group_box

    ## widget init

    def init_gui(self):

        # Switch to using white background and black foreground for pyqtgraph stripcharts

        pg.setConfigOption(&#34;background&#34;, &#34;w&#34;)
        pg.setConfigOption(&#34;foreground&#34;, &#34;k&#34;)

        # The main frame in which all the other frames are located, the outer Application frame

        app_frame = QFrame()
        app_frame.setObjectName(&#34;AppFrame&#34;)

        hbox = QHBoxLayout()
        self.createToolbar()
        vbox = QVBoxLayout()

        vbox.addWidget(self.system_config)

        # connects the system mode selection event
        for mode in self.system_op:
            mode.clicked.connect(self.set_mode)

        vbox.addLayout(self.system_settings)
        self.PID_settings.auto_pid.clicked.connect(self.set_auto_pid)
        self.PID_settings.copy_right_button.clicked.connect(self.set_pid)


        vbox.addWidget(self.system_status)
        vbox.addStretch(1)

        hbox.addLayout(vbox)
        hbox.addWidget(self.TRPWidget)

        app_frame.setLayout(hbox)

        self.setCentralWidget(app_frame)

    #### GUI UPDATES

    def init_widgets_values(self):
        print(&#34;put here the initialization parameters&#34;)
        #TODO: the initial config needs to be read and passed
        ## Init system config values:

        self.system_op[0].setChecked(True)

        ## Init PID default values
        for pid in range(3):
            self.PID_settings.pid_parameters[pid][1].setText(&#34;0.0&#34;)
            self.PID_settings.pid_parameters[pid][1].repaint()

        self.update_gui()

    def update_gui(self):

        m = list()
        for _items in range(len(self.system_op)):
            m.append(self.system_op[_items].isChecked())
        current_mode = SYSTEM_MODES[int(np.where(m)[0])]
        self.gui_modes(current_mode)

    def gui_modes(self, mode):

        if mode == &#34;Survival&#34;:
            self.PID_settings.auto_pid.setDisabled(False)
            self.PID_settings.setpoint_value.setValue(-10)
            self.PID_settings.setpoint_value.setDisabled(True)
            self.manual_setting.power_value.setDisabled(True)

            #Disabling TRPs custom:
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_2.TRPWidget.setDisabled(True)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_3.TRPWidget.setDisabled(True)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_4.TRPWidget.setDisabled(True)
            #for x in range(len(self.pid_parameters)):
             #   self.pid_parameters[x][1].setDisabled(False)
        elif mode == &#34;Regulation&#34;:
            self.PID_settings.auto_pid.setDisabled(False)
            self.PID_settings.setpoint_value.setDisabled(False)
            self.manual_setting.power_value.setDisabled(True)
            for x in range(len(self.PID_settings.pid_parameters)):
                self.PID_settings.pid_parameters[x][1].setDisabled(False)

            #Disabling TRPs custom:
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_2.TRPWidget.setDisabled(True)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_3.TRPWidget.setDisabled(True)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_4.TRPWidget.setDisabled(True)

        elif mode == &#34;Manual&#34;:
            self.PID_settings.copy_right_button.setDisabled(True)
            self.PID_settings.auto_pid.setDisabled(True)
            self.PID_settings.setpoint_value.setDisabled(True)
            self.manual_setting.power_value.setDisabled(False)

            #Disabling TRPs custom:
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_2.TRPWidget.setDisabled(True)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_3.TRPWidget.setDisabled(True)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
            self.widget_trp_4.TRPWidget.setDisabled(True)

        elif mode == &#34;Custom&#34;:
            self.PID_settings.copy_right_button.setDisabled(True)
            self.PID_settings.auto_pid.setDisabled(True)
            self.PID_settings.setpoint_value.setDisabled(True)
            self.manual_setting.power_value.setDisabled(True)

            #Enabling TRPs custom:
            #May be here the best is to start with the latest system mode
            self.widget_trp_2.TRPWidget.setDisabled(False)
            self.widget_trp_2.trp_config.operation_modes[2].setChecked(False)
            self.widget_trp_3.TRPWidget.setDisabled(False)
            self.widget_trp_3.trp_config.operation_modes[2].setChecked(False)
            self.widget_trp_4.trp_config.operation_modes[2].setChecked(False)

            #for x in range(len(self.pid_parameters)):
                #self.pid_parameters[x][1].setDisabled(True)




    #### NOTIFIERS

    def set_mode(self):
        print(&#34;the mode has changed&#34;)
        self.update_gui()

    def set_pid(self):
        print(&#34;SET PID PARAMETERS&#34;)

    def set_auto_pid(self):
        print(&#34;AUTOPID&#34;)

    def set_style(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a real
        Temperature Contorlelr Controller (hardware).
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Light)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def set_style_simulator(self):
        &#34;&#34;&#34;
        Set the style for the LakeShoreUI Widget when it is connected to a
        LakeSHore Simulator.
        This will override the styles that were defined in the styles.qss style file
        that was loaded for the Application.
        &#34;&#34;&#34;
        self.setAutoFillBackground(True)
        self.setBackgroundRole(QPalette.Dark)
        self.setStyleSheet(
            &#34;&#34;&#34;
            QGroupBox {
                border: 1px solid lightGray;
                border-radius: 0px;
                margin-top: 0px;
                padding-top: 10px;
            }
            QGroupBox::title {
                background-color: transparent;
                padding-top: 0px;
                padding-left: 0px;
            }
        &#34;&#34;&#34;
        )

    def onClick(self):

        sender = self.sender()

        MODULE_LOGGER.debug(f&#34;sender.text() = {sender.text()}&#34;)
        MODULE_LOGGER.debug(f&#34;sender.isChecked() = {sender.isChecked()}&#34;)

        self.notifyObservers(sender)

    def set_connection_state(self, state):

        if state == &#34;connected&#34;:
            self.reconnect_action.setChecked(True)
        elif state == &#34;disconnected&#34;:
            self.reconnect_action.setChecked(False)
        else:
            raise UnknownStateError(
                f&#34;Unknown State ({state}), expected &#39;connected&#39; or &#39;disconnected&#39;.&#34;
            )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QMainWindow</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
<li><a title="egse.observer.Observable" href="../../observer.html#egse.observer.Observable">Observable</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemConfigure"><code class="name flex">
<span>def <span class="ident">SystemConfigure</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>This Widget allows to view the configuration mode of the system.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def SystemConfigure(self):
    &#34;&#34;&#34;This Widget allows to view the configuration mode of the system.&#34;&#34;&#34;

    vbox = ConfigureModes()

    modes_layout = QGroupBox()
    modes_layout.setLayout(vbox.vbox)

    return modes_layout</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemSettings"><code class="name flex">
<span>def <span class="ident">SystemSettings</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>This Widget allows to set the system parameters.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def SystemSettings(self):
    &#34;&#34;&#34;This Widget allows to set the system parameters.&#34;&#34;&#34;
    ## setpoint, PID, Autotune, manual power tuning

    vbox = QVBoxLayout()
    vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

    self.PID_settings = PIDSettings()

    vbox.addWidget(self.PID_settings.pidWidget)
    vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
    vbox.addStretch(1)

    self.manual_setting = manualSetting()

    vbox.addWidget(self.manual_setting.manualWidget)
    vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)

    return vbox</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemStatus"><code class="name flex">
<span>def <span class="ident">SystemStatus</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>This Widget reports the sytem status.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def SystemStatus(self):
    &#34;&#34;&#34;This Widget reports the sytem status.&#34;&#34;&#34;
    ## Errors, OOL, active regulation
    self.systemstatus = SystemStatusWidget()

    self.trp2_status = OutputWidget()
    self.trp2_status.output_widget_label.setText(&#34;&gt;------- TRP2 Outputs -------&lt;&#34;)

    self.trp3_status = OutputWidget()
    self.trp3_status.output_widget_label.setText(&#34;&gt;------- TRP3 Outputs -------&lt;&#34;)

    self.trp4_status = OutputWidget()
    self.trp4_status.output_widget_label.setText(&#34;&gt;------- TRP4 Outputs -------&lt;&#34;)

    vbox = QVBoxLayout()
    vbox.addWidget(self.systemstatus.StatusWidget)
    vbox.setAlignment(Qt.AlignLeft | Qt.AlignVCenter)
    vbox.addStretch(1)
    vbox.addLayout(self.trp2_status.output_widget)
    vbox.addStretch(1)
    vbox.addLayout(self.trp3_status.output_widget)
    vbox.addStretch(1)
    vbox.addLayout(self.trp4_status.output_widget)

    status_layout = QGroupBox()
    status_layout.setLayout(vbox)

    return status_layout</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.createToolbar"><code class="name flex">
<span>def <span class="ident">createToolbar</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def createToolbar(self):
    image_location = Path(__file__).resolve().parent.parent.parent / &#34;images&#34;

    # The Reconnect action is used to reconnect the device or control server

    connected_pix = QPixmap(str(image_location / &#34;connected-100.png&#34;))
    disconnected_pix = QPixmap(str(image_location / &#34;disconnected-100.png&#34;))
    reconnect_icon = QIcon()
    reconnect_icon.addPixmap(connected_pix, QIcon.Normal, QIcon.On)
    reconnect_icon.addPixmap(disconnected_pix, QIcon.Normal, QIcon.Off)

    self.reconnect_action = QAction(reconnect_icon, &#34;Reconnect&#34;, self)
    self.reconnect_action.setToolTip(&#34;Reconnect&#34;)
    self.reconnect_action.setCheckable(True)
    self.reconnect_action.triggered.connect(self.onClick)


    # The STOP button is used to immediately stop the current motion

    stop_button = QIcon(str(get_resource(&#34;:/icons/stop.svg&#34;)))

    self.stop_action = QAction(stop_button, &#34;STOP&#34;, self)
    self.stop_action.setToolTip(&#34;STOP Movement&#34;)
    self.stop_action.triggered.connect(self.onClick)

    self.clear_errors = TouchButton(
        name=&#34;CLEAR-ERRORS&#34;,
        status_tip=&#34;clear the error list on the controller&#34;,
        selected=get_resource(&#34;:/icons/erase.svg&#34;),
        disabled=get_resource(&#34;:/icons/erase-disabled.svg&#34;),
    )
    self.clear_errors.clicked.connect(self.onClick)

    # The Reconnect action is used to reconnect to the control server

    self.cs_connection = ToggleButton(
        name=&#34;CS-CONNECT&#34;,
        status_tip=&#34;connect-disconnect hexapod control server.&#34;,
        selected=get_resource(&#34;:/icons/cs-connected.svg&#34;),
        not_selected=get_resource(&#34;:/icons/cs-not-connected.svg&#34;),
        disabled=get_resource(&#34;:/icons/cs-connected-disabled.svg&#34;)
    )
    self.cs_connection.clicked.connect(self.onClick)

    spacer = QWidget()
    spacer.setSizePolicy(QSizePolicy.Expanding, QSizePolicy.Expanding)

    self.toolbar = self.addToolBar(&#34;MainToolbar&#34;)
    self.toolbar.addAction(self.reconnect_action)
    #self.toolbar.addWidget(spacer)
    self.toolbar.addWidget(self.clear_errors)
    #self.toolbar.addWidget(spacer)
    self.toolbar.addWidget(self.cs_connection)

    self.toolbar.addAction(self.stop_action)

    return self.toolbar</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.create_channel_group"><code class="name flex">
<span>def <span class="ident">create_channel_group</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_channel_group(self):

    group_box = QGroupBox(&#34;TRP2/3/4 Monitoring and Control&#34;)

    # Create the label fields that display the current measure
    self.widget_trp_2 = createTRPWidget()
    self.widget_trp_2.TRPWidget.setTitle(&#34;TRP2&#34;)
    self.widget_trp_2.trp_config.mode_label.setText(&#34;TRP2 regulation mode&#34;)
    self.widget_trp_2.setMinimumHeight(200)
    self.widget_trp_2.setMinimumWidth(700)

    self.widget_trp_3 = createTRPWidget()
    self.widget_trp_3.TRPWidget.setTitle(&#34;TRP3&#34;)
    self.widget_trp_3.trp_config.mode_label.setText(&#34;TRP3 regulation mode&#34;)
    self.widget_trp_3.setMinimumHeight(200)
    self.widget_trp_3.setMinimumWidth(700)

    self.widget_trp_4 = createTRPWidget()
    self.widget_trp_4.TRPWidget.setTitle(&#34;TRP4&#34;)
    self.widget_trp_4.trp_config.mode_label.setText(&#34;TRP4 regulation mode&#34;)
    self.widget_trp_4.setMinimumHeight(200)
    self.widget_trp_4.setMinimumWidth(700)

    # Create the edit text field for setting the position

    vbox = QVBoxLayout()

    vbox.addWidget(self.widget_trp_2.TRPWidget)
    vbox.addWidget(self.widget_trp_3.TRPWidget)
    vbox.addWidget(self.widget_trp_4.TRPWidget)

    vbox.addStretch(1)

    group_box.setLayout(vbox)

    return group_box</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.gui_modes"><code class="name flex">
<span>def <span class="ident">gui_modes</span></span>(<span>self, mode)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def gui_modes(self, mode):

    if mode == &#34;Survival&#34;:
        self.PID_settings.auto_pid.setDisabled(False)
        self.PID_settings.setpoint_value.setValue(-10)
        self.PID_settings.setpoint_value.setDisabled(True)
        self.manual_setting.power_value.setDisabled(True)

        #Disabling TRPs custom:
        self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_2.TRPWidget.setDisabled(True)
        self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_3.TRPWidget.setDisabled(True)
        self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_4.TRPWidget.setDisabled(True)
        #for x in range(len(self.pid_parameters)):
         #   self.pid_parameters[x][1].setDisabled(False)
    elif mode == &#34;Regulation&#34;:
        self.PID_settings.auto_pid.setDisabled(False)
        self.PID_settings.setpoint_value.setDisabled(False)
        self.manual_setting.power_value.setDisabled(True)
        for x in range(len(self.PID_settings.pid_parameters)):
            self.PID_settings.pid_parameters[x][1].setDisabled(False)

        #Disabling TRPs custom:
        self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_2.TRPWidget.setDisabled(True)
        self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_3.TRPWidget.setDisabled(True)
        self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_4.TRPWidget.setDisabled(True)

    elif mode == &#34;Manual&#34;:
        self.PID_settings.copy_right_button.setDisabled(True)
        self.PID_settings.auto_pid.setDisabled(True)
        self.PID_settings.setpoint_value.setDisabled(True)
        self.manual_setting.power_value.setDisabled(False)

        #Disabling TRPs custom:
        self.widget_trp_2.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_2.TRPWidget.setDisabled(True)
        self.widget_trp_3.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_3.TRPWidget.setDisabled(True)
        self.widget_trp_4.trp_config.operation_modes[2].setChecked(True)
        self.widget_trp_4.TRPWidget.setDisabled(True)

    elif mode == &#34;Custom&#34;:
        self.PID_settings.copy_right_button.setDisabled(True)
        self.PID_settings.auto_pid.setDisabled(True)
        self.PID_settings.setpoint_value.setDisabled(True)
        self.manual_setting.power_value.setDisabled(True)

        #Enabling TRPs custom:
        #May be here the best is to start with the latest system mode
        self.widget_trp_2.TRPWidget.setDisabled(False)
        self.widget_trp_2.trp_config.operation_modes[2].setChecked(False)
        self.widget_trp_3.TRPWidget.setDisabled(False)
        self.widget_trp_3.trp_config.operation_modes[2].setChecked(False)
        self.widget_trp_4.trp_config.operation_modes[2].setChecked(False)

        #for x in range(len(self.pid_parameters)):
            #self.pid_parameters[x][1].setDisabled(True)</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.init_gui"><code class="name flex">
<span>def <span class="ident">init_gui</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def init_gui(self):

    # Switch to using white background and black foreground for pyqtgraph stripcharts

    pg.setConfigOption(&#34;background&#34;, &#34;w&#34;)
    pg.setConfigOption(&#34;foreground&#34;, &#34;k&#34;)

    # The main frame in which all the other frames are located, the outer Application frame

    app_frame = QFrame()
    app_frame.setObjectName(&#34;AppFrame&#34;)

    hbox = QHBoxLayout()
    self.createToolbar()
    vbox = QVBoxLayout()

    vbox.addWidget(self.system_config)

    # connects the system mode selection event
    for mode in self.system_op:
        mode.clicked.connect(self.set_mode)

    vbox.addLayout(self.system_settings)
    self.PID_settings.auto_pid.clicked.connect(self.set_auto_pid)
    self.PID_settings.copy_right_button.clicked.connect(self.set_pid)


    vbox.addWidget(self.system_status)
    vbox.addStretch(1)

    hbox.addLayout(vbox)
    hbox.addWidget(self.TRPWidget)

    app_frame.setLayout(hbox)

    self.setCentralWidget(app_frame)</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.init_widgets_values"><code class="name flex">
<span>def <span class="ident">init_widgets_values</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def init_widgets_values(self):
    print(&#34;put here the initialization parameters&#34;)
    #TODO: the initial config needs to be read and passed
    ## Init system config values:

    self.system_op[0].setChecked(True)

    ## Init PID default values
    for pid in range(3):
        self.PID_settings.pid_parameters[pid][1].setText(&#34;0.0&#34;)
        self.PID_settings.pid_parameters[pid][1].repaint()

    self.update_gui()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.onClick"><code class="name flex">
<span>def <span class="ident">onClick</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def onClick(self):

    sender = self.sender()

    MODULE_LOGGER.debug(f&#34;sender.text() = {sender.text()}&#34;)
    MODULE_LOGGER.debug(f&#34;sender.isChecked() = {sender.isChecked()}&#34;)

    self.notifyObservers(sender)</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_auto_pid"><code class="name flex">
<span>def <span class="ident">set_auto_pid</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_auto_pid(self):
    print(&#34;AUTOPID&#34;)</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_connection_state"><code class="name flex">
<span>def <span class="ident">set_connection_state</span></span>(<span>self, state)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_connection_state(self, state):

    if state == &#34;connected&#34;:
        self.reconnect_action.setChecked(True)
    elif state == &#34;disconnected&#34;:
        self.reconnect_action.setChecked(False)
    else:
        raise UnknownStateError(
            f&#34;Unknown State ({state}), expected &#39;connected&#39; or &#39;disconnected&#39;.&#34;
        )</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_mode"><code class="name flex">
<span>def <span class="ident">set_mode</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_mode(self):
    print(&#34;the mode has changed&#34;)
    self.update_gui()</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_pid"><code class="name flex">
<span>def <span class="ident">set_pid</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_pid(self):
    print(&#34;SET PID PARAMETERS&#34;)</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_style"><code class="name flex">
<span>def <span class="ident">set_style</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the style for the LakeShoreUI Widget when it is connected to a real
Temperature Contorlelr Controller (hardware).
This will override the styles that were defined in the styles.qss style file
that was loaded for the Application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_style(self):
    &#34;&#34;&#34;
    Set the style for the LakeShoreUI Widget when it is connected to a real
    Temperature Contorlelr Controller (hardware).
    This will override the styles that were defined in the styles.qss style file
    that was loaded for the Application.
    &#34;&#34;&#34;
    self.setAutoFillBackground(True)
    self.setBackgroundRole(QPalette.Light)
    self.setStyleSheet(
        &#34;&#34;&#34;
        QGroupBox {
            border: 1px solid lightGray;
            border-radius: 0px;
            margin-top: 0px;
            padding-top: 10px;
        }
        QGroupBox::title {
            background-color: transparent;
            padding-top: 0px;
            padding-left: 0px;
        }
    &#34;&#34;&#34;
    )</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_style_simulator"><code class="name flex">
<span>def <span class="ident">set_style_simulator</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Set the style for the LakeShoreUI Widget when it is connected to a
LakeSHore Simulator.
This will override the styles that were defined in the styles.qss style file
that was loaded for the Application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_style_simulator(self):
    &#34;&#34;&#34;
    Set the style for the LakeShoreUI Widget when it is connected to a
    LakeSHore Simulator.
    This will override the styles that were defined in the styles.qss style file
    that was loaded for the Application.
    &#34;&#34;&#34;
    self.setAutoFillBackground(True)
    self.setBackgroundRole(QPalette.Dark)
    self.setStyleSheet(
        &#34;&#34;&#34;
        QGroupBox {
            border: 1px solid lightGray;
            border-radius: 0px;
            margin-top: 0px;
            padding-top: 10px;
        }
        QGroupBox::title {
            background-color: transparent;
            padding-top: 0px;
            padding-left: 0px;
        }
    &#34;&#34;&#34;
    )</code></pre>
</details>
</dd>
<dt id="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.update_gui"><code class="name flex">
<span>def <span class="ident">update_gui</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_gui(self):

    m = list()
    for _items in range(len(self.system_op)):
        m.append(self.system_op[_items].isChecked())
    current_mode = SYSTEM_MODES[int(np.where(m)[0])]
    self.gui_modes(current_mode)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="egse.tempcontrol.srs" href="index.html">egse.tempcontrol.srs</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.main" href="#egse.tempcontrol.srs.ptc10_ui.main">main</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.parse_arguments" href="#egse.tempcontrol.srs.ptc10_ui.parse_arguments">parse_arguments</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.ConfigureModes" href="#egse.tempcontrol.srs.ptc10_ui.ConfigureModes">ConfigureModes</a></code></h4>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.OutputWidget" href="#egse.tempcontrol.srs.ptc10_ui.OutputWidget">OutputWidget</a></code></h4>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.PIDSettings" href="#egse.tempcontrol.srs.ptc10_ui.PIDSettings">PIDSettings</a></code></h4>
<ul class="">
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.PIDSettings.setpoint_setting" href="#egse.tempcontrol.srs.ptc10_ui.PIDSettings.setpoint_setting">setpoint_setting</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.SystemStatusWidget" href="#egse.tempcontrol.srs.ptc10_ui.SystemStatusWidget">SystemStatusWidget</a></code></h4>
<ul class="">
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.SystemStatusWidget.create_states" href="#egse.tempcontrol.srs.ptc10_ui.SystemStatusWidget.create_states">create_states</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.createTRPWidget" href="#egse.tempcontrol.srs.ptc10_ui.createTRPWidget">createTRPWidget</a></code></h4>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.manualSetting" href="#egse.tempcontrol.srs.ptc10_ui.manualSetting">manualSetting</a></code></h4>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIController" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIController">ptc10UIController</a></code></h4>
<ul class="">
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.create_timer" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIController.create_timer">create_timer</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.do" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIController.do">do</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.start_timer" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIController.start_timer">start_timer</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.stop_timer" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIController.stop_timer">stop_timer</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIController.update" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIController.update">update</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIModel">ptc10UIModel</a></code></h4>
<ul class="two-column">
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.disconnect" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.disconnect">disconnect</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.has_commands" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.has_commands">has_commands</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.is_connected" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.is_connected">is_connected</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.is_simulator" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.is_simulator">is_simulator</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.load_commands" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.load_commands">load_commands</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.reconnect" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIModel.reconnect">reconnect</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView">ptc10UIView</a></code></h4>
<ul class="">
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemConfigure" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemConfigure">SystemConfigure</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemSettings" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemSettings">SystemSettings</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemStatus" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.SystemStatus">SystemStatus</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.createToolbar" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.createToolbar">createToolbar</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.create_channel_group" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.create_channel_group">create_channel_group</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.gui_modes" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.gui_modes">gui_modes</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.init_gui" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.init_gui">init_gui</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.init_widgets_values" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.init_widgets_values">init_widgets_values</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.onClick" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.onClick">onClick</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_auto_pid" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_auto_pid">set_auto_pid</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_connection_state" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_connection_state">set_connection_state</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_mode" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_mode">set_mode</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_pid" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_pid">set_pid</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_style" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_style">set_style</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_style_simulator" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.set_style_simulator">set_style_simulator</a></code></li>
<li><code><a title="egse.tempcontrol.srs.ptc10_ui.ptc10UIView.update_gui" href="#egse.tempcontrol.srs.ptc10_ui.ptc10UIView.update_gui">update_gui</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>