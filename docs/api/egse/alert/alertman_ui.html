<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>egse.alert.alertman_ui API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>egse.alert.alertman_ui</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import argparse
import logging
import multiprocessing
import pickle
from datetime import datetime

import sys
import zmq
from PyQt5.QtCore import QThread, QObject, Qt, pyqtSignal, pyqtSlot, QRect, QSize
from PyQt5.QtGui import QIcon, QResizeEvent
from PyQt5.QtWidgets import QMainWindow, QApplication, QLabel, QHBoxLayout, QVBoxLayout, QGroupBox, QGridLayout, \
    QWidget, QPushButton, QScrollArea, QComboBox, QMessageBox, QSpacerItem, QSizePolicy

from egse.alert import AlertManagerProxy, load_alert_configuration
from egse.alert import CTRL_SETTINGS as ALERT_CTRL_SETTINGS
from egse.gui.led import Led
from egse.observer import Observer, Observable
from egse.setup import load_setup
from egse.system import EPOCH_1958_1970
from egse.zmq_ser import connect_address

multiprocessing.current_process().name = &#34;alert_manager_ui&#34;

logger = logging.getLogger(__name__)

class AlertMonitoringWorker(QObject):
    alert_values_status_signal      = pyqtSignal(dict)
    alert_sensor_status_signal      = pyqtSignal(dict)
    alert_fdir_status_signal        = pyqtSignal(dict)
    alert_phase_change_signal       = pyqtSignal(str)
    alert_status_change_signal      = pyqtSignal(dict)
    alert_timestamp_change_signal   = pyqtSignal(dict)
    # alert_exception_change_signal   = pyqtSignal(dict)
    
    def __init__(self):
        super(AlertMonitoringWorker, self).__init__()
        self.activate = False
        self.just_reconnected = True
        
        self.monitoring_socket = None
        self.is_socket_connected = True
        self.monitoring_timeout = 0.5
        
        self.connect_socket()
        
        self.previous_alert_update_status_signal = {}
        self.previous_sensors   = {}
        self.previous_fdir      = {}
        self.previous_values    = {}
        self.pervious_timestamp = {}
        self.previous_status = False
        self.previous_phase = &#34;&#34;
        # self.previous_exception = {}
    
    def reset_monitor(self):
        self.previous_alert_update_status_signal = {}
        self.previous_sensors   = {}
        self.previous_fdir      = {}
        self.previous_values    = {}
        self.pervious_timestamp = {}
        self.previous_status = False
        
        
    def connect_socket(self):
        try:
            transport           = ALERT_CTRL_SETTINGS.PROTOCOL
            hostname            = ALERT_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port     = ALERT_CTRL_SETTINGS.MONITORING_PORT
            monitoring_address  = connect_address(transport, hostname, monitoring_port)
        
            self.monitoring_socket = zmq.Context().socket(zmq.SUB)
            self.monitoring_socket.connect(monitoring_address)
            self.monitoring_socket.setsockopt_string(zmq.SUBSCRIBE, &#34;&#34;)
            
            self.monitoring_timeout = 0.5
            
            self.is_socket_connected = True
        except:
            self.is_socket_connected = False
            
    def stop(self):
        self.monitoring_socket.close()
        self.is_socket_connected = False
        
        self.active = False
        
    def start_process(self):
        self.run()
        
    @pyqtSlot()
    def run(self):
        self.active = True
        timeout = 0
        while self.is_socket_connected and self.active:
            try:
                socket_list, _, exc_list = zmq.select([self.monitoring_socket], [], [], timeout=self.monitoring_timeout)
                
                if self.monitoring_socket in socket_list:
                    try:
                        pickle_string = self.monitoring_socket.recv()
                    except Exception:
                        raise Exception
                    
                    monitoring_info = pickle.loads(pickle_string)
                    
                    values      = {}
                    sensors     = {}
                    running     = {}
                    timestamp   = {}
                    # exception   = {}

                    phase   = monitoring_info[&#39;phase&#39;]

                    if phase != self.previous_phase:
                        self.alert_phase_change_signal.emit(phase)
                        continue
                            
                    self.previous_phase = phase
                    
                    if monitoring_info[&#39;alert_status&#39;] != None:
                        for key, value in monitoring_info[&#39;alert_status&#39;].items():
                            values[key] = value[&#39;value&#39;]
                            sensors[key] = {&#39;triggered&#39; : value[&#39;triggered&#39;],
                                            &#39;active&#39;    : value[&#39;active&#39;]}
                            running[key] = value[&#39;active&#39;]
                            timestamp[key] = datetime.fromtimestamp(float(value[&#39;lastTimestamp&#39;]) - EPOCH_1958_1970)
                            # exception[key] = value[&#39;lastException&#39;]

                        if values != self.previous_values:
                            self.alert_values_status_signal.emit(values)
                        
                        self.previous_values = values
                        
                        if running != self.previous_status:
                            self.alert_status_change_signal.emit(running)

                        self.previous_status = running

                        if sensors != self.previous_sensors:
                            self.alert_sensor_status_signal.emit(sensors)
                        
                        self.previous_sensors = sensors
                        
                        if timestamp != self.pervious_timestamp:
                            self.alert_timestamp_change_signal.emit(timestamp)
                        
                        self.pervious_timestamp = timestamp
                        
                        # if exception != self.previous_exception:
                        #     self.alert_exception_change_signal.emit(exception)
                            
                        # self.previous_exception = exception
                        
            except zmq.ZMQError as exc:
                raise exc


class AlertWidget(QGroupBox):
    def __init__(self, configuration):
        super().__init__()
        self.name = configuration.name
        
        self.setMaximumSize(400, 120)
        self.setMinimumSize(350, 100)
        self.verticalLayout = QVBoxLayout(self)
        self.verticalLayout.setObjectName(&#34;verticalLayout&#34;)
        self.horizontalLayout = QHBoxLayout()
        self.horizontalLayout.setObjectName(&#34;horizontalLayout&#34;)
        self.widget = Led(self)
        self.widget.setMinimumSize(25, 25)
        self.widget.setMaximumSize(25, 25)
        self.widget.setObjectName(&#34;widget&#34;)
        self.horizontalLayout.addWidget(self.widget)
        self.verticalLayout_2 = QVBoxLayout()
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.label = QLabel(self)
        self.label.setText(f&#34;&lt;b&gt;{configuration.name}&lt;/b&gt;&#34;)
        self.label.setMinimumSize(200, 0)
        self.label.setObjectName(&#34;label&#34;)
        self.verticalLayout_2.addWidget(self.label)
        self.horizontalLayout_2 = QHBoxLayout()
        self.horizontalLayout_2.setObjectName(&#34;horizontalLayout_2&#34;)
        self.label_2 = QLabel(self)
        self.label_2.setText(&#34;[Current value]&#34;)
        self.label_2.setMinimumSize(100, 0)
        self.label_2.setObjectName(&#34;label_2&#34;)
        self.horizontalLayout_2.addWidget(self.label_2)
        self.label_3 = QLabel(self)
        self.label_3.setText(f&#34;{configuration.unit}&#34;)
        self.label_3.setObjectName(&#34;label_3&#34;)
        self.horizontalLayout_2.addWidget(self.label_3)
        self.verticalLayout_2.addLayout(self.horizontalLayout_2)
        self.label_4 = QLabel(self)  

        if configuration.alert_type == 0:
            if configuration.limits[&#39;min&#39;] and configuration.limits[&#39;max&#39;]:
                self.label_4.setText(f&#34;Min: {configuration.limits[&#39;min&#39;]}, Max: {configuration.limits[&#39;max&#39;]}&#34;)
            else:   
                if configuration.limits[&#39;min&#39;]:
                    self.label_4.setText(f&#34;Min: {configuration.limits[&#39;min&#39;]}&#34;)
                if configuration.limits[&#39;max&#39;]:
                    self.label_4.setText(f&#34;Max: {configuration.limits[&#39;max&#39;]}&#34;)
                
        if configuration.alert_type == 2:
            self.label_4.setText(f&#34;Rate of change: {configuration.limits[&#39;limit&#39;]}&#34;)
            
        self.label_4.setObjectName(&#34;label_4&#34;)
        self.verticalLayout_2.addWidget(self.label_4)
         
        self.label_5 = QLabel(self)
        self.label_5.setText(&#34;00:00:00 00-00-00&#34;)
        self.verticalLayout_2.addWidget(self.label_5)

        self.horizontalLayout.addLayout(self.verticalLayout_2)
        spacerItem = QSpacerItem(40, 20, QSizePolicy.Expanding, QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem)
        self.verticalLayout_3 = QVBoxLayout()
        self.verticalLayout_3.setObjectName(&#34;verticalLayout_3&#34;)
        spacerItem1 = QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.verticalLayout_3.addItem(spacerItem1)
        self.pushButton = QPushButton(self)
        self.pushButton.setText(&#34;Start&#34;)
        self.pushButton.setMinimumSize(100, 0)
        icon = QIcon.fromTheme(&#34;media-playback-start&#34;)
        self.pushButton.setIcon(icon)
        self.pushButton.setObjectName(&#34;pushButton&#34;)
        self.verticalLayout_3.addWidget(self.pushButton)
        self.horizontalLayout.addLayout(self.verticalLayout_3)
        self.verticalLayout.addLayout(self.horizontalLayout)

class AlertWindow(QGroupBox):
    def __init__(self, configuration):
        super().__init__()
        self.configuration = configuration
        self._phases = load_setup().gse.alert_manager.configuration
        self.alerts = {}
        self.verticalLayout = QVBoxLayout(self)
        self.verticalLayout.setObjectName(&#34;verticalLayout&#34;)
        self.horizontalLayout_2 = QHBoxLayout()
        self.horizontalLayout_2.setObjectName(&#34;horizontalLayout_2&#34;)
        self.pushButton_2 = QPushButton(self)
        self.pushButton_2.setMaximumSize(QSize(90, 16777215))
        self.pushButton_2.setMinimumSize(QSize(90, 0))
        icon = QIcon.fromTheme(&#34;media-playback-start&#34;)
        self.pushButton_2.setIcon(icon)
        self.pushButton_2.setObjectName(&#34;pushButton_2&#34;)
        self.pushButton_2.setText(&#34;Start&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton_2)
        self.pushButton = QPushButton(self)
        self.pushButton.setMaximumSize(QSize(90, 16777215))
        self.pushButton.setMinimumSize(QSize(90, 0))
        icon = QIcon.fromTheme(&#34;media-playback-stop&#34;)
        self.pushButton.setIcon(icon)
        self.pushButton.setObjectName(&#34;pushButton&#34;)
        self.pushButton.setText(&#34;Stop&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton)
        spacerItem = QSpacerItem(40, 20, QSizePolicy.Expanding, QSizePolicy.Minimum)
        self.horizontalLayout_2.addItem(spacerItem)
        self.pushButton_3 = QPushButton(self)
        self.pushButton_3.setText(&#34;Clear FDIR&#34;)
        self.pushButton_3.setMaximumSize(QSize(90, 16777215))
        self.pushButton_3.setMinimumSize(QSize(90, 0))
        icon = QIcon.fromTheme(&#39;edit-clear-all-symbolic&#39;)
        self.pushButton_3.setIcon(icon)
        self.horizontalLayout_2.addWidget(self.pushButton_3)
        self.comboBox = QComboBox(self)
        self.comboBox.setMinimumSize(QSize(90, 0))
        self.comboBox.setObjectName(&#34;comboBox&#34;)
        self.comboBox.addItem(&#39;none&#39;)
        self.comboBox.addItems([phase for phase in self._phases.keys()])
        # self.comboBox.addItems([&#39;none&#39;, &#39;warm&#39;, &#39;transition&#39;, &#39;cold&#39;]) 
        self.horizontalLayout_2.addWidget(self.comboBox)
        self.verticalLayout.addLayout(self.horizontalLayout_2)
        self.scrollArea = QScrollArea(self)
        self.scrollArea.setWidgetResizable(True)
        self.scrollArea.setObjectName(&#34;scrollArea&#34;)
        self.scrollArea.setMinimumWidth(420)
        self.scrollArea.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)
        self.scrollAreaWidgetContents_3 = QWidget()
        self.scrollAreaWidgetContents_3.setGeometry(QRect(0, 0, 350, 700))
        self.scrollAreaWidgetContents_3.setObjectName(&#34;scrollAreaWidgetContents_3&#34;)
        self.verticalLayout_2 = QVBoxLayout(self.scrollAreaWidgetContents_3)
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.gridLayout = QGridLayout()
        self.gridLayout.setObjectName(&#34;gridLayout&#34;)
        self.verticalLayout_2.addLayout(self.gridLayout)
        self.scrollArea.setWidget(self.scrollAreaWidgetContents_3)
        self.setLayout(self.verticalLayout)   

        self.initialize(self.configuration)
        
    def initialize(self, config=None):
        if config != None:
            self.configuration = config
            self.alerts = {}
            for idx, (key, config) in enumerate(self.configuration.items()):
                self.alerts[key] = AlertWidget(config)
            self.drawScrollArea()
            self.resizeScrollArea()
        else:
            self.drawScrollArea()
    
    def drawScrollArea(self):
        # if self.configuration != None:
        self.verticalLayout.removeWidget(self.scrollArea)
        self.scrollArea = QScrollArea(self)
        self.scrollArea.setWidgetResizable(True)
        self.scrollArea.setObjectName(&#34;scrollArea&#34;)
        self.scrollArea.setMinimumWidth(420)
        self.scrollArea.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)
        self.scrollAreaWidgetContents_3 = QWidget()
        self.scrollAreaWidgetContents_3.setGeometry(QRect(0, 0, 350, 700))
        self.scrollAreaWidgetContents_3.setObjectName(&#34;scrollAreaWidgetContents_3&#34;)
        self.verticalLayout_2 = QVBoxLayout(self.scrollAreaWidgetContents_3)
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.gridLayout = QGridLayout()
        self.gridLayout.setObjectName(&#34;gridLayout&#34;)
        self.verticalLayout_2.addLayout(self.gridLayout)
        self.scrollArea.setWidget(self.scrollAreaWidgetContents_3)
        self.verticalLayout.insertWidget(1, self.scrollArea)
    
    def resizeScrollArea(self):   
        width = self.parent().frameGeometry().width()
        
        widget_width    = 350
        
        num_cols = int(width / widget_width)

        row     = 0
        column  = 0    
        
        if len(self.alerts) == 0:
            return
        
        for idx, value in enumerate(self.alerts.values()):
            if column &gt;= num_cols and (column % num_cols) == 0:
                row += 1
            self.gridLayout.addWidget(value, row, column % num_cols)
            column += 1

            
        spacerItem_2 = QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.gridLayout.addItem(spacerItem_2)   
           
    def resizeEvent(self, a0: QResizeEvent) -&gt; None:
        self.resizeScrollArea()



class AlertUIView(QMainWindow, Observable):
    def __init__(self):
        super().__init__()
        self.setGeometry(600, 300, 100, 700)
        self.setWindowTitle(&#34;Alert Manager GUI&#34;)
        self.configuration = None
        self.phases = load_setup().gse.alert_manager.configuration.keys()
        self.alert_monitoring_thread = QThread(self)
        self.alert_monitoring_worker = AlertMonitoringWorker()
        self.alert_monitoring_worker.moveToThread(self.alert_monitoring_thread)
        
        self.alert_monitoring_worker.alert_phase_change_signal.connect(self.on_phase_change_signal)
        self.alert_monitoring_worker.alert_values_status_signal.connect(self.on_alert_value_status_signal)
        self.alert_monitoring_worker.alert_sensor_status_signal.connect(self.on_alert_sensor_status_signal)
        self.alert_monitoring_worker.alert_status_change_signal.connect(self.on_alert_status_change_signal)
        self.alert_monitoring_worker.alert_timestamp_change_signal.connect(self.on_alert_timestamp_change_signal)
        # self.alert_monitoring_worker.alert_exception_change_signal.connect(self.on_alert_exception_raised_signal)
        self.alert_monitoring_thread.started.connect(self.alert_monitoring_worker.start_process)
        
        self.alert_monitoring_thread.start()
    
        self.initUI()
        
    def initUI(self):
        self.groupbox = AlertWindow(self.configuration)  

        self.groupbox.pushButton_2.clicked.connect(self.start_all_alerts)
        self.groupbox.pushButton.clicked.connect(self.stop_all_alerts)        
           
        self.groupbox.comboBox.activated[str].connect(self.configuration_dialog)   
        self.setCentralWidget(self.groupbox)
    
    def configuration_dialog(self):
        sender = self.sender()
        phase = sender.currentText()
        msg = QMessageBox()
        msg.setIcon(QMessageBox.Question)
        msg.setText(f&#34;You are about to configure the alert manager for the {phase} phase&#34;)
        msg.setInformativeText(f&#34;Are you sure that you want to configure the alert manager for the {phase} phase?&#34;)
        msg.setWindowTitle(f&#34;Configuration confirmation&#34;)
        msg.setStandardButtons(QMessageBox.Ok | QMessageBox.Abort)

        retval = msg.exec_()
        if retval == QMessageBox.Ok:
            self.actionObservers({&#34;load_new_configuration&#34; : [phase]})
            self.load_new_phase(phase)
        else:
            self.groupbox.comboBox.setCurrentText(phase)
    
    def load_new_phase(self, phase):
        if phase != &#39;none&#39;:
            self.load_configuration(phase)
            self.alert_monitoring_worker.previous_phase = phase
            self.groupbox.initialize(self.configuration)
            
            for key in self.configuration.keys():
                self.groupbox.alerts[key].pushButton.clicked.connect(self.on_alert_pushbutton_clicked)
            
            self.alert_monitoring_worker.reset_monitor()
        else:
            self.alert_monitoring_worker.previous_phase = phase
            self.groupbox.initialize()
            self.alert_monitoring_worker.reset_monitor()
            
        self.setCentralWidget(self.groupbox)
                
    def start_all_alerts(self):
        self.actionObservers({&#34;start_all_alerts&#34; : []})
    
    def stop_all_alerts(self):
        self.actionObservers({&#34;stop_all_alerts&#34; : []})
    
    def load_configuration(self, phase):
        _, self.configuration = load_alert_configuration(phase)
    
    def on_alert_status_change_signal(self, monitoring_info: bool):
        for idx, (name, value) in enumerate(monitoring_info.items()):
            if value:
                self.groupbox.alerts[name].widget.set_color(1)
                icon = QIcon.fromTheme(&#34;media-playback-stop&#34;)
                self.groupbox.alerts[name].pushButton.setIcon(icon)
                self.groupbox.alerts[name].pushButton.setText(&#34;Stop&#34;)
            else:
                self.groupbox.alerts[name].widget.set_color(2)
                icon = QIcon.fromTheme(&#34;media-playback-start&#34;)
                self.groupbox.alerts[name].pushButton.setIcon(icon)
                self.groupbox.alerts[name].pushButton.setText(&#34;Start&#34;)
    
    def on_alert_timestamp_change_signal(self, monitoring_info):
        for idx, (name, value) in enumerate(monitoring_info.items()):
            self.groupbox.alerts[name].label_5.setText(f&#34;{value.strftime(&#39;%d/%m/%Y, %H:%M:%S&#39;)}&#34;)
    
    def on_alert_value_status_signal(self, monitoring_info: dict):
        for idx, (name, value) in enumerate(monitoring_info.items()):
            self.groupbox.alerts[name].label_2.setText(f&#34;Value: {float(value):2f}&#34;)
    
    def on_alert_sensor_status_signal(self, monitoring_info: dict):
        for idx, (name, state) in enumerate(monitoring_info.items()):
            if state[&#39;triggered&#39;]:
                if state[&#39;active&#39;]:
                    self.groupbox.alerts[name].widget.set_color(3)
                else:
                    self.groupbox.alerts[name].widget.set_color(2)

                self.groupbox.alerts[name].setStyleSheet(&#34;&#34;&#34;QGroupBox {border: 1px solid red;}&#34;&#34;&#34;)
            else:
                if state[&#39;active&#39;]:
                    self.groupbox.alerts[name].widget.set_color(1)
                else:
                    self.groupbox.alerts[name].widget.set_color(2)
                
                self.groupbox.alerts[name].setStyleSheet(&#39;fusion&#39;)
    
    def on_phase_change_signal(self, monitoring_info: dict):
        self.load_new_phase(monitoring_info)
        self.groupbox.comboBox.setCurrentText(monitoring_info)
    
    def on_alert_pushbutton_clicked(self):
        name = self.sender().parent().name
        text = self.sender().text()
        if text != &#34;Start&#34;:
            self.actionObservers({&#39;stop_alert&#39;: [name]})
        elif text != &#34;Stop&#34;:
            self.actionObservers({&#39;start_alert&#39; : [name]})
    
    

class AlertUIModel:
    def __init__(self, mode):
        self.mode = mode
        
        if self.mode == &#39;proxy&#39;:
            try:
                self.alert_manager = AlertManagerProxy()
            except Exception as exc:
                raise exc
        elif self.mode == &#39;simulator&#39;:
            self.alert_manager = AlertManagerProxy()
        else:
            raise ValueError(f&#39;Unknown type of alert manager implementation passed into the model&#39;)

        if self.alert_manager is not None:
            logger.debug(f&#34;Alert manager controller initialized as {self.mode}&#34;)    
    
    def load_configuration(self, phase: str):
        with AlertManagerProxy() as am:
            am.load_configuration(phase)
    
    def start_alert(self, name):
        with AlertManagerProxy() as am:
            am.start_alert(name)

    def stop_alert(self, name):
        with AlertManagerProxy() as am:
            am.stop_alert(name)
    
    def stop_all_alerts(self):
        with AlertManagerProxy() as am:
            am.stop_alert(None)
 
    def start_all_alerts(self):
        with AlertManagerProxy() as am:
            am.start_alert(None)
    
class AlertUIController(Observer):
    def __init__(self, model: AlertUIModel, view: AlertUIView):
        self.model  = model
        self.view   = view
        self.view.addObserver(self)
        
    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():

                logger.debug(&#34;Reconnecting the Alert manager model.&#34;)

                if self.model.reconnect():

                    self.view.set_connection_state(True)

                    if not self.model.has_commands():

                        self.model.load_commands()

                else:
                    self.view.reconnect_action.setChecked(False)
            else:

                logger.debug(&#34;Disconnecting the Alert manager model.&#34;)
                self.model.disconnect()
                self.view.set_connection_state(False)

        
    def do(self, actions):
        for action, value in actions.items():
            logger.debug(f&#39;do {action} with {value}&#39;)
            if action == &#39;load_new_configuration&#39;:
                self.model.load_configuration(value[0])
            if action == &#39;start_alert&#39;:
                self.model.start_alert(value[0])
            if action == &#39;stop_alert&#39;:
                self.model.stop_alert(value[0])
            if action == &#39;stop_all_alerts&#39;:
                self.model.stop_all_alerts()
            if action == &#39;start_all_alerts&#39;:
                self.model.start_all_alerts()

def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;},
        help=&#34;Specify Alert implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )

    args = parser.parse_args()
    return args

def main():
    args = list(sys.argv)
    app = QApplication(args)
    
    args = parse_arguments()
    
    if args.type == &#39;proxy&#39;:
        try:
            proxy = AlertManagerProxy
        except Exception:
            raise Exception
        
    view        = AlertUIView()
    model       = AlertUIModel(args.type)
    controller  = AlertUIController(model, view)
    
    view.show()
    sys.exit(app.exec_())

if __name__ == &#39;__main__&#39;:
    main()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="egse.alert.alertman_ui.main"><code class="name flex">
<span>def <span class="ident">main</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main():
    args = list(sys.argv)
    app = QApplication(args)
    
    args = parse_arguments()
    
    if args.type == &#39;proxy&#39;:
        try:
            proxy = AlertManagerProxy
        except Exception:
            raise Exception
        
    view        = AlertUIView()
    model       = AlertUIModel(args.type)
    controller  = AlertUIController(model, view)
    
    view.show()
    sys.exit(app.exec_())</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.parse_arguments"><code class="name flex">
<span>def <span class="ident">parse_arguments</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Prepare the arguments that are specific for this application.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def parse_arguments():
    &#34;&#34;&#34;
    Prepare the arguments that are specific for this application.
    &#34;&#34;&#34;
    parser = argparse.ArgumentParser()
    parser.add_argument(
        &#34;--type&#34;,
        dest=&#34;type&#34;,
        action=&#34;store&#34;,
        choices={&#34;proxy&#34;, &#34;simulator&#34;},
        help=&#34;Specify Alert implementation you want to connect to.&#34;,
        default=&#34;proxy&#34;,
    )

    args = parser.parse_args()
    return args</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker"><code class="flex name class">
<span>class <span class="ident">AlertMonitoringWorker</span></span>
</code></dt>
<dd>
<div class="desc"><p>QObject(parent: typing.Optional[QObject] = None)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlertMonitoringWorker(QObject):
    alert_values_status_signal      = pyqtSignal(dict)
    alert_sensor_status_signal      = pyqtSignal(dict)
    alert_fdir_status_signal        = pyqtSignal(dict)
    alert_phase_change_signal       = pyqtSignal(str)
    alert_status_change_signal      = pyqtSignal(dict)
    alert_timestamp_change_signal   = pyqtSignal(dict)
    # alert_exception_change_signal   = pyqtSignal(dict)
    
    def __init__(self):
        super(AlertMonitoringWorker, self).__init__()
        self.activate = False
        self.just_reconnected = True
        
        self.monitoring_socket = None
        self.is_socket_connected = True
        self.monitoring_timeout = 0.5
        
        self.connect_socket()
        
        self.previous_alert_update_status_signal = {}
        self.previous_sensors   = {}
        self.previous_fdir      = {}
        self.previous_values    = {}
        self.pervious_timestamp = {}
        self.previous_status = False
        self.previous_phase = &#34;&#34;
        # self.previous_exception = {}
    
    def reset_monitor(self):
        self.previous_alert_update_status_signal = {}
        self.previous_sensors   = {}
        self.previous_fdir      = {}
        self.previous_values    = {}
        self.pervious_timestamp = {}
        self.previous_status = False
        
        
    def connect_socket(self):
        try:
            transport           = ALERT_CTRL_SETTINGS.PROTOCOL
            hostname            = ALERT_CTRL_SETTINGS.HOSTNAME
            
            monitoring_port     = ALERT_CTRL_SETTINGS.MONITORING_PORT
            monitoring_address  = connect_address(transport, hostname, monitoring_port)
        
            self.monitoring_socket = zmq.Context().socket(zmq.SUB)
            self.monitoring_socket.connect(monitoring_address)
            self.monitoring_socket.setsockopt_string(zmq.SUBSCRIBE, &#34;&#34;)
            
            self.monitoring_timeout = 0.5
            
            self.is_socket_connected = True
        except:
            self.is_socket_connected = False
            
    def stop(self):
        self.monitoring_socket.close()
        self.is_socket_connected = False
        
        self.active = False
        
    def start_process(self):
        self.run()
        
    @pyqtSlot()
    def run(self):
        self.active = True
        timeout = 0
        while self.is_socket_connected and self.active:
            try:
                socket_list, _, exc_list = zmq.select([self.monitoring_socket], [], [], timeout=self.monitoring_timeout)
                
                if self.monitoring_socket in socket_list:
                    try:
                        pickle_string = self.monitoring_socket.recv()
                    except Exception:
                        raise Exception
                    
                    monitoring_info = pickle.loads(pickle_string)
                    
                    values      = {}
                    sensors     = {}
                    running     = {}
                    timestamp   = {}
                    # exception   = {}

                    phase   = monitoring_info[&#39;phase&#39;]

                    if phase != self.previous_phase:
                        self.alert_phase_change_signal.emit(phase)
                        continue
                            
                    self.previous_phase = phase
                    
                    if monitoring_info[&#39;alert_status&#39;] != None:
                        for key, value in monitoring_info[&#39;alert_status&#39;].items():
                            values[key] = value[&#39;value&#39;]
                            sensors[key] = {&#39;triggered&#39; : value[&#39;triggered&#39;],
                                            &#39;active&#39;    : value[&#39;active&#39;]}
                            running[key] = value[&#39;active&#39;]
                            timestamp[key] = datetime.fromtimestamp(float(value[&#39;lastTimestamp&#39;]) - EPOCH_1958_1970)
                            # exception[key] = value[&#39;lastException&#39;]

                        if values != self.previous_values:
                            self.alert_values_status_signal.emit(values)
                        
                        self.previous_values = values
                        
                        if running != self.previous_status:
                            self.alert_status_change_signal.emit(running)

                        self.previous_status = running

                        if sensors != self.previous_sensors:
                            self.alert_sensor_status_signal.emit(sensors)
                        
                        self.previous_sensors = sensors
                        
                        if timestamp != self.pervious_timestamp:
                            self.alert_timestamp_change_signal.emit(timestamp)
                        
                        self.pervious_timestamp = timestamp
                        
                        # if exception != self.previous_exception:
                        #     self.alert_exception_change_signal.emit(exception)
                            
                        # self.previous_exception = exception
                        
            except zmq.ZMQError as exc:
                raise exc</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.alert_fdir_status_signal"><code class="name flex">
<span>def <span class="ident">alert_fdir_status_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.alert_phase_change_signal"><code class="name flex">
<span>def <span class="ident">alert_phase_change_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.alert_sensor_status_signal"><code class="name flex">
<span>def <span class="ident">alert_sensor_status_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.alert_status_change_signal"><code class="name flex">
<span>def <span class="ident">alert_status_change_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.alert_timestamp_change_signal"><code class="name flex">
<span>def <span class="ident">alert_timestamp_change_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.alert_values_status_signal"><code class="name flex">
<span>def <span class="ident">alert_values_status_signal</span></span>(<span>...)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.connect_socket"><code class="name flex">
<span>def <span class="ident">connect_socket</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def connect_socket(self):
    try:
        transport           = ALERT_CTRL_SETTINGS.PROTOCOL
        hostname            = ALERT_CTRL_SETTINGS.HOSTNAME
        
        monitoring_port     = ALERT_CTRL_SETTINGS.MONITORING_PORT
        monitoring_address  = connect_address(transport, hostname, monitoring_port)
    
        self.monitoring_socket = zmq.Context().socket(zmq.SUB)
        self.monitoring_socket.connect(monitoring_address)
        self.monitoring_socket.setsockopt_string(zmq.SUBSCRIBE, &#34;&#34;)
        
        self.monitoring_timeout = 0.5
        
        self.is_socket_connected = True
    except:
        self.is_socket_connected = False</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.reset_monitor"><code class="name flex">
<span>def <span class="ident">reset_monitor</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset_monitor(self):
    self.previous_alert_update_status_signal = {}
    self.previous_sensors   = {}
    self.previous_fdir      = {}
    self.previous_values    = {}
    self.pervious_timestamp = {}
    self.previous_status = False</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.run"><code class="name flex">
<span>def <span class="ident">run</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pyqtSlot()
def run(self):
    self.active = True
    timeout = 0
    while self.is_socket_connected and self.active:
        try:
            socket_list, _, exc_list = zmq.select([self.monitoring_socket], [], [], timeout=self.monitoring_timeout)
            
            if self.monitoring_socket in socket_list:
                try:
                    pickle_string = self.monitoring_socket.recv()
                except Exception:
                    raise Exception
                
                monitoring_info = pickle.loads(pickle_string)
                
                values      = {}
                sensors     = {}
                running     = {}
                timestamp   = {}
                # exception   = {}

                phase   = monitoring_info[&#39;phase&#39;]

                if phase != self.previous_phase:
                    self.alert_phase_change_signal.emit(phase)
                    continue
                        
                self.previous_phase = phase
                
                if monitoring_info[&#39;alert_status&#39;] != None:
                    for key, value in monitoring_info[&#39;alert_status&#39;].items():
                        values[key] = value[&#39;value&#39;]
                        sensors[key] = {&#39;triggered&#39; : value[&#39;triggered&#39;],
                                        &#39;active&#39;    : value[&#39;active&#39;]}
                        running[key] = value[&#39;active&#39;]
                        timestamp[key] = datetime.fromtimestamp(float(value[&#39;lastTimestamp&#39;]) - EPOCH_1958_1970)
                        # exception[key] = value[&#39;lastException&#39;]

                    if values != self.previous_values:
                        self.alert_values_status_signal.emit(values)
                    
                    self.previous_values = values
                    
                    if running != self.previous_status:
                        self.alert_status_change_signal.emit(running)

                    self.previous_status = running

                    if sensors != self.previous_sensors:
                        self.alert_sensor_status_signal.emit(sensors)
                    
                    self.previous_sensors = sensors
                    
                    if timestamp != self.pervious_timestamp:
                        self.alert_timestamp_change_signal.emit(timestamp)
                    
                    self.pervious_timestamp = timestamp
                    
                    # if exception != self.previous_exception:
                    #     self.alert_exception_change_signal.emit(exception)
                        
                    # self.previous_exception = exception
                    
        except zmq.ZMQError as exc:
            raise exc</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.start_process"><code class="name flex">
<span>def <span class="ident">start_process</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_process(self):
    self.run()</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertMonitoringWorker.stop"><code class="name flex">
<span>def <span class="ident">stop</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stop(self):
    self.monitoring_socket.close()
    self.is_socket_connected = False
    
    self.active = False</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIController"><code class="flex name class">
<span>class <span class="ident">AlertUIController</span></span>
<span>(</span><span>model: <a title="egse.alert.alertman_ui.AlertUIModel" href="#egse.alert.alertman_ui.AlertUIModel">AlertUIModel</a>, view: <a title="egse.alert.alertman_ui.AlertUIView" href="#egse.alert.alertman_ui.AlertUIView">AlertUIView</a>)</span>
</code></dt>
<dd>
<div class="desc"><p>Helper class that provides a standard way to create an ABC using
inheritance.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlertUIController(Observer):
    def __init__(self, model: AlertUIModel, view: AlertUIView):
        self.model  = model
        self.view   = view
        self.view.addObserver(self)
        
    def update(self, changed_object):

        text = changed_object.text()

        if text == &#34;Reconnect&#34;:

            if changed_object.isChecked():

                logger.debug(&#34;Reconnecting the Alert manager model.&#34;)

                if self.model.reconnect():

                    self.view.set_connection_state(True)

                    if not self.model.has_commands():

                        self.model.load_commands()

                else:
                    self.view.reconnect_action.setChecked(False)
            else:

                logger.debug(&#34;Disconnecting the Alert manager model.&#34;)
                self.model.disconnect()
                self.view.set_connection_state(False)

        
    def do(self, actions):
        for action, value in actions.items():
            logger.debug(f&#39;do {action} with {value}&#39;)
            if action == &#39;load_new_configuration&#39;:
                self.model.load_configuration(value[0])
            if action == &#39;start_alert&#39;:
                self.model.start_alert(value[0])
            if action == &#39;stop_alert&#39;:
                self.model.stop_alert(value[0])
            if action == &#39;stop_all_alerts&#39;:
                self.model.stop_all_alerts()
            if action == &#39;start_all_alerts&#39;:
                self.model.start_all_alerts()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="egse.observer.Observer" href="../observer.html#egse.observer.Observer">Observer</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.alert.alertman_ui.AlertUIController.do"><code class="name flex">
<span>def <span class="ident">do</span></span>(<span>self, actions)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def do(self, actions):
    for action, value in actions.items():
        logger.debug(f&#39;do {action} with {value}&#39;)
        if action == &#39;load_new_configuration&#39;:
            self.model.load_configuration(value[0])
        if action == &#39;start_alert&#39;:
            self.model.start_alert(value[0])
        if action == &#39;stop_alert&#39;:
            self.model.stop_alert(value[0])
        if action == &#39;stop_all_alerts&#39;:
            self.model.stop_all_alerts()
        if action == &#39;start_all_alerts&#39;:
            self.model.start_all_alerts()</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIController.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self, changed_object)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self, changed_object):

    text = changed_object.text()

    if text == &#34;Reconnect&#34;:

        if changed_object.isChecked():

            logger.debug(&#34;Reconnecting the Alert manager model.&#34;)

            if self.model.reconnect():

                self.view.set_connection_state(True)

                if not self.model.has_commands():

                    self.model.load_commands()

            else:
                self.view.reconnect_action.setChecked(False)
        else:

            logger.debug(&#34;Disconnecting the Alert manager model.&#34;)
            self.model.disconnect()
            self.view.set_connection_state(False)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIModel"><code class="flex name class">
<span>class <span class="ident">AlertUIModel</span></span>
<span>(</span><span>mode)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlertUIModel:
    def __init__(self, mode):
        self.mode = mode
        
        if self.mode == &#39;proxy&#39;:
            try:
                self.alert_manager = AlertManagerProxy()
            except Exception as exc:
                raise exc
        elif self.mode == &#39;simulator&#39;:
            self.alert_manager = AlertManagerProxy()
        else:
            raise ValueError(f&#39;Unknown type of alert manager implementation passed into the model&#39;)

        if self.alert_manager is not None:
            logger.debug(f&#34;Alert manager controller initialized as {self.mode}&#34;)    
    
    def load_configuration(self, phase: str):
        with AlertManagerProxy() as am:
            am.load_configuration(phase)
    
    def start_alert(self, name):
        with AlertManagerProxy() as am:
            am.start_alert(name)

    def stop_alert(self, name):
        with AlertManagerProxy() as am:
            am.stop_alert(name)
    
    def stop_all_alerts(self):
        with AlertManagerProxy() as am:
            am.stop_alert(None)
 
    def start_all_alerts(self):
        with AlertManagerProxy() as am:
            am.start_alert(None)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="egse.alert.alertman_ui.AlertUIModel.load_configuration"><code class="name flex">
<span>def <span class="ident">load_configuration</span></span>(<span>self, phase: str)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_configuration(self, phase: str):
    with AlertManagerProxy() as am:
        am.load_configuration(phase)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIModel.start_alert"><code class="name flex">
<span>def <span class="ident">start_alert</span></span>(<span>self, name)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_alert(self, name):
    with AlertManagerProxy() as am:
        am.start_alert(name)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIModel.start_all_alerts"><code class="name flex">
<span>def <span class="ident">start_all_alerts</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_all_alerts(self):
    with AlertManagerProxy() as am:
        am.start_alert(None)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIModel.stop_alert"><code class="name flex">
<span>def <span class="ident">stop_alert</span></span>(<span>self, name)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stop_alert(self, name):
    with AlertManagerProxy() as am:
        am.stop_alert(name)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIModel.stop_all_alerts"><code class="name flex">
<span>def <span class="ident">stop_all_alerts</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stop_all_alerts(self):
    with AlertManagerProxy() as am:
        am.stop_alert(None)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView"><code class="flex name class">
<span>class <span class="ident">AlertUIView</span></span>
</code></dt>
<dd>
<div class="desc"><p>QMainWindow(parent: typing.Optional[QWidget] = None, flags: Union[Qt.WindowFlags, Qt.WindowType] = Qt.WindowFlags())</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlertUIView(QMainWindow, Observable):
    def __init__(self):
        super().__init__()
        self.setGeometry(600, 300, 100, 700)
        self.setWindowTitle(&#34;Alert Manager GUI&#34;)
        self.configuration = None
        self.phases = load_setup().gse.alert_manager.configuration.keys()
        self.alert_monitoring_thread = QThread(self)
        self.alert_monitoring_worker = AlertMonitoringWorker()
        self.alert_monitoring_worker.moveToThread(self.alert_monitoring_thread)
        
        self.alert_monitoring_worker.alert_phase_change_signal.connect(self.on_phase_change_signal)
        self.alert_monitoring_worker.alert_values_status_signal.connect(self.on_alert_value_status_signal)
        self.alert_monitoring_worker.alert_sensor_status_signal.connect(self.on_alert_sensor_status_signal)
        self.alert_monitoring_worker.alert_status_change_signal.connect(self.on_alert_status_change_signal)
        self.alert_monitoring_worker.alert_timestamp_change_signal.connect(self.on_alert_timestamp_change_signal)
        # self.alert_monitoring_worker.alert_exception_change_signal.connect(self.on_alert_exception_raised_signal)
        self.alert_monitoring_thread.started.connect(self.alert_monitoring_worker.start_process)
        
        self.alert_monitoring_thread.start()
    
        self.initUI()
        
    def initUI(self):
        self.groupbox = AlertWindow(self.configuration)  

        self.groupbox.pushButton_2.clicked.connect(self.start_all_alerts)
        self.groupbox.pushButton.clicked.connect(self.stop_all_alerts)        
           
        self.groupbox.comboBox.activated[str].connect(self.configuration_dialog)   
        self.setCentralWidget(self.groupbox)
    
    def configuration_dialog(self):
        sender = self.sender()
        phase = sender.currentText()
        msg = QMessageBox()
        msg.setIcon(QMessageBox.Question)
        msg.setText(f&#34;You are about to configure the alert manager for the {phase} phase&#34;)
        msg.setInformativeText(f&#34;Are you sure that you want to configure the alert manager for the {phase} phase?&#34;)
        msg.setWindowTitle(f&#34;Configuration confirmation&#34;)
        msg.setStandardButtons(QMessageBox.Ok | QMessageBox.Abort)

        retval = msg.exec_()
        if retval == QMessageBox.Ok:
            self.actionObservers({&#34;load_new_configuration&#34; : [phase]})
            self.load_new_phase(phase)
        else:
            self.groupbox.comboBox.setCurrentText(phase)
    
    def load_new_phase(self, phase):
        if phase != &#39;none&#39;:
            self.load_configuration(phase)
            self.alert_monitoring_worker.previous_phase = phase
            self.groupbox.initialize(self.configuration)
            
            for key in self.configuration.keys():
                self.groupbox.alerts[key].pushButton.clicked.connect(self.on_alert_pushbutton_clicked)
            
            self.alert_monitoring_worker.reset_monitor()
        else:
            self.alert_monitoring_worker.previous_phase = phase
            self.groupbox.initialize()
            self.alert_monitoring_worker.reset_monitor()
            
        self.setCentralWidget(self.groupbox)
                
    def start_all_alerts(self):
        self.actionObservers({&#34;start_all_alerts&#34; : []})
    
    def stop_all_alerts(self):
        self.actionObservers({&#34;stop_all_alerts&#34; : []})
    
    def load_configuration(self, phase):
        _, self.configuration = load_alert_configuration(phase)
    
    def on_alert_status_change_signal(self, monitoring_info: bool):
        for idx, (name, value) in enumerate(monitoring_info.items()):
            if value:
                self.groupbox.alerts[name].widget.set_color(1)
                icon = QIcon.fromTheme(&#34;media-playback-stop&#34;)
                self.groupbox.alerts[name].pushButton.setIcon(icon)
                self.groupbox.alerts[name].pushButton.setText(&#34;Stop&#34;)
            else:
                self.groupbox.alerts[name].widget.set_color(2)
                icon = QIcon.fromTheme(&#34;media-playback-start&#34;)
                self.groupbox.alerts[name].pushButton.setIcon(icon)
                self.groupbox.alerts[name].pushButton.setText(&#34;Start&#34;)
    
    def on_alert_timestamp_change_signal(self, monitoring_info):
        for idx, (name, value) in enumerate(monitoring_info.items()):
            self.groupbox.alerts[name].label_5.setText(f&#34;{value.strftime(&#39;%d/%m/%Y, %H:%M:%S&#39;)}&#34;)
    
    def on_alert_value_status_signal(self, monitoring_info: dict):
        for idx, (name, value) in enumerate(monitoring_info.items()):
            self.groupbox.alerts[name].label_2.setText(f&#34;Value: {float(value):2f}&#34;)
    
    def on_alert_sensor_status_signal(self, monitoring_info: dict):
        for idx, (name, state) in enumerate(monitoring_info.items()):
            if state[&#39;triggered&#39;]:
                if state[&#39;active&#39;]:
                    self.groupbox.alerts[name].widget.set_color(3)
                else:
                    self.groupbox.alerts[name].widget.set_color(2)

                self.groupbox.alerts[name].setStyleSheet(&#34;&#34;&#34;QGroupBox {border: 1px solid red;}&#34;&#34;&#34;)
            else:
                if state[&#39;active&#39;]:
                    self.groupbox.alerts[name].widget.set_color(1)
                else:
                    self.groupbox.alerts[name].widget.set_color(2)
                
                self.groupbox.alerts[name].setStyleSheet(&#39;fusion&#39;)
    
    def on_phase_change_signal(self, monitoring_info: dict):
        self.load_new_phase(monitoring_info)
        self.groupbox.comboBox.setCurrentText(monitoring_info)
    
    def on_alert_pushbutton_clicked(self):
        name = self.sender().parent().name
        text = self.sender().text()
        if text != &#34;Start&#34;:
            self.actionObservers({&#39;stop_alert&#39;: [name]})
        elif text != &#34;Stop&#34;:
            self.actionObservers({&#39;start_alert&#39; : [name]})</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QMainWindow</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
<li><a title="egse.observer.Observable" href="../observer.html#egse.observer.Observable">Observable</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.alert.alertman_ui.AlertUIView.configuration_dialog"><code class="name flex">
<span>def <span class="ident">configuration_dialog</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def configuration_dialog(self):
    sender = self.sender()
    phase = sender.currentText()
    msg = QMessageBox()
    msg.setIcon(QMessageBox.Question)
    msg.setText(f&#34;You are about to configure the alert manager for the {phase} phase&#34;)
    msg.setInformativeText(f&#34;Are you sure that you want to configure the alert manager for the {phase} phase?&#34;)
    msg.setWindowTitle(f&#34;Configuration confirmation&#34;)
    msg.setStandardButtons(QMessageBox.Ok | QMessageBox.Abort)

    retval = msg.exec_()
    if retval == QMessageBox.Ok:
        self.actionObservers({&#34;load_new_configuration&#34; : [phase]})
        self.load_new_phase(phase)
    else:
        self.groupbox.comboBox.setCurrentText(phase)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.initUI"><code class="name flex">
<span>def <span class="ident">initUI</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initUI(self):
    self.groupbox = AlertWindow(self.configuration)  

    self.groupbox.pushButton_2.clicked.connect(self.start_all_alerts)
    self.groupbox.pushButton.clicked.connect(self.stop_all_alerts)        
       
    self.groupbox.comboBox.activated[str].connect(self.configuration_dialog)   
    self.setCentralWidget(self.groupbox)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.load_configuration"><code class="name flex">
<span>def <span class="ident">load_configuration</span></span>(<span>self, phase)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_configuration(self, phase):
    _, self.configuration = load_alert_configuration(phase)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.load_new_phase"><code class="name flex">
<span>def <span class="ident">load_new_phase</span></span>(<span>self, phase)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_new_phase(self, phase):
    if phase != &#39;none&#39;:
        self.load_configuration(phase)
        self.alert_monitoring_worker.previous_phase = phase
        self.groupbox.initialize(self.configuration)
        
        for key in self.configuration.keys():
            self.groupbox.alerts[key].pushButton.clicked.connect(self.on_alert_pushbutton_clicked)
        
        self.alert_monitoring_worker.reset_monitor()
    else:
        self.alert_monitoring_worker.previous_phase = phase
        self.groupbox.initialize()
        self.alert_monitoring_worker.reset_monitor()
        
    self.setCentralWidget(self.groupbox)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.on_alert_pushbutton_clicked"><code class="name flex">
<span>def <span class="ident">on_alert_pushbutton_clicked</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_alert_pushbutton_clicked(self):
    name = self.sender().parent().name
    text = self.sender().text()
    if text != &#34;Start&#34;:
        self.actionObservers({&#39;stop_alert&#39;: [name]})
    elif text != &#34;Stop&#34;:
        self.actionObservers({&#39;start_alert&#39; : [name]})</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.on_alert_sensor_status_signal"><code class="name flex">
<span>def <span class="ident">on_alert_sensor_status_signal</span></span>(<span>self, monitoring_info: dict)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_alert_sensor_status_signal(self, monitoring_info: dict):
    for idx, (name, state) in enumerate(monitoring_info.items()):
        if state[&#39;triggered&#39;]:
            if state[&#39;active&#39;]:
                self.groupbox.alerts[name].widget.set_color(3)
            else:
                self.groupbox.alerts[name].widget.set_color(2)

            self.groupbox.alerts[name].setStyleSheet(&#34;&#34;&#34;QGroupBox {border: 1px solid red;}&#34;&#34;&#34;)
        else:
            if state[&#39;active&#39;]:
                self.groupbox.alerts[name].widget.set_color(1)
            else:
                self.groupbox.alerts[name].widget.set_color(2)
            
            self.groupbox.alerts[name].setStyleSheet(&#39;fusion&#39;)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.on_alert_status_change_signal"><code class="name flex">
<span>def <span class="ident">on_alert_status_change_signal</span></span>(<span>self, monitoring_info: bool)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_alert_status_change_signal(self, monitoring_info: bool):
    for idx, (name, value) in enumerate(monitoring_info.items()):
        if value:
            self.groupbox.alerts[name].widget.set_color(1)
            icon = QIcon.fromTheme(&#34;media-playback-stop&#34;)
            self.groupbox.alerts[name].pushButton.setIcon(icon)
            self.groupbox.alerts[name].pushButton.setText(&#34;Stop&#34;)
        else:
            self.groupbox.alerts[name].widget.set_color(2)
            icon = QIcon.fromTheme(&#34;media-playback-start&#34;)
            self.groupbox.alerts[name].pushButton.setIcon(icon)
            self.groupbox.alerts[name].pushButton.setText(&#34;Start&#34;)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.on_alert_timestamp_change_signal"><code class="name flex">
<span>def <span class="ident">on_alert_timestamp_change_signal</span></span>(<span>self, monitoring_info)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_alert_timestamp_change_signal(self, monitoring_info):
    for idx, (name, value) in enumerate(monitoring_info.items()):
        self.groupbox.alerts[name].label_5.setText(f&#34;{value.strftime(&#39;%d/%m/%Y, %H:%M:%S&#39;)}&#34;)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.on_alert_value_status_signal"><code class="name flex">
<span>def <span class="ident">on_alert_value_status_signal</span></span>(<span>self, monitoring_info: dict)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_alert_value_status_signal(self, monitoring_info: dict):
    for idx, (name, value) in enumerate(monitoring_info.items()):
        self.groupbox.alerts[name].label_2.setText(f&#34;Value: {float(value):2f}&#34;)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.on_phase_change_signal"><code class="name flex">
<span>def <span class="ident">on_phase_change_signal</span></span>(<span>self, monitoring_info: dict)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def on_phase_change_signal(self, monitoring_info: dict):
    self.load_new_phase(monitoring_info)
    self.groupbox.comboBox.setCurrentText(monitoring_info)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.start_all_alerts"><code class="name flex">
<span>def <span class="ident">start_all_alerts</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def start_all_alerts(self):
    self.actionObservers({&#34;start_all_alerts&#34; : []})</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertUIView.stop_all_alerts"><code class="name flex">
<span>def <span class="ident">stop_all_alerts</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stop_all_alerts(self):
    self.actionObservers({&#34;stop_all_alerts&#34; : []})</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="egse.alert.alertman_ui.AlertWidget"><code class="flex name class">
<span>class <span class="ident">AlertWidget</span></span>
<span>(</span><span>configuration)</span>
</code></dt>
<dd>
<div class="desc"><p>QGroupBox(parent: typing.Optional[QWidget] = None)
QGroupBox(title: str, parent: typing.Optional[QWidget] = None)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlertWidget(QGroupBox):
    def __init__(self, configuration):
        super().__init__()
        self.name = configuration.name
        
        self.setMaximumSize(400, 120)
        self.setMinimumSize(350, 100)
        self.verticalLayout = QVBoxLayout(self)
        self.verticalLayout.setObjectName(&#34;verticalLayout&#34;)
        self.horizontalLayout = QHBoxLayout()
        self.horizontalLayout.setObjectName(&#34;horizontalLayout&#34;)
        self.widget = Led(self)
        self.widget.setMinimumSize(25, 25)
        self.widget.setMaximumSize(25, 25)
        self.widget.setObjectName(&#34;widget&#34;)
        self.horizontalLayout.addWidget(self.widget)
        self.verticalLayout_2 = QVBoxLayout()
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.label = QLabel(self)
        self.label.setText(f&#34;&lt;b&gt;{configuration.name}&lt;/b&gt;&#34;)
        self.label.setMinimumSize(200, 0)
        self.label.setObjectName(&#34;label&#34;)
        self.verticalLayout_2.addWidget(self.label)
        self.horizontalLayout_2 = QHBoxLayout()
        self.horizontalLayout_2.setObjectName(&#34;horizontalLayout_2&#34;)
        self.label_2 = QLabel(self)
        self.label_2.setText(&#34;[Current value]&#34;)
        self.label_2.setMinimumSize(100, 0)
        self.label_2.setObjectName(&#34;label_2&#34;)
        self.horizontalLayout_2.addWidget(self.label_2)
        self.label_3 = QLabel(self)
        self.label_3.setText(f&#34;{configuration.unit}&#34;)
        self.label_3.setObjectName(&#34;label_3&#34;)
        self.horizontalLayout_2.addWidget(self.label_3)
        self.verticalLayout_2.addLayout(self.horizontalLayout_2)
        self.label_4 = QLabel(self)  

        if configuration.alert_type == 0:
            if configuration.limits[&#39;min&#39;] and configuration.limits[&#39;max&#39;]:
                self.label_4.setText(f&#34;Min: {configuration.limits[&#39;min&#39;]}, Max: {configuration.limits[&#39;max&#39;]}&#34;)
            else:   
                if configuration.limits[&#39;min&#39;]:
                    self.label_4.setText(f&#34;Min: {configuration.limits[&#39;min&#39;]}&#34;)
                if configuration.limits[&#39;max&#39;]:
                    self.label_4.setText(f&#34;Max: {configuration.limits[&#39;max&#39;]}&#34;)
                
        if configuration.alert_type == 2:
            self.label_4.setText(f&#34;Rate of change: {configuration.limits[&#39;limit&#39;]}&#34;)
            
        self.label_4.setObjectName(&#34;label_4&#34;)
        self.verticalLayout_2.addWidget(self.label_4)
         
        self.label_5 = QLabel(self)
        self.label_5.setText(&#34;00:00:00 00-00-00&#34;)
        self.verticalLayout_2.addWidget(self.label_5)

        self.horizontalLayout.addLayout(self.verticalLayout_2)
        spacerItem = QSpacerItem(40, 20, QSizePolicy.Expanding, QSizePolicy.Minimum)
        self.horizontalLayout.addItem(spacerItem)
        self.verticalLayout_3 = QVBoxLayout()
        self.verticalLayout_3.setObjectName(&#34;verticalLayout_3&#34;)
        spacerItem1 = QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.verticalLayout_3.addItem(spacerItem1)
        self.pushButton = QPushButton(self)
        self.pushButton.setText(&#34;Start&#34;)
        self.pushButton.setMinimumSize(100, 0)
        icon = QIcon.fromTheme(&#34;media-playback-start&#34;)
        self.pushButton.setIcon(icon)
        self.pushButton.setObjectName(&#34;pushButton&#34;)
        self.verticalLayout_3.addWidget(self.pushButton)
        self.horizontalLayout.addLayout(self.verticalLayout_3)
        self.verticalLayout.addLayout(self.horizontalLayout)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QGroupBox</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
</dd>
<dt id="egse.alert.alertman_ui.AlertWindow"><code class="flex name class">
<span>class <span class="ident">AlertWindow</span></span>
<span>(</span><span>configuration)</span>
</code></dt>
<dd>
<div class="desc"><p>QGroupBox(parent: typing.Optional[QWidget] = None)
QGroupBox(title: str, parent: typing.Optional[QWidget] = None)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AlertWindow(QGroupBox):
    def __init__(self, configuration):
        super().__init__()
        self.configuration = configuration
        self._phases = load_setup().gse.alert_manager.configuration
        self.alerts = {}
        self.verticalLayout = QVBoxLayout(self)
        self.verticalLayout.setObjectName(&#34;verticalLayout&#34;)
        self.horizontalLayout_2 = QHBoxLayout()
        self.horizontalLayout_2.setObjectName(&#34;horizontalLayout_2&#34;)
        self.pushButton_2 = QPushButton(self)
        self.pushButton_2.setMaximumSize(QSize(90, 16777215))
        self.pushButton_2.setMinimumSize(QSize(90, 0))
        icon = QIcon.fromTheme(&#34;media-playback-start&#34;)
        self.pushButton_2.setIcon(icon)
        self.pushButton_2.setObjectName(&#34;pushButton_2&#34;)
        self.pushButton_2.setText(&#34;Start&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton_2)
        self.pushButton = QPushButton(self)
        self.pushButton.setMaximumSize(QSize(90, 16777215))
        self.pushButton.setMinimumSize(QSize(90, 0))
        icon = QIcon.fromTheme(&#34;media-playback-stop&#34;)
        self.pushButton.setIcon(icon)
        self.pushButton.setObjectName(&#34;pushButton&#34;)
        self.pushButton.setText(&#34;Stop&#34;)
        self.horizontalLayout_2.addWidget(self.pushButton)
        spacerItem = QSpacerItem(40, 20, QSizePolicy.Expanding, QSizePolicy.Minimum)
        self.horizontalLayout_2.addItem(spacerItem)
        self.pushButton_3 = QPushButton(self)
        self.pushButton_3.setText(&#34;Clear FDIR&#34;)
        self.pushButton_3.setMaximumSize(QSize(90, 16777215))
        self.pushButton_3.setMinimumSize(QSize(90, 0))
        icon = QIcon.fromTheme(&#39;edit-clear-all-symbolic&#39;)
        self.pushButton_3.setIcon(icon)
        self.horizontalLayout_2.addWidget(self.pushButton_3)
        self.comboBox = QComboBox(self)
        self.comboBox.setMinimumSize(QSize(90, 0))
        self.comboBox.setObjectName(&#34;comboBox&#34;)
        self.comboBox.addItem(&#39;none&#39;)
        self.comboBox.addItems([phase for phase in self._phases.keys()])
        # self.comboBox.addItems([&#39;none&#39;, &#39;warm&#39;, &#39;transition&#39;, &#39;cold&#39;]) 
        self.horizontalLayout_2.addWidget(self.comboBox)
        self.verticalLayout.addLayout(self.horizontalLayout_2)
        self.scrollArea = QScrollArea(self)
        self.scrollArea.setWidgetResizable(True)
        self.scrollArea.setObjectName(&#34;scrollArea&#34;)
        self.scrollArea.setMinimumWidth(420)
        self.scrollArea.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)
        self.scrollAreaWidgetContents_3 = QWidget()
        self.scrollAreaWidgetContents_3.setGeometry(QRect(0, 0, 350, 700))
        self.scrollAreaWidgetContents_3.setObjectName(&#34;scrollAreaWidgetContents_3&#34;)
        self.verticalLayout_2 = QVBoxLayout(self.scrollAreaWidgetContents_3)
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.gridLayout = QGridLayout()
        self.gridLayout.setObjectName(&#34;gridLayout&#34;)
        self.verticalLayout_2.addLayout(self.gridLayout)
        self.scrollArea.setWidget(self.scrollAreaWidgetContents_3)
        self.setLayout(self.verticalLayout)   

        self.initialize(self.configuration)
        
    def initialize(self, config=None):
        if config != None:
            self.configuration = config
            self.alerts = {}
            for idx, (key, config) in enumerate(self.configuration.items()):
                self.alerts[key] = AlertWidget(config)
            self.drawScrollArea()
            self.resizeScrollArea()
        else:
            self.drawScrollArea()
    
    def drawScrollArea(self):
        # if self.configuration != None:
        self.verticalLayout.removeWidget(self.scrollArea)
        self.scrollArea = QScrollArea(self)
        self.scrollArea.setWidgetResizable(True)
        self.scrollArea.setObjectName(&#34;scrollArea&#34;)
        self.scrollArea.setMinimumWidth(420)
        self.scrollArea.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)
        self.scrollAreaWidgetContents_3 = QWidget()
        self.scrollAreaWidgetContents_3.setGeometry(QRect(0, 0, 350, 700))
        self.scrollAreaWidgetContents_3.setObjectName(&#34;scrollAreaWidgetContents_3&#34;)
        self.verticalLayout_2 = QVBoxLayout(self.scrollAreaWidgetContents_3)
        self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
        self.gridLayout = QGridLayout()
        self.gridLayout.setObjectName(&#34;gridLayout&#34;)
        self.verticalLayout_2.addLayout(self.gridLayout)
        self.scrollArea.setWidget(self.scrollAreaWidgetContents_3)
        self.verticalLayout.insertWidget(1, self.scrollArea)
    
    def resizeScrollArea(self):   
        width = self.parent().frameGeometry().width()
        
        widget_width    = 350
        
        num_cols = int(width / widget_width)

        row     = 0
        column  = 0    
        
        if len(self.alerts) == 0:
            return
        
        for idx, value in enumerate(self.alerts.values()):
            if column &gt;= num_cols and (column % num_cols) == 0:
                row += 1
            self.gridLayout.addWidget(value, row, column % num_cols)
            column += 1

            
        spacerItem_2 = QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding)
        self.gridLayout.addItem(spacerItem_2)   
           
    def resizeEvent(self, a0: QResizeEvent) -&gt; None:
        self.resizeScrollArea()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QGroupBox</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.alert.alertman_ui.AlertWindow.drawScrollArea"><code class="name flex">
<span>def <span class="ident">drawScrollArea</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def drawScrollArea(self):
    # if self.configuration != None:
    self.verticalLayout.removeWidget(self.scrollArea)
    self.scrollArea = QScrollArea(self)
    self.scrollArea.setWidgetResizable(True)
    self.scrollArea.setObjectName(&#34;scrollArea&#34;)
    self.scrollArea.setMinimumWidth(420)
    self.scrollArea.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)
    self.scrollAreaWidgetContents_3 = QWidget()
    self.scrollAreaWidgetContents_3.setGeometry(QRect(0, 0, 350, 700))
    self.scrollAreaWidgetContents_3.setObjectName(&#34;scrollAreaWidgetContents_3&#34;)
    self.verticalLayout_2 = QVBoxLayout(self.scrollAreaWidgetContents_3)
    self.verticalLayout_2.setObjectName(&#34;verticalLayout_2&#34;)
    self.gridLayout = QGridLayout()
    self.gridLayout.setObjectName(&#34;gridLayout&#34;)
    self.verticalLayout_2.addLayout(self.gridLayout)
    self.scrollArea.setWidget(self.scrollAreaWidgetContents_3)
    self.verticalLayout.insertWidget(1, self.scrollArea)</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertWindow.initialize"><code class="name flex">
<span>def <span class="ident">initialize</span></span>(<span>self, config=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def initialize(self, config=None):
    if config != None:
        self.configuration = config
        self.alerts = {}
        for idx, (key, config) in enumerate(self.configuration.items()):
            self.alerts[key] = AlertWidget(config)
        self.drawScrollArea()
        self.resizeScrollArea()
    else:
        self.drawScrollArea()</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertWindow.resizeEvent"><code class="name flex">
<span>def <span class="ident">resizeEvent</span></span>(<span>self, a0: PyQt5.QtGui.QResizeEvent) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>resizeEvent(self, a0: typing.Optional[QResizeEvent])</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def resizeEvent(self, a0: QResizeEvent) -&gt; None:
    self.resizeScrollArea()</code></pre>
</details>
</dd>
<dt id="egse.alert.alertman_ui.AlertWindow.resizeScrollArea"><code class="name flex">
<span>def <span class="ident">resizeScrollArea</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def resizeScrollArea(self):   
    width = self.parent().frameGeometry().width()
    
    widget_width    = 350
    
    num_cols = int(width / widget_width)

    row     = 0
    column  = 0    
    
    if len(self.alerts) == 0:
        return
    
    for idx, value in enumerate(self.alerts.values()):
        if column &gt;= num_cols and (column % num_cols) == 0:
            row += 1
        self.gridLayout.addWidget(value, row, column % num_cols)
        column += 1

        
    spacerItem_2 = QSpacerItem(20, 40, QSizePolicy.Minimum, QSizePolicy.Expanding)
    self.gridLayout.addItem(spacerItem_2)   </code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="egse.alert" href="index.html">egse.alert</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="egse.alert.alertman_ui.main" href="#egse.alert.alertman_ui.main">main</a></code></li>
<li><code><a title="egse.alert.alertman_ui.parse_arguments" href="#egse.alert.alertman_ui.parse_arguments">parse_arguments</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker" href="#egse.alert.alertman_ui.AlertMonitoringWorker">AlertMonitoringWorker</a></code></h4>
<ul class="">
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.alert_fdir_status_signal" href="#egse.alert.alertman_ui.AlertMonitoringWorker.alert_fdir_status_signal">alert_fdir_status_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.alert_phase_change_signal" href="#egse.alert.alertman_ui.AlertMonitoringWorker.alert_phase_change_signal">alert_phase_change_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.alert_sensor_status_signal" href="#egse.alert.alertman_ui.AlertMonitoringWorker.alert_sensor_status_signal">alert_sensor_status_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.alert_status_change_signal" href="#egse.alert.alertman_ui.AlertMonitoringWorker.alert_status_change_signal">alert_status_change_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.alert_timestamp_change_signal" href="#egse.alert.alertman_ui.AlertMonitoringWorker.alert_timestamp_change_signal">alert_timestamp_change_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.alert_values_status_signal" href="#egse.alert.alertman_ui.AlertMonitoringWorker.alert_values_status_signal">alert_values_status_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.connect_socket" href="#egse.alert.alertman_ui.AlertMonitoringWorker.connect_socket">connect_socket</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.reset_monitor" href="#egse.alert.alertman_ui.AlertMonitoringWorker.reset_monitor">reset_monitor</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.run" href="#egse.alert.alertman_ui.AlertMonitoringWorker.run">run</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.start_process" href="#egse.alert.alertman_ui.AlertMonitoringWorker.start_process">start_process</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertMonitoringWorker.stop" href="#egse.alert.alertman_ui.AlertMonitoringWorker.stop">stop</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.alert.alertman_ui.AlertUIController" href="#egse.alert.alertman_ui.AlertUIController">AlertUIController</a></code></h4>
<ul class="">
<li><code><a title="egse.alert.alertman_ui.AlertUIController.do" href="#egse.alert.alertman_ui.AlertUIController.do">do</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIController.update" href="#egse.alert.alertman_ui.AlertUIController.update">update</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.alert.alertman_ui.AlertUIModel" href="#egse.alert.alertman_ui.AlertUIModel">AlertUIModel</a></code></h4>
<ul class="">
<li><code><a title="egse.alert.alertman_ui.AlertUIModel.load_configuration" href="#egse.alert.alertman_ui.AlertUIModel.load_configuration">load_configuration</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIModel.start_alert" href="#egse.alert.alertman_ui.AlertUIModel.start_alert">start_alert</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIModel.start_all_alerts" href="#egse.alert.alertman_ui.AlertUIModel.start_all_alerts">start_all_alerts</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIModel.stop_alert" href="#egse.alert.alertman_ui.AlertUIModel.stop_alert">stop_alert</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIModel.stop_all_alerts" href="#egse.alert.alertman_ui.AlertUIModel.stop_all_alerts">stop_all_alerts</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.alert.alertman_ui.AlertUIView" href="#egse.alert.alertman_ui.AlertUIView">AlertUIView</a></code></h4>
<ul class="">
<li><code><a title="egse.alert.alertman_ui.AlertUIView.configuration_dialog" href="#egse.alert.alertman_ui.AlertUIView.configuration_dialog">configuration_dialog</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.initUI" href="#egse.alert.alertman_ui.AlertUIView.initUI">initUI</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.load_configuration" href="#egse.alert.alertman_ui.AlertUIView.load_configuration">load_configuration</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.load_new_phase" href="#egse.alert.alertman_ui.AlertUIView.load_new_phase">load_new_phase</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.on_alert_pushbutton_clicked" href="#egse.alert.alertman_ui.AlertUIView.on_alert_pushbutton_clicked">on_alert_pushbutton_clicked</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.on_alert_sensor_status_signal" href="#egse.alert.alertman_ui.AlertUIView.on_alert_sensor_status_signal">on_alert_sensor_status_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.on_alert_status_change_signal" href="#egse.alert.alertman_ui.AlertUIView.on_alert_status_change_signal">on_alert_status_change_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.on_alert_timestamp_change_signal" href="#egse.alert.alertman_ui.AlertUIView.on_alert_timestamp_change_signal">on_alert_timestamp_change_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.on_alert_value_status_signal" href="#egse.alert.alertman_ui.AlertUIView.on_alert_value_status_signal">on_alert_value_status_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.on_phase_change_signal" href="#egse.alert.alertman_ui.AlertUIView.on_phase_change_signal">on_phase_change_signal</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.start_all_alerts" href="#egse.alert.alertman_ui.AlertUIView.start_all_alerts">start_all_alerts</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertUIView.stop_all_alerts" href="#egse.alert.alertman_ui.AlertUIView.stop_all_alerts">stop_all_alerts</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="egse.alert.alertman_ui.AlertWidget" href="#egse.alert.alertman_ui.AlertWidget">AlertWidget</a></code></h4>
</li>
<li>
<h4><code><a title="egse.alert.alertman_ui.AlertWindow" href="#egse.alert.alertman_ui.AlertWindow">AlertWindow</a></code></h4>
<ul class="">
<li><code><a title="egse.alert.alertman_ui.AlertWindow.drawScrollArea" href="#egse.alert.alertman_ui.AlertWindow.drawScrollArea">drawScrollArea</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertWindow.initialize" href="#egse.alert.alertman_ui.AlertWindow.initialize">initialize</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertWindow.resizeEvent" href="#egse.alert.alertman_ui.AlertWindow.resizeEvent">resizeEvent</a></code></li>
<li><code><a title="egse.alert.alertman_ui.AlertWindow.resizeScrollArea" href="#egse.alert.alertman_ui.AlertWindow.resizeScrollArea">resizeScrollArea</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>