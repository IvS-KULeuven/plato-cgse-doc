<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>egse.gui.states API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>egse.gui.states</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import random
import sys
from typing import List
from typing import Optional
from typing import Union

from PyQt5.QtWidgets import QApplication
from PyQt5.QtWidgets import QGroupBox
from PyQt5.QtWidgets import QHBoxLayout
from PyQt5.QtWidgets import QLabel
from PyQt5.QtWidgets import QMainWindow
from PyQt5.QtWidgets import QPushButton
from PyQt5.QtWidgets import QVBoxLayout
from PyQt5.QtWidgets import QWidget

from egse.gui.led import Indic
from egse.gui.led import LED
from egse.gui.led import ShapeEnum


class States(QGroupBox):

    def __init__(self, states: List[List],
                 title: Optional[str] = &#34;States&#34;,
                 shape: ShapeEnum = ShapeEnum.CIRCLE,
                 parent: QWidget = None):
        &#34;&#34;&#34;
        Args:
            states (List[List]): description and default LED color for all states
            shape (ShapeEnum): the shape of the LEDs
            parent (QWidget): the parent widget
        &#34;&#34;&#34;
        super().__init__(parent)

        self.leds = []

        vbox = QVBoxLayout()

        for state in states:
            description, default = state

            self.leds.append([led := LED(shape=shape, parent=parent), default, description])

            led.set_color(default)

            # Create a hbox where the led and the label is added, then add this hbox to the
            # states vbox.

            hbox = QHBoxLayout()
            hbox.addWidget(led)
            hbox.addWidget(QLabel(description))

            # Add the corresponding hbox to the states vbox

            vbox.addLayout(hbox)

        # Make sure the hboxes stay nicely together when vertically resizing the Frame.

        vbox.addStretch()

        self.setTitle(title)
        self.setLayout(vbox)

    def __len__(self):
        return len(self.leds)

    def set_states(self, states: Union[List, int]):

        if isinstance(states, int):
            # States can take True or False in which case the default color will be used or
            # Indic.OFF

            count = len(self.leds)

            # Reverse the bit order to match the states with the bits in the states integer

            states = [int(x) for x in f&#34;{states:0{count}b}&#34;[::-1]]
            for led, state in zip(self.leds, states):
                led[0].set_color(led[1] if state else Indic.OFF)

        else:
            # State can take different values
            for led, state in zip(self.leds, states):
                if isinstance(state, bool):
                    color = led[1] if state else Indic.OFF
                else:
                    color = state
                led[0].set_color(color)

    def reset_states(self):
        for led in self.leds:
            led[0].set_color(led[1])


if __name__ == &#34;__main__&#34;:

    class MainWindow(QMainWindow):
        def __init__(self):
            super().__init__()

            main = QWidget()
            vbox = QVBoxLayout()

            self.states = States([
                [&#34;Active [G]&#34;, Indic.GREEN],
                [&#34;Danger [O]&#34;, Indic.ORANGE],
                [&#34;Error  [R]&#34;, Indic.RED],
            ], shape=ShapeEnum.CIRCLE)

            update_button = QPushButton(&#34;Update States&#34;)
            update_button.clicked.connect(lambda: self.update_states())

            reset_button = QPushButton(&#34;Reset States&#34;)
            reset_button.clicked.connect(self.reset_states)

            set_button = QPushButton(&#34;Set States to random value&#34;)
            set_button.clicked.connect(
                lambda: self.update_states(random.choice(range(8))))

            hbox = QHBoxLayout()
            hbox.addWidget(update_button)
            hbox.addWidget(reset_button)
            hbox.addWidget(set_button)

            vbox.addWidget(self.states)
            vbox.addLayout(hbox)

            main.setLayout(vbox)
            self.setCentralWidget(main)

        def update_states(self, states: int = None):
            if states is None:
                new_states = [random.choice([Indic.GREEN, Indic.BLACK, Indic.RED, Indic.ORANGE])
                              for _ in range(len(self.states))]
                print(new_states)
            else:
                new_states = states
                print(f&#34;{states:03b}&#34;)

            self.states.set_states(new_states)

        def reset_states(self):
            self.states.reset_states()

    app = QApplication(sys.argv)
    window = MainWindow()
    window.show()
    app.exec()</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="egse.gui.states.States"><code class="flex name class">
<span>class <span class="ident">States</span></span>
<span>(</span><span>states: List[List[~T]], title: Optional[str] = 'States', shape: <a title="egse.gui.led.ShapeEnum" href="led.html#egse.gui.led.ShapeEnum">ShapeEnum</a> = ShapeEnum.CIRCLE, parent: PyQt5.QtWidgets.QWidget = None)</span>
</code></dt>
<dd>
<div class="desc"><p>QGroupBox(parent: QWidget = None)
QGroupBox(str, parent: QWidget = None)</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>states</code></strong> :&ensp;<code>List[List]</code></dt>
<dd>description and default LED color for all states</dd>
<dt><strong><code>shape</code></strong> :&ensp;<code>ShapeEnum</code></dt>
<dd>the shape of the LEDs</dd>
<dt><strong><code>parent</code></strong> :&ensp;<code>QWidget</code></dt>
<dd>the parent widget</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class States(QGroupBox):

    def __init__(self, states: List[List],
                 title: Optional[str] = &#34;States&#34;,
                 shape: ShapeEnum = ShapeEnum.CIRCLE,
                 parent: QWidget = None):
        &#34;&#34;&#34;
        Args:
            states (List[List]): description and default LED color for all states
            shape (ShapeEnum): the shape of the LEDs
            parent (QWidget): the parent widget
        &#34;&#34;&#34;
        super().__init__(parent)

        self.leds = []

        vbox = QVBoxLayout()

        for state in states:
            description, default = state

            self.leds.append([led := LED(shape=shape, parent=parent), default, description])

            led.set_color(default)

            # Create a hbox where the led and the label is added, then add this hbox to the
            # states vbox.

            hbox = QHBoxLayout()
            hbox.addWidget(led)
            hbox.addWidget(QLabel(description))

            # Add the corresponding hbox to the states vbox

            vbox.addLayout(hbox)

        # Make sure the hboxes stay nicely together when vertically resizing the Frame.

        vbox.addStretch()

        self.setTitle(title)
        self.setLayout(vbox)

    def __len__(self):
        return len(self.leds)

    def set_states(self, states: Union[List, int]):

        if isinstance(states, int):
            # States can take True or False in which case the default color will be used or
            # Indic.OFF

            count = len(self.leds)

            # Reverse the bit order to match the states with the bits in the states integer

            states = [int(x) for x in f&#34;{states:0{count}b}&#34;[::-1]]
            for led, state in zip(self.leds, states):
                led[0].set_color(led[1] if state else Indic.OFF)

        else:
            # State can take different values
            for led, state in zip(self.leds, states):
                if isinstance(state, bool):
                    color = led[1] if state else Indic.OFF
                else:
                    color = state
                led[0].set_color(color)

    def reset_states(self):
        for led in self.leds:
            led[0].set_color(led[1])</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>PyQt5.QtWidgets.QGroupBox</li>
<li>PyQt5.QtWidgets.QWidget</li>
<li>PyQt5.QtCore.QObject</li>
<li>sip.wrapper</li>
<li>PyQt5.QtGui.QPaintDevice</li>
<li>sip.simplewrapper</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="egse.gui.states.States.reset_states"><code class="name flex">
<span>def <span class="ident">reset_states</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset_states(self):
    for led in self.leds:
        led[0].set_color(led[1])</code></pre>
</details>
</dd>
<dt id="egse.gui.states.States.set_states"><code class="name flex">
<span>def <span class="ident">set_states</span></span>(<span>self, states: Union[List[~T], int])</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_states(self, states: Union[List, int]):

    if isinstance(states, int):
        # States can take True or False in which case the default color will be used or
        # Indic.OFF

        count = len(self.leds)

        # Reverse the bit order to match the states with the bits in the states integer

        states = [int(x) for x in f&#34;{states:0{count}b}&#34;[::-1]]
        for led, state in zip(self.leds, states):
            led[0].set_color(led[1] if state else Indic.OFF)

    else:
        # State can take different values
        for led, state in zip(self.leds, states):
            if isinstance(state, bool):
                color = led[1] if state else Indic.OFF
            else:
                color = state
            led[0].set_color(color)</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="egse.gui" href="index.html">egse.gui</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="egse.gui.states.States" href="#egse.gui.states.States">States</a></code></h4>
<ul class="">
<li><code><a title="egse.gui.states.States.reset_states" href="#egse.gui.states.States.reset_states">reset_states</a></code></li>
<li><code><a title="egse.gui.states.States.set_states" href="#egse.gui.states.States.set_states">set_states</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>